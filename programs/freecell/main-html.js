'use strict';(function(){function p(a,b){function c(){}c.prototype=a;var e=new c,s;for(s in b)e[s]=b[s];b.toString!==Object.prototype.toString&&(e.toString=b.toString);return e}function Ze(a){return a instanceof Array?function(){return z.iter(a)}:"function"==typeof a.iterator?B(a,a.iterator):a.iterator}function B(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=vg++);var c;null==a.hx__closures__?a.hx__closures__={}:c=a.hx__closures__[b.__id__];null==c&&(c=function(){return c.method.apply(c.scope,arguments)},c.scope=a,c.method=b,a.hx__closures__[b.__id__]=c);return c}var f={},Aa=function(){};f.DateTools=Aa;Aa.__name__=["DateTools"];Aa.__format_get=function(a,b){switch(b){case "%":return"%";case "C":return M.lpad(v.string(v["int"](a.getFullYear()/100)),"0",2);case "d":return M.lpad(v.string(a.getDate()),"0",2);case "D":return Aa.__format(a,"%m/%d/%y");case "e":return v.string(a.getDate());case "F":return Aa.__format(a,"%Y-%m-%d");case "H":case "k":return M.lpad(v.string(a.getHours()),"H"==b?"0":" ",2);case "I":case "l":var c=a.getHours()%12;return M.lpad(v.string(0==c?12:c),"I"==b?"0":" ",2);case "m":return M.lpad(v.string(a.getMonth()+1),"0",2);case "M":return M.lpad(v.string(a.getMinutes()),"0",2);case "n":return"\n";case "p":return 11<a.getHours()?"PM":"AM";case "r":return Aa.__format(a,"%I:%M:%S %p");case "R":return Aa.__format(a,"%H:%M");case "s":return v.string(v["int"](a.getTime()/1E3));case "S":return M.lpad(v.string(a.getSeconds()),"0",2);case "t":return"\t";case "T":return Aa.__format(a,"%H:%M:%S");case "u":return c=a.getDay(),0==c?"7":null==c?"null":""+c;case "w":return v.string(a.getDay());case "y":return M.lpad(v.string(a.getFullYear()%100),"0",2);case "Y":return v.string(a.getFullYear());default:throw new o("Date.format %"+b+"- not implemented yet.");}};Aa.__format=function(a,b){for(var c=new Ba,e=0;;){var s=b.indexOf("%",e);if(0>s)break;c.addSub(b,e,s-e);c.add(Aa.__format_get(a,z.substr(b,s+1,1)));e=s+2}c.addSub(b,e,b.length-e);return c.b};Aa.format=function(a,b){return Aa.__format(a,b)};var Ga=function(a,b){b=b.split("u").join("");this.r=RegExp(a,b)};f.EReg=Ga;Ga.__name__=["EReg"];Ga.prototype={match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)return this.r.m[a];throw new o("EReg::matched");},matchedPos:function(){if(null==this.r.m)throw new o("No string matched");return{pos:this.r.m.index,len:this.r.m[0].length}},__class__:Ga};var z=function(){};f.HxOverrides=z;z.__name__=["HxOverrides"];z.dateStr=function(a){var b=a.getMonth()+1,c=a.getDate(),e=a.getHours(),s=a.getMinutes(),d=a.getSeconds();return a.getFullYear()+"-"+(10>b?"0"+b:""+b)+"-"+(10>c?"0"+c:""+c)+" "+(10>e?"0"+e:""+e)+":"+(10>s?"0"+s:""+s)+":"+(10>d?"0"+d:""+d)};z.strDate=function(a){switch(a.length){case 8:var a=a.split(":"),b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);return b;case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return b=a.split(" "),a=b[0].split("-"),b=b[1].split(":"),new Date(a[0],a[1]-1,a[2],b[0],b[1],b[2]);default:throw new o("Invalid date format : "+a);}};z.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};z.substr=function(a,b,c){if(null!=b&&0!=b&&null!=c&&0>c)return"";null==c&&(c=a.length);0>b?(b=a.length+b,0>b&&(b=0)):0>c&&(c=a.length+c-b);return a.substr(b,c)};z.remove=function(a,b){var c=a.indexOf(b);if(-1==c)return!1;a.splice(c,1);return!0};z.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var Nb=function(){};f.Lambda=Nb;Nb.__name__=["Lambda"];Nb.array=function(a){for(var b=[],a=Ze(a)();a.hasNext();){var c=a.next();b.push(c)}return b};Nb.exists=function(a,b){for(var c=Ze(a)();c.hasNext();){var e=c.next();if(b(e))return!0}return!1};Nb.count=function(a,b){var c=0;if(null==b)for(var e=Ze(a)();e.hasNext();)e.next(),c++;else for(e=Ze(a)();e.hasNext();){var s=e.next();b(s)&&c++}return c};var ub=function(){this.length=0};f.List=ub;ub.__name__=["List"];ub.prototype={add:function(a){a=[a];null==this.h?this.h=a:this.q[1]=a;this.q=a;this.length++},push:function(a){this.h=a=[a,this.h];null==this.q&&(this.q=a);this.length++},iterator:function(){return new Ed(this.h)},__class__:ub};var Ed=function(a){this.head=a;this.val=null};f["_List.ListIterator"]=Ed;Ed.__name__=["_List","ListIterator"];Ed.prototype={hasNext:function(){return null!=this.head},next:function(){this.val=this.head[0];this.head=this.head[1];return this.val},__class__:Ed};Math.__name__=["Math"];var O=function(){};f.Reflect=O;O.__name__=["Reflect"];O.field=function(a,b){try{return a[b]}catch(c){return c instanceof o&&(c=c.val),null}};O.setField=function(a,b,c){a[b]=c};O.callMethod=function(a,b,c){return b.apply(a,c)};O.fields=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty,e;for(e in a)"__id__"!=e&&"hx__closures__"!=e&&c.call(a,e)&&b.push(e)}return b};O.isFunction=function(a){return"function"==typeof a&&!(a.__name__||a.__ename__)};O.deleteField=function(a,b){if(!Object.prototype.hasOwnProperty.call(a,b))return!1;delete a[b];return!0};var v=function(){};f.Std=v;v.__name__=["Std"];v.is=function(a,b){return S.__instanceof(a,b)};v.string=function(a){return S.__string_rec(a,"")};v["int"]=function(a){return a|0};v.parseInt=function(a){var b=parseInt(a,10);if(0==b&&(120==z.cca(a,1)||88==z.cca(a,1)))b=parseInt(a);return isNaN(b)?null:b};v.parseFloat=function(a){return parseFloat(a)};var Ba=function(){this.b=""};f.StringBuf=Ba;Ba.__name__=["StringBuf"];Ba.prototype={add:function(a){this.b+=v.string(a)},addSub:function(a,b,c){this.b=null==c?this.b+z.substr(a,b,null):this.b+z.substr(a,b,c)},__class__:Ba};var M=function(){};f.StringTools=M;M.__name__=["StringTools"];M.startsWith=function(a,b){return a.length>=b.length&&z.substr(a,0,b.length)==b};M.isSpace=function(a,b){var c=z.cca(a,b);return 8<c&&14>c||32==c};M.ltrim=function(a){for(var b=a.length,c=0;c<b&&M.isSpace(a,c);)c++;return 0<c?z.substr(a,c,b-c):a};M.rtrim=function(a){for(var b=a.length,c=0;c<b&&M.isSpace(a,b-c-1);)c++;return 0<c?z.substr(a,0,b-c):a};M.trim=function(a){return M.ltrim(M.rtrim(a))};M.lpad=function(a,b,c){if(0>=b.length)return a;for(;a.length<c;)a=b+a;return a};M.fastCodeAt=function(a,b){return a.charCodeAt(b)};var J=f.ValueType={__ename__:["ValueType"],__constructs__:"TNull,TInt,TFloat,TBool,TObject,TFunction,TClass,TEnum,TUnknown".split(",")};J.TNull=["TNull",0];J.TNull.__enum__=J;J.TInt=["TInt",1];J.TInt.__enum__=J;J.TFloat=["TFloat",2];J.TFloat.__enum__=J;J.TBool=["TBool",3];J.TBool.__enum__=J;J.TObject=["TObject",4];J.TObject.__enum__=J;J.TFunction=["TFunction",5];J.TFunction.__enum__=J;J.TClass=function(a){a=["TClass",6,a];a.__enum__=J;return a};J.TEnum=function(a){a=["TEnum",7,a];a.__enum__=J;return a};J.TUnknown=["TUnknown",8];J.TUnknown.__enum__=J;var Z=function(){};f.Type=Z;Z.__name__=["Type"];Z.getClassName=function(a){a=a.__name__;return null==a?null:a.join(".")};Z.getEnumName=function(a){return a.__ename__.join(".")};Z.resolveClass=function(a){a=f[a];return null==a||!a.__name__?null:a};Z.resolveEnum=function(a){a=f[a];return null==a||!a.__ename__?null:a};Z.createEmptyInstance=function(a){function b(){}b.prototype=a.prototype;return new b};Z.createEnum=function(a,b,c){var e=O.field(a,b);if(null==e)throw new o("No such constructor "+b);if(O.isFunction(e)){if(null==c)throw new o("Constructor "+b+" need parameters");return O.callMethod(a,e,c)}if(null!=c&&0!=c.length)throw new o("Constructor "+b+" does not need parameters");return e};Z.getEnumConstructs=function(a){return a.__constructs__.slice()};Z["typeof"]=function(a){switch(typeof a){case "boolean":return J.TBool;case "string":return J.TClass(String);case "number":return Math.ceil(a)==a%2147483648?J.TInt:J.TFloat;case "object":if(null==a)return J.TNull;var b=a.__enum__;if(null!=b)return J.TEnum(b);a=S.getClass(a);return null!=a?J.TClass(a):J.TObject;case "function":return a.__name__||a.__ename__?J.TObject:J.TFunction;case "undefined":return J.TNull;default:return J.TUnknown}};var q=function(a){this.nodeType=a;this.children=[];this.attributeMap=new qa};f.Xml=q;q.__name__=["Xml"];q.parse=function(a){return jb.parse(a)};q.createElement=function(a){var b=new q(q.Element);if(b.nodeType!=q.Element)throw new o("Bad node type, expected Element but found "+b.nodeType);b.nodeName=a;return b};q.createPCData=function(a){var b=new q(q.PCData);if(b.nodeType==q.Document||b.nodeType==q.Element)throw new o("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};q.createCData=function(a){var b=new q(q.CData);if(b.nodeType==q.Document||b.nodeType==q.Element)throw new o("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};q.createComment=function(a){var b=new q(q.Comment);if(b.nodeType==q.Document||b.nodeType==q.Element)throw new o("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};q.createDocType=function(a){var b=new q(q.DocType);if(b.nodeType==q.Document||b.nodeType==q.Element)throw new o("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};q.createProcessingInstruction=function(a){var b=new q(q.ProcessingInstruction);if(b.nodeType==q.Document||b.nodeType==q.Element)throw new o("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};q.createDocument=function(){return new q(q.Document)};q.prototype={get_nodeName:function(){if(this.nodeType!=q.Element)throw new o("Bad node type, expected Element but found "+this.nodeType);return this.nodeName},get:function(a){if(this.nodeType!=q.Element)throw new o("Bad node type, expected Element but found "+this.nodeType);return this.attributeMap.get(a)},set:function(a,b){if(this.nodeType!=q.Element)throw new o("Bad node type, expected Element but found "+this.nodeType);this.attributeMap.set(a,b)},exists:function(a){if(this.nodeType!=q.Element)throw new o("Bad node type, expected Element but found "+this.nodeType);return this.attributeMap.exists(a)},iterator:function(){if(this.nodeType!=q.Document&&this.nodeType!=q.Element)throw new o("Bad node type, expected Element or Document but found "+this.nodeType);return z.iter(this.children)},elementsNamed:function(a){if(this.nodeType!=q.Document&&this.nodeType!=q.Element)throw new o("Bad node type, expected Element or Document but found "+this.nodeType);for(var b=[],c=0,e=this.children;c<e.length;){var s=e[c];++c;var d;if(d=s.nodeType==q.Element){if(s.nodeType!=q.Element)throw new o("Bad node type, expected Element but found "+s.nodeType);d=s.nodeName==a}d&&b.push(s)}return z.iter(b)},firstElement:function(){if(this.nodeType!=q.Document&&this.nodeType!=q.Element)throw new o("Bad node type, expected Element or Document but found "+
this.nodeType);for(var a=0,b=this.children;a<b.length;){var c=b[a];++a;if(c.nodeType==q.Element)return c}return null},addChild:function(a){if(this.nodeType!=q.Document&&this.nodeType!=q.Element)throw new o("Bad node type, expected Element or Document but found "+this.nodeType);null!=a.parent&&a.parent.removeChild(a);this.children.push(a);a.parent=this},removeChild:function(a){if(this.nodeType!=q.Document&&this.nodeType!=q.Element)throw new o("Bad node type, expected Element or Document but found "+
this.nodeType);return z.remove(this.children,a)?(a.parent=null,!0):!1},__class__:q};var r=function(){};f["com.EntityHelper"]=r;r.__name__=["com","EntityHelper"];r.attachToNewEntity=function(a,b,c){null==c&&(c=!0);a=(new L).add(a);null!=b&&b.addChild(a,c);return a};r.delayedCall=function(a,b,c){null==c&&(null==r.sciptEnt&&(r.sciptEnt=new L,l.root.addChild(r.sciptEnt)),c=r.sciptEnt);null==r.allTweensArray&&(r.allTweensArray=[]);var e=new Hc,s=new L;r.allTweensArray.push(s);c.addChild(s);s.add(e);e.run(new Ic([new Jc(a),new ac(b),new ac(function(){null!=e.owner&&e.owner.dispose()})]));return e};var Ha=function(){};f["flambe.util.Disposable"]=Ha;Ha.__name__=["flambe","util","Disposable"];Ha.prototype={__class__:Ha};var x=function(){this._flags=0;this.owner=this.next=null};f["flambe.Component"]=x;x.__name__=["flambe","Component"];x.__interfaces__=[Ha];x.prototype={onAdded:function(){},onRemoved:function(){},onStart:function(){},onStop:function(){},onUpdate:function(){},dispose:function(){null!=this.owner&&this.owner.remove(this)},get_name:function(){return null},__class__:x};var fb=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b};f["flambe.math.Point"]=fb;fb.__name__=["flambe","math","Point"];fb.prototype={distanceTo:function(a,b){return Math.sqrt(this.distanceToSquared(a,b))},distanceToSquared:function(a,b){var c=this.x-a,e=this.y-b;return c*c+e*e},__class__:fb};var I=function(){this._viewMatrixUpdateCount=this._parentViewMatrixUpdateCount=0;this.blendMode=this.scissor=this._viewMatrix=null;var a=this;x.call(this);this._flags|=54;this._localMatrix=new vb;var b=function(){a._flags|=24};this.x=new $(0,b);this.y=new $(0,b);this.rotation=new $(0,b);this.scaleX=new $(1,b);this.scaleY=new $(1,b);this.anchorX=new $(0,b);this.anchorY=new $(0,b);this.alpha=new $(1)};f["flambe.display.Sprite"]=I;I.__name__=["flambe","display","Sprite"];I.hitTest=function(a,b,c,e){null==e&&(e=0);e++;var s=a._compMap.Sprite_0;if(null!=s){if(6!=(s._flags&6))return null;s.getLocalMatrix().inverseTransform(b,c,I._scratchPoint)&&(b=I._scratchPoint.x,c=I._scratchPoint.y);var d=s.scissor;if(null!=d&&!d.contains(b,c))return null}a=I.hitTestBackwards(a.firstChild,b,c,e);return null!=a?a:null!=s&&s.containsLocal(b,c)?s:null};I.render=function(a,b){var c=a._compMap.Sprite_0;if(null!=c){var e=c.alpha._value;if(0==(c._flags&2)||0>=e)return;b.save();1>e&&b.multiplyAlpha(e);null!=c.blendMode&&b.setBlendMode(c.blendMode);var e=c.getLocalMatrix(),s=e.m02,d=e.m12;0!=(c._flags&32)&&(s=Math.round(s),d=Math.round(d));b.transform(e.m00,e.m10,e.m01,e.m11,s,d);e=c.scissor;null!=e&&b.applyScissor(e.x,e.y,e.width,e.height);c.draw(b)}e=a._compMap.Director_3;if(null!=e){e=e.occludedScenes;for(s=0;s<e.length;)d=e[s],++s,I.render(d,b)}for(e=a.firstChild;null!=e;)s=e.next,I.render(e,b),e=s;null!=c&&b.restore()};I.hitTestBackwards=function(a,b,c,e){if(null!=a){var s=I.hitTestBackwards(a.next,b,c,e);return null!=s?s:I.hitTest(a,b,c,e)}return null};I.__super__=x;I.prototype=p(x.prototype,{get_name:function(){return"Sprite_0"},getNaturalWidth:function(){return 0},getNaturalHeight:function(){return 0},contains:function(a,b){return this.getViewMatrix().inverseTransform(a,b,I._scratchPoint)&&this.containsLocal(I._scratchPoint.x,I._scratchPoint.y)},containsLocal:function(a,b){return 0<=a&&a<this.getNaturalWidth()&&0<=b&&b<this.getNaturalHeight()},getLocalMatrix:function(){0!=(this._flags&8)&&(this._flags&=-9,this._localMatrix.compose(this.x._value,this.y._value,this.scaleX._value,this.scaleY._value,3.141592653589793*this.rotation._value/180),this._localMatrix.translate(-this.anchorX._value,-this.anchorY._value));return this._localMatrix},getViewMatrix:function(){if(this.isViewMatrixDirty()){var a=this.getParentSprite();this._viewMatrix=null!=a?vb.multiply(a.getViewMatrix(),this.getLocalMatrix(),this._viewMatrix):this.getLocalMatrix().clone(this._viewMatrix);this._flags&=-17;null!=a&&(this._parentViewMatrixUpdateCount=a._viewMatrixUpdateCount);++this._viewMatrixUpdateCount}return this._viewMatrix},centerAnchor:function(){this.anchorX.set__(this.getNaturalWidth()/2);this.anchorY.set__(this.getNaturalHeight()/2);return this},setXY:function(a,b){this.x.set__(a);this.y.set__(b);return this},setAlpha:function(a){this.alpha.set__(a);return this},setRotation:function(a){this.rotation.set__(a);return this},setScale:function(a){this.scaleX.set__(a);this.scaleY.set__(a);return this},disablePointer:function(){this.set_pointerEnabled(!1);return this},onAdded:function(){0!=(this._flags&64)&&this.connectHover()},onRemoved:function(){null!=this._hoverConnection&&(this._hoverConnection.dispose(),this._hoverConnection=null)},onUpdate:function(a){this.x.update(a);this.y.update(a);this.rotation.update(a);this.scaleX.update(a);this.scaleY.update(a);this.alpha.update(a);this.anchorX.update(a);this.anchorY.update(a)},draw:function(){},isViewMatrixDirty:function(){if(0!=(this._flags&16))return!0;var a=this.getParentSprite();return null==a?!1:this._parentViewMatrixUpdateCount!=a._viewMatrixUpdateCount||a.isViewMatrixDirty()},getParentSprite:function(){if(null==this.owner)return null;for(var a=this.owner.parent;null!=a;){var b=a._compMap.Sprite_0;if(null!=b)return b;a=a.parent}return null},get_pointerDown:function(){null==this._pointerDown&&(this._pointerDown=new W);return this._pointerDown},get_pointerIn:function(){null==this._pointerIn&&(this._pointerIn=new W);return this._pointerIn},get_pointerOut:function(){null==this._pointerOut&&(this._pointerOut=new W);return this._pointerOut},connectHover:function(){var a=this;null==this._hoverConnection&&(this._hoverConnection=l._platform.getPointer().move.connect(function(b){for(var c=b.hit;null!=c;){if(c==a)return;c=c.getParentSprite()}null!=a._pointerOut&&0!=(a._flags&64)&&a._pointerOut.emit(b);a._flags&=-65;a._hoverConnection.dispose();a._hoverConnection=null}))},set_visible:function(a){this._flags=Fd.set(this._flags,2,a);return a},set_pointerEnabled:function(a){this._flags=Fd.set(this._flags,4,a);return a},onPointerDown:function(a){this.onHover(a);null!=this._pointerDown&&this._pointerDown.emit(a)},onPointerMove:function(a){this.onHover(a);null!=this._pointerMove&&this._pointerMove.emit(a)},onHover:function(a){if(0==(this._flags&64)&&(this._flags|=64,null!=this._pointerIn||null!=this._pointerOut))null!=this._pointerIn&&this._pointerIn.emit(a),this.connectHover()},onPointerUp:function(a){switch(a.source[1]){case 1:null!=this._pointerOut&&0!=(this._flags&64)&&this._pointerOut.emit(a),this._flags&=-65,null!=this._hoverConnection&&(this._hoverConnection.dispose(),this._hoverConnection=null)}null!=this._pointerUp&&this._pointerUp.emit(a)},__class__:I});var P=function(a,b){null==b&&(b="");this._layout=null;var c=this;I.call(this);this._font=a;this._text=b;this._align=X.Left;this._flags|=128;var e=function(){c._flags|=128};this.wrapWidth=new $(0,e);this.letterSpacing=new $(0,e);this.lineSpacing=new $(0,e)};f["flambe.display.TextSprite"]=P;P.__name__=["flambe","display","TextSprite"];P.__super__=I;P.prototype=p(I.prototype,{draw:function(a){this.updateLayout();this._layout.draw(a)},getNaturalWidth:function(){this.updateLayout();return 0<this.wrapWidth._value?this.wrapWidth._value:this._layout.bounds.width},getNaturalHeight:function(){this.updateLayout();var a=this._layout.lines*(this._font.lineHeight+this.lineSpacing._value),b=this._layout.bounds.height;return a>b?a:b},containsLocal:function(a,b){this.updateLayout();return this._layout.bounds.contains(a,b)},setWrapWidth:function(a){this.wrapWidth.set__(a);return this},setLetterSpacing:function(a){this.letterSpacing.set__(a);return this},setAlign:function(a){this.set_align(a);return this},set_text:function(a){a!=this._text&&(this._text=a,this._flags|=128);return a},set_align:function(a){a!=this._align&&(this._align=a,this._flags|=128);return a},updateLayout:function(){0!=(this._flags&128)&&(this._flags&=-129,this._layout=this._font.layoutText(this._text,this._align,this.wrapWidth._value,this.letterSpacing._value,this.lineSpacing._value))},onUpdate:function(a){I.prototype.onUpdate.call(this,a);this.wrapWidth.update(a);this.letterSpacing.update(a);this.lineSpacing.update(a)},__class__:P});var wb=function(a,b,c){this.textbase="";this.frameCount=0;this.firstTime=!0;P.call(this,a,b);this.playButton=c;this.textbase=b;this.owner=new L;a=new aa(5919564,1,1);this.baseEnt=r.attachToNewEntity(a,this.owner);this.frame=new aa(5919564,120,30);r.attachToNewEntity(this.frame,this.baseEnt);this.frame.setXY(0,0);this.frameInner=new aa(16777215,116,26);r.attachToNewEntity(this.frameInner,this.baseEnt);this.frameInner.setXY(2,2);this.frameInner.get_pointerDown().connect(B(this,this.onFrameClicked));r.attachToNewEntity(this,this.baseEnt);this.setXY(10,4);l._platform.getKeyboard().down.connect(B(this,this.onKeyDown));!1==wb.fontModified&&(wb.fontModified=!0,this._font._glyphs.h[124].yOffset-=2,this._font._glyphs.h[124].xOffset-=3);this.set_pointerEnabled(!1)};f["com.TextInput"]=wb;wb.__name__=["com","TextInput"];wb.__super__=P;wb.prototype=p(P.prototype,{onFrameClicked:function(){this.textbase="# "},onUpdate:function(a){P.prototype.onUpdate.call(this,a);this.frameCount++;0==Math.floor(this.frameCount/30)%2?this.set_text(this.textbase):this.set_text(this.textbase+
"|");j.gameNumber=v.parseInt(z.substr(this.textbase,2,this.textbase.length-2));null==j.gameNumber&&j.randomizeGameNumber()},setXY:function(a,b){this.frame.setXY(a,b);this.frameInner.setXY(a+2,b+2);return P.prototype.setXY.call(this,a+10,b+5)},onKeyDown:function(a){var b={};b.key=a.key;this.keyIsDown(b)},keyIsDown:function(a){if(null!=this.owner&&null!=this.owner.parent){var b="";a.key==d.Number0&&(b="0");if(a.key==d.Number0||a.key==d.Numpad0)b="0";if(a.key==d.Number1||a.key==d.Numpad1)b="1";if(a.key==d.Number2||a.key==d.Numpad2)b="2";if(a.key==d.Number3||a.key==d.Numpad3)b="3";if(a.key==d.Number4||a.key==d.Numpad4)b="4";if(a.key==d.Number5||a.key==d.Numpad5)b="5";if(a.key==d.Number6||a.key==d.Numpad6)b="6";if(a.key==d.Number7||a.key==d.Numpad7)b="7";if(a.key==d.Number8||a.key==d.Numpad8)b="8";if(a.key==d.Number9||a.key==d.Numpad9)b="9";this.firstTime&&""!=b?(this.textbase="# "+b,this.firstTime=!1):9>this.textbase.length&&(8==this.textbase.length?"# 100000"==this.textbase&&this.addChar(b):this.addChar(b));a.key==d.Backspace&&2<this.textbase.length&&(this.textbase=z.substr(this.textbase,0,this.textbase.length-1),this.firstTime=!1,j.gameNumber=v.parseInt(z.substr(this.textbase,2,this.textbase.length-2)),null==j.gameNumber&&j.randomizeGameNumber());if(a.key==d.Enter)this.playButton.onClick(null);null}},addChar:function(a){""!=a&&(this.textbase+=a,j.gameNumber=v.parseInt(z.substr(this.textbase,2,this.textbase.length-2)))},__class__:wb});var va=f["com.funtomic.GameOpsStatus"]={__ename__:["com","funtomic","GameOpsStatus"],__constructs__:["UNINITIALIZED","INITIALIZING","INITIALIZED","QUITTING"]};va.UNINITIALIZED=["UNINITIALIZED",0];va.UNINITIALIZED.__enum__=va;va.INITIALIZING=["INITIALIZING",1];va.INITIALIZING.__enum__=va;va.INITIALIZED=["INITIALIZED",2];va.INITIALIZED.__enum__=va;va.QUITTING=["QUITTING",3];va.QUITTING.__enum__=va;var n=function(){};f["com.funtomic.GameOps"]=n;n.__name__=["com","funtomic","GameOps"];n.IOErrorHandler=function(a){fa.error(["Error caught ",a])};n.getEventsStaticParams=function(a){a={domain:n.domain,uuid:n.userID,platform:n.platform,is_native:n.isNative,is_synced:n.localStorage.isSynced,install_date:n.localStorage.installDate,original_version:n.localStorage.originalVersion,partial_data:n.localStorage.partialData,is_in_kizi_app:n.isInKiziApp(),events:a};null!=n.localStorage.isConverted&&(a.is_converted=n.localStorage.isConverted);null!=n.mediaSource&&(a.media_source=n.mediaSource);null!=n.campaignName&&(a.campaign_name=n.campaignName);return a};n.reportEvents=function(a){if(n.status!=va.INITIALIZED)n.queueEvents(a);else{var b=n.getEventsStaticParams(a),c=n.apiURLPrefix+n.apiEventsLocation,e=new Gd(c);e.addParameter("data",JSON.stringify(b));fa.verbose(["Posting event to:",c]);e.onData=n.eventReportSucceeded;e.onStatus=function(b){n.onEventReportReturned(b,a)};e.onError=n.IOErrorHandler;e.request(!0);n.sessionEnd()}};n.onEventReportReturned=function(a,b){switch(a){case 500:n.eventReportFailed();break;case 0:n.eventReportTimeout(b)}};n.eventReportTimeout=function(a){fa.error(["Report event timeout"]);n.queueEvents(a)};n.eventReportFailed=function(){fa.error(["Report event failed"]);n.localStorage.unsentEvents=[];n.writeLocalStorage()};n.eventReportSucceeded=function(a){fa.verbose(["Event Posted "+a]);n.reportUnsentEvents()};n.reportEvent=function(a,b){if(!n.isEventsTraceOnly)switch(n.status[1]){case 1:n.deferredReportEvents.push(function(){n.reportEvent(a,b)});break;default:var c=n.prepareEventObject(a,b);n.reportEvents([c])}};n.prepareEventObject=function(a,b){var c=Aa.format(new Date,"%Y-%m-%d %H:%M:%S"),e=v.string(new Date),s=e.indexOf("+"),e=z.substr(e,s,5),c={event_type:a,date:c+e};null!=n.experimentId&&(c.experiment_id=n.experimentId);null!=n.alternativeId&&(c.alternative_id=n.alternativeId);c.elapsed_play_time=Math.round(n.elapsedPlayTimeAtInit+n.sampleTimer("session")/1E3);c.session_id=n.sessionId;c.game_ops_version=n.gameOpsVersion;c.game_version=n.gameVersion;null!=n.url&&(c.url=n.url);n.firstSession&&(c.first_session=!0);null!=n.fbId&&(c.fb_id=n.fbId);return c=n.extendObject(c,b)};n.queueEvents=function(a){fa.verbose(["Queuing events:"+JSON.stringify(a)]);null==n.localStorage.unsentEvents&&(n.localStorage.unsentEvents=[]);for(var b=0;b<a.length;){var c=a[b];++b;n.localStorage.unsentEvents.push(c)}n.localStorage.unsentEvents.length>n.MAX_SAVED_UNSENT_EVENTS&&(n.localStorage.unsentEvents=[],n.localStorage.partialData=!0);n.writeLocalStorage();fa.verbose(["There are now "+v.string(n.localStorage.unsentEvents.length)+" unsent events."])};n.reportUnsentEvents=function(){null!=n.localStorage.unsentEvents&&0<n.localStorage.unsentEvents.length&&(fa.verbose(["reporting unsent events",n.localStorage.unsentEvents.length]),n.reportEvents(n.localStorage.unsentEvents),n.localStorage.unsentEvents=[],n.writeLocalStorage())};n.sessionEnd=function(a,b){null==a&&(a=!0);var c=n.sampleTimer("session");if(-1==c)fa.error(["sessionEnd was called without a matching sessionStart!"]);else{for(var e=[],s=0,d=n.levelsNumbers;s<d.length;){var f=d[s];++s;-1==e.indexOf(f)&&e.push(f)}e={session_duration:Math.round(c/1E3),levels_numbers:e.toString(),won_percent:0,levels_count:n.levelsNumbers.length,levels_won:n.levelsWon,sent_by:"application"};null!=b&&(e=n.extendObject(b,e));0<e.levels_count&&(e.won_percent=100*(n.levelsWon/n.levelsNumbers.length));n.updateTotalElapsedTime(c/1E3);c=n.prepareEventObject("session_end",e);a?(fa.verbose(["writing session end event to local storage"]),n.storageSet("FuntomicGameOps-SessionEndEvent",c)):n.reportEvents([c])}};n.updateTotalElapsedTime=function(a){n.storageSet("FuntomicGameOps-ElapsedGameTime",n.elapsedPlayTimeAtInit+
a)};n.sampleTimer=function(a,b){null==b&&(b=!1);if(null==O.field(n.timers,a))return-1;var c=O.field(n.timers,a)[1];0!=O.field(n.timers,a)[0]&&(c+=n.getTimestamp()-O.field(n.timers,a)[0]);b&&O.deleteField(n.timers,a);fa.verbose(["Timer '"+a+"' sampled. Current elapsed time is "+c]);return c};n.getTimestamp=function(){return(new Date).getTime()};n.extendObject=function(a,b){for(var c=0,e=O.fields(b);c<e.length;){var s=e[c];++c;var d=O.field(b,s);a[null==s?"null":""+s]=d}return a};n.storageSet=function(a,b){return null!=n.gameOpsStorage?O.field(n.gameOpsStorage,"set")(n.domain+a,b):l._platform.getStorage().set(n.domain+a,b)};n.writeLocalStorage=function(){n.storageSet("FuntomicGameOps",n.localStorage)};n.isInKiziApp=function(){return null!=O.field(window,"jsinterface")};var fa=function(){};f["com.funtomic.GameOpsLogger"]=fa;fa.__name__=["com","funtomic","GameOpsLogger"];fa.verbose=function(a){fa.log(2,a.join(" "))};fa.error=function(a){fa.log(0,"ERROR - "+a.join(" "));null};fa.log=function(a){a<=fa.logLevel&&(a=new Date,a.getDay(),a.getMonth(),a.getFullYear(),a.getHours(),a.getMinutes(),a.getSeconds(),null)};var K=function(){};f["com.funtomic.GameOpsStorage"]=K;K.__name__=["com","funtomic","GameOpsStorage"];K.init=function(){null!=Z.resolveClass("flambe.System")&&(K._prefix="flambe:");K._storage=window.localStorage;K._isInitialized=!0};K.validateInitialized=function(){if(!K._isInitialized)throw new o("GameOpsStorage Is Not Initialized!");};K.reportErrorEvent=function(a){3<K._isErrorEventsSent||(K._isErrorEventsSent+=1,n.reportEvent("local_storage_error",a))};K.get_supported=function(){return!0};K.set=function(a,b){K.validateInitialized();var c;try{var e=new Ia;e.useCache=!0;e.useEnumIndex=!1;e.serialize(b);c=e.toString()}catch(s){return s instanceof o&&(s=s.val),console.warn("Storage serialization failed:",s),K.reportErrorEvent({error_message:"Storage serialization failed: "+v.string(s)}),!1}try{K._storage.setItem(K._prefix+a,c)}catch(d){d instanceof o&&(d=d.val);console.warn("localStorage.setItem failed:",d.message);c=-2;e=!0==O.field(window,"isStorageRedirected");try{c=JSON.stringify(window.parent.localStorage).length/1024}catch(f){f instanceof o&&(f=f.val),c=-1}K.reportErrorEvent({error_message:"localStorage.setItem failed: "+v.string(d.message),local_storage_size:c,is_storage_redirected:e});K.clear();return!1}return!0};K.get=function(a,b){K.validateInitialized();var c=null;try{c=K._storage.getItem(K._prefix+a)}catch(e){e instanceof o&&(e=e.val),console.warn("localStorage.getItem failed:",e.message),K.reportErrorEvent({error_message:"localStorage.getItem failed: "+v.string(e.message)})}if(null!=c)try{return ja.run(c)}catch(s){s instanceof o&&(s=s.val),console.warn("Storage unserialization failed:",s),K.reportErrorEvent({error_message:"Storage unserialization failed: "+v.string(s)})}return b};K.remove=function(a){K.validateInitialized();try{K._storage.removeItem(K._prefix+a)}catch(b){b instanceof o&&(b=b.val),console.warn("localStorage.removeItem failed:",b.message),K.reportErrorEvent({error_message:"localStorage.removeItem failed: "+
v.string(b.message)})}};K.clear=function(){K.validateInitialized();try{K._storage.clear()}catch(a){a instanceof o&&(a=a.val),console.warn("localStorage.clear failed:",a.message),K.reportErrorEvent({error_message:"localStorage.clear failed: "+v.string(a.message)})}};var F=function(){this.currentScore=0;this.freecellPile=[];this.foundationPile=[];this.foundationPile[0]=[];this.foundationPile[1]=[];this.foundationPile[2]=[];this.foundationPile[3]=[];this.tableuPile=[];this.tableuPile[0]=[];this.tableuPile[1]=[];this.tableuPile[2]=[];this.tableuPile[3]=[];this.tableuPile[4]=[];this.tableuPile[5]=[];this.tableuPile[6]=[];this.tableuPile[7]=[]};f["farmgame.BoardData"]=F;F.__name__=["farmgame","BoardData"];F.isBdataChanged=function(a,b){return!1==F.isArrayIdentical(a.foundationPile[0],b.foundationPile[0])||!1==F.isArrayIdentical(a.foundationPile[1],b.foundationPile[1])||!1==F.isArrayIdentical(a.foundationPile[2],b.foundationPile[2])||!1==F.isArrayIdentical(a.foundationPile[3],b.foundationPile[3])||!1==F.isArrayIdentical(a.tableuPile[0],b.tableuPile[0])||!1==F.isArrayIdentical(a.tableuPile[1],b.tableuPile[1])||!1==F.isArrayIdentical(a.tableuPile[2],b.tableuPile[2])||!1==F.isArrayIdentical(a.tableuPile[3],b.tableuPile[3])||!1==F.isArrayIdentical(a.tableuPile[4],b.tableuPile[4])||!1==F.isArrayIdentical(a.tableuPile[5],b.tableuPile[5])||!1==F.isArrayIdentical(a.tableuPile[6],b.tableuPile[6])||!1==F.isFreeCellArrayIdentical(a.freecellPile,b.freecellPile)?!0:!1};F.isFreeCellArrayIdentical=function(a,b){if(a.length!=b.length)return!1;for(var c=4;0<c--;){if(null==a[c]||null==b[c])if(null==a[c]&&null==b[c])break;else return!1;if(a[c].cardIdx!=b[c].cardIdx||a[c].suitIdx!=b[c].suitIdx||a[c].turned!=b[c].turned)return!1}return!0};F.isArrayIdentical=function(a,b){if(a.length!=b.length)return!1;for(var c=a.length;0<c--;)if(null==a[c]||null==b[c]||a[c].cardIdx!=b[c].cardIdx||a[c].suitIdx!=b[c].suitIdx||a[c].turned!=b[c].turned)return!1;return!0};F.prototype={addToBdata:function(a){var b=new Hd(a.suitIdx,a.cardIdx,a.turned);a.myState==m.STATE_FREECELL?this.freecellPile[a.freecellIdx]=b:a.myState==m.STATE_TABLEU?this.tableuPile[a.tableouIdx][a.tableouPosition]=b:a.myState==m.STATE_FOUNDATION&&(this.foundationPile[a.foundationIdx][a.foundationPosition]=b)},fromSnapshotToBoard:function(a){this.justUndoedArray=[];this.manageFoundation();this.manageFreecell();this.manageTableu();a||this.fixPostUndoLayering();t.currentScore=this.currentScore},manageFoundation:function(){for(var a=this.foundationPile.length;0<a--;)for(var b=this.foundationPile[a].length;0<b--;){var c=this.foundationPile[a][b],e=i.getByCardAndSuitIdx(c.suitIdx,c.cardIdx);e.myState==m.STATE_FOUNDATION&&e.foundationIdx==a&&e.foundationPosition==b&&e.turned==c.turned||this.justUndoedArray.push(e);e.myState=m.STATE_FOUNDATION;e.foundationIdx=a;e.foundationPosition=b;e.AssignTurned(c.turned);j.layerTiles.addChild(e.owner,!1)}},manageFreecell:function(){for(var a=this.freecellPile.length;0<a--;){var b=this.freecellPile[a];if(null!=b){var c=i.getByCardAndSuitIdx(b.suitIdx,b.cardIdx);c.myState==m.STATE_FREECELL&&c.freecellIdx==a&&c.turned==b.turned||this.justUndoedArray.push(c);c.myState=m.STATE_FREECELL;c.freecellIdx=a;c.AssignTurned(b.turned);j.layerTiles.addChild(c.owner,!1)}}},manageTableu:function(){for(var a=this.tableuPile.length;0<a--;)for(var b=this.tableuPile[a].length;0<b--;){var c=this.tableuPile[a][b],e=i.getByCardAndSuitIdx(c.suitIdx,c.cardIdx);e.myState==m.STATE_TABLEU&&e.tableouIdx==a&&e.tableouPosition==b&&e.turned==c.turned||this.justUndoedArray.push(e);e.myState=m.STATE_TABLEU;e.tableouIdx=a;e.tableouPosition=b;e.AssignTurned(c.turned);j.layerTiles.addChild(e.owner,!1)}},fixPostUndoLayering:function(){this.justUndoedArray.sort(function(a,b){return a.foundationPosition>b.foundationPosition?1:a.foundationPosition==b.foundationPosition?0:-1});for(var a=this.justUndoedArray.length;0<a--;)j.layerTiles.addChild(this.justUndoedArray[a].owner);for(a=31;0<a--;)for(var b=m.cardArray.length;0<b--;){var c=m.cardArray[b];c.myState==m.STATE_TABLEU&&c.tableouPosition==30-a&&j.layerTiles.addChild(c.owner)}},__class__:F};var w=function(){};f["farmgame.BoardManager"]=w;w.__name__=["farmgame","BoardManager"];w.InitializeBoard=function(){wa.isAvailable=!1;w.preAutofinishInProgress=!1;w.resetBoardSnapshot();w.generateCards();w.generateBoardSnapshot(!0);ha.delay(function(){t.restartTimer()},150);w.autoCompleteInProgress=!1;w.gameOverFlag=!1;t.totalMoves=-1;t.gameInProgress=!1;ha.delay(function(){t.gameInProgress=!0},150);w.generateSnapshotLoopStart()};w.generateSnapshotLoopStart=function(){ha.delay(function(){w.generateBoardSnapshot();w.generateSnapshotLoopStart()},150)};w.resetBoardSnapshot=function(){F.boardDataArray=[];F.boardDataIdx=-1};w.generateBoardSnapshot=function(){!1==t.gameInProgress||w.autoFinishInProgress||w.preAutofinishInProgress||w.actuallyGenerateSnapshot()};w.actuallyGenerateSnapshot=function(){null==F.boardDataArray&&(F.boardDataArray=[],F.boardDataIdx=0);for(var a=new F,b=m.cardArray.length;0<b--;)a.addToBdata(m.cardArray[b]);a.currentScore=t.currentScore;2<=F.boardDataArray.length?w.isBdataChanged(a,F.boardDataArray[F.boardDataArray.length-
1])&&(F.boardDataArray.push(a),F.boardDataIdx=F.boardDataArray.length-1,t.totalMoves++,wa.isAvailable=!0):(F.boardDataArray.push(a),F.boardDataIdx=F.boardDataArray.length-1,t.totalMoves++);!1==N.isBoardPlayable()&&!1==ca.promptActive&&!1==j.gameOverFlag&&new ca(!0)};w.isBdataChanged=function(a,b){return F.isBdataChanged(a,b)};w.Undo=function(){j.gameOverFlag=!1;!1!=t.gameInProgress&&(wa.isAvailable=!1,1<F.boardDataArray.length?(F.boardDataArray.pop(),w.fromSnapshotToBoard(F.boardDataArray[F.boardDataArray.length-
1])):w.fromSnapshotToBoard(F.boardDataArray[0]))};w.fromSnapshotToBoard=function(a,b){null==b&&(b=!1);a.fromSnapshotToBoard(b)};w.generateCards=function(){m.cardArray=[];for(var a=i.NUM_SUITS;0<a--;)for(var b=i.NUM_CARDS_PER_SUIT;0<b--;)new m(a,b);a=[];a.push(i.getByCardAndSuitIdx(i.SUIT_CLUBS,i.CARD_IDX_A));a.push(i.getByCardAndSuitIdx(i.SUIT_DIAMONDS,i.CARD_IDX_A));a.push(i.getByCardAndSuitIdx(i.SUIT_HEARTS,i.CARD_IDX_A));a.push(i.getByCardAndSuitIdx(i.SUIT_SPADES,i.CARD_IDX_A));for(b=-1;12>++b;)a.push(i.getByCardAndSuitIdx(i.SUIT_CLUBS,b)),a.push(i.getByCardAndSuitIdx(i.SUIT_DIAMONDS,b)),a.push(i.getByCardAndSuitIdx(i.SUIT_HEARTS,b)),a.push(i.getByCardAndSuitIdx(i.SUIT_SPADES,b));i.ShuffleArray(a,j.gameNumber)};w.tryToAutofinishGame=function(){w.preAutofinishInProgress||(w.preAutofinishInProgress=!0,ha.delay(function(){w.preAutofinishInProgress=!1;var a=!0,b=m.cardArray;if(null!=b){for(b=b.length;0<b--;)if(m.cardArray[b].myState!=m.STATE_TABLEU){a=!0;break}a&&(w.autoFinishInProgress=!0,w.autoCompleteCalled(),w.autoFinishInProgress=!1,null)}},20))};w.autoCompleteCalled=function(){for(var a=m.cardArray.length;0<a--;){var b=m.cardArray[a];if((b.myState==m.STATE_TABLEU||b.myState==m.STATE_FREECELL)&&b.doubleClickCall(!0)){j.layerTiles.addChild(b.owner);break}}};w.removeAllCardsFromBoard=function(){if(!(null==m.cardArray||0>=m.cardArray.length))for(var a=m.cardArray,b=a.length;0<b--;)null!=a[b]&&null!=a[b].owner&&a[b].owner.dispose()};w.checkIfGameOver=function(){if(!(null==m.cardArray||w.gameOverFlag)){w.gameOverFlag=!0;for(var a=m.cardArray.length;0<a--;)m.cardArray[a].myState!=m.STATE_FOUNDATION&&(w.gameOverFlag=!1);w.gameOverFlag&&t.myRef.gameOverStarted()}};w.getTotalFreecellCount=function(){for(var a=4,b=m.cardArray,c=b.length;0<c--;)b[c].myState==m.STATE_FREECELL&&a--;return a};w.getTotalFreecellColumns=function(){for(var a=8,b=0;0<a--;)null==i.getByTableuPosition(a,0)&&b++;return b};w.cardsNotOnFoundation=function(){for(var a=m.cardArray,b=0,c=a.length;0<c--;)a[c].myState!=m.STATE_FOUNDATION&&b++;return b};var Ja=function(a,b,c){x.call(this);this.owner=new L;a.addChild(this.owner);this.container=a;this.owner.add(this);this.imgNormal=new Y(j.pack.getTexture(b));this.imgNormalEnt=r.attachToNewEntity(this.imgNormal,this.owner);this.imgover=new Y(j.pack.getTexture(c));r.attachToNewEntity(this.imgover,this.owner);this.imgover.get_pointerOut().connect(B(this,this.onMouseOut));this.imgover.get_pointerIn().connect(B(this,this.onMouseOver));this.imgNormal.get_pointerDown().connect(B(this,this.onClick));this.imgover.get_pointerDown().connect(B(this,this.onClick));this.imgNormal.set_visible(!0);this.imgover.alpha.set__(0)};f["farmgame.ButtonWithOverState"]=Ja;Ja.__name__=["farmgame","ButtonWithOverState"];Ja.__super__=x;Ja.prototype=p(x.prototype,{get_name:function(){return"ButtonWithOverState_9"},onUpdate:function(){},onClick:function(){l._platform.getMouse().set_cursor(ia.Default);G.play("SOUNDS/click")},onMouseOut:function(){this.imgNormal.set_visible(!0);this.imgNormal.alpha.set__(1);this.imgover.alpha.animateTo(0,0.25);l._platform.getMouse().set_cursor(ia.Default)},onMouseOver:function(){this.imgover.set_visible(!0);this.imgover.alpha.set__(0.01);this.imgover.alpha.animateTo(1,0.25);l._platform.getMouse().set_cursor(ia.Button)},setXY:function(a,b){this.imgNormal.setXY(a,b);this.imgover.setXY(a,b)},setVisible:function(){this.container.addChild(this.owner)},setInvisible:function(){null!=this.owner&&null!=this.owner.parent&&this.owner.parent.removeChild(this.owner)},centerAnchor:function(){this.imgover.centerAnchor();this.imgNormal.centerAnchor()},__class__:Ja});var m=function(a,b){this.initAnimationState=this.preInitState=!0;this.selectedFlag=!1;this.myState=-1;x.call(this);this.owner=new L;j.layerTiles.addChild(this.owner);this.owner.add(this);this.cardIdx=b;this.suitIdx=a;var c=j.pack.getTexture("CARDS/"+i.getCardImageName(a,b)),e=c;m.firsttest&&(m.firsttest=!1,e=this.createInvertedTexture(c));this.cardImgBack=new Y(j.pack.getTexture("CARDS/back"+bc.cardIdxGlobal1));this.cardImgFront=new Y(c);this.cardimgInverted=new Y(j.pack.getTexture("inverted/"+i.getCardImageName(a,b)));r.attachToNewEntity(this.cardImgFront,this.owner);r.attachToNewEntity(this.cardImgBack,this.owner);r.attachToNewEntity(this.cardimgInverted,this.owner);this.cardImgBack.set_visible(!1);this.cardimgInverted.set_visible(!1);m.cardArray.push(this);this.cardImgFront.get_pointerDown().connect(B(this,this.onPointerDownFront));this.cardImgBack.centerAnchor();this.cardImgFront.centerAnchor();this.cardimgInverted.centerAnchor();this.cardImgFront.texture.get_graphics().drawTexture(e,0,0);this.cardImgPosition=new fb;this.cardImgFront.setXY(440,800);this.cardImgBack.setXY(400,-200)};f["farmgame.Card"]=m;m.__name__=["farmgame","Card"];m.onPointerUpFront=function(){null!=m.cardClicked&&(m.cardClicked.unpressClickedCard(),m.cardClicked=null);m.banAllCardsFromSelection=!0;ha.delay(function(){m.banAllCardsFromSelection=!1},75)};m.__super__=x;m.prototype=p(x.prototype,{get_name:function(){return"Card_7"},createInvertedTexture:function(a){for(var b=a.readPixels(0,0,a.get_width(),a.get_height()),c=0,e=0;c<b.length;)b.setInt32(c,-1),c+=4,e++;c=l._platform.getRenderer().createTexture(a.get_width(),a.get_height());c.writePixels(b,0,0,a.get_width(),a.get_height());b.blit(0,b,0,0);return c},unpressClickedCard:function(){m.readyForDoubleclick?(r.delayedCall(0.01,B(this,this.doubleClicked)),this.dragMode=m.readyForDoubleclick=!1):(this.dragMode=!0,!1!=this.selectedFlag&&(this.deselect()||G.playInvalid()))},onPointerDownFront:function(){m.firstTapSinceLoading&&(m.firstTapSinceLoading=!1);m.banAllCardsFromSelection||this.myState==m.STATE_FOUNDATION||(m.readyForDoubleclick=!0,m.originalSpotWhenSelected=new fb(H.returnNormalizedMouseCoords().x,H.returnNormalizedMouseCoords().y),null!=this.doubleclickScr&&(this.doubleclickScr.stopAll(),this.doubleclickScr.dispose()),this.doubleclickScr=r.delayedCall(0.4,function(){m.readyForDoubleclick=!1},this.owner),this.getoOffSetAndSelect(),m.cardClicked=this,G.play("SOUNDS/grabcard"))},deselect:function(){if(!1==this.selectedFlag)return!1;this.selectedFlag=!1;var a=this.tableouIdx,b=this.tableouPosition;if(H.checkIfCardPlacedAtValidSpot(this)){var c=0,e=null,d=!0;do d=!0,c++,e=i.getByTableuPosition(a,b+1),null!=e&&!0==e.selectedFlag&&(d=!1,e.myState=this.myState,e.tableouIdx=this.tableouIdx,e.tableouPosition=this.tableouPosition+c,e.selectedFlag=!1,b++);while(!1==d);return!0}for(a=m.cardArray.length;0<a--;)m.cardArray[a].selectedFlag=!1;return!1},flipCard:function(){var a=this;if(!0==this.turned)return!1;r.delayedCall(0.06,function(){a.turned=!0;a.cardImgFront.scaleX.animate(0.2,1,0.06);a.cardImgBack.scaleX.animateTo(1,0.2)});this.cardImgBack.scaleX.animate(1,0.2,0.06);return!0},doubleClicked:function(){this.doubleclickScr.stopAll();this.doubleclickScr.dispose();m.readyForDoubleclick=!1;var a=i.getByTableuPosition(this.tableouIdx,this.tableouPosition-1);null!=a&&a.turned&&this.myState==m.STATE_TABLEU&&a.selectedFlag?a.doubleClickCall():this.doubleClickCall()},doubleClickCall:function(a){null==a&&(a=!1);return i.doubleClicked(this,a)},getoOffSetAndSelect:function(){if(!1!=i.isValidMoveStack(this)&&(this.dragOffset=new fb(H.returnNormalizedMouseCoords().x-this.cardImgFront.x._value,H.returnNormalizedMouseCoords().y-this.cardImgFront.y._value),j.layerTiles.addChild(this.owner),this.selectCard(),this.myState==m.STATE_TABLEU)){var a=i.getByTableuPosition(this.tableouIdx,this.tableouPosition+1);null!=a&&a.getoOffSetAndSelect()}},onUpdate:function(a){var b=this;x.prototype.onUpdate.call(this,a);this.cardimgInverted.setXY(this.cardImgFront.x._value,this.cardImgFront.y._value);this.cardimgInverted.set_visible(!1);this.cardImgFront.set_visible(!0);if(this.myState!=m.STATE_ANIMATION&&(this.turned?(this.cardImgFront.set_visible(!0),this.cardImgBack.set_visible(!1)):(this.cardImgFront.set_visible(!1),this.cardImgBack.set_visible(!0)),!this.preInitState))if(this.initAnimationState)this.manageInitialAnimation();else if(this.selectedFlag)this.cardimgInverted.set_visible(!0),this.cardImgFront.set_visible(!1),!1==l._platform.getPointer().isDown()&&ha.delay(function(){b.deselect()},50),this.cardImgFront.setXY(H.returnNormalizedMouseCoords().x-
this.dragOffset.x,H.returnNormalizedMouseCoords().y-this.dragOffset.y),this.cardImgPosition.x=this.cardImgFront.x._value,this.cardImgPosition.y=this.cardImgFront.y._value,null!=m.originalSpotWhenSelected&&50<m.originalSpotWhenSelected.distanceTo(H.returnNormalizedMouseCoords().x,H.returnNormalizedMouseCoords().y)&&(m.readyForDoubleclick=!1);else{this.myState==m.STATE_TABLEU?i.SetToTableu(this):this.myState==m.STATE_FREECELL?i.SetToFreeCell(this):this.myState==m.STATE_FOUNDATION&&i.SetToFoundation(this);var a=this.cardImgPosition.y-this.cardImgFront.y._value,c=this.cardImgFront.x;c.set__(c._value+(this.cardImgPosition.x-this.cardImgFront.x._value));c=this.cardImgFront.y;c.set__(c._value+a);this.cardImgBack.setXY(this.cardImgFront.x._value,this.cardImgFront.y._value)}},manageInitialAnimation:function(){this.myState==m.STATE_TABLEU?i.SetToTableu(this):this.myState==m.STATE_FOUNDATION&&i.SetToFoundation(this);var a=this.cardImgFront.x;a.set__(a._value+(this.cardImgPosition.x-this.cardImgFront.x._value));a=this.cardImgFront.y;a.set__(a._value+(this.cardImgPosition.y-this.cardImgFront.y._value));this.cardImgBack.setXY(this.cardImgFront.x._value,this.cardImgFront.y._value)},setXY:function(a,b,c){null==c&&(c=!1);this.cardImgPosition.x=a+0.5*this.cardImgFront.getNaturalWidth();this.cardImgPosition.y=b+0.5*this.cardImgFront.getNaturalHeight();c&&(this.cardImgFront.setXY(this.cardImgPosition.x,this.cardImgPosition.y),this.cardImgBack.setXY(this.cardImgPosition.x,this.cardImgPosition.y))},addToTableu:function(a,b,c){this.turned=c;this.tableouPosition=b;this.tableouIdx=a;this.myState=m.STATE_TABLEU},selectCard:function(){this.selectedFlag=!0},AssignTurned:function(a){this.turned=a},initAnimationStart:function(a){var b=this;this.initAnimationIdx=a;r.delayedCall(0.05,function(){b.preInitState=!1;b.initAnimationState=!0;G.playDealCards();r.delayedCall(1,function(){b.initAnimationState=!1})})},__class__:m});var Hd=function(a,b,c){this.turned=c;this.cardIdx=b;this.suitIdx=a};f["farmgame.CardData"]=Hd;Hd.__name__=["farmgame","CardData"];Hd.prototype={__class__:Hd};var bc=function(){};f["farmgame.CardPicker"]=bc;bc.__name__=["farmgame","CardPicker"];bc.__super__=x;bc.prototype=p(x.prototype,{get_name:function(){return"CardPicker_18"},__class__:bc});var i=function(){};f["farmgame.CardUtil"]=i;i.__name__=["farmgame","CardUtil"];i.getCardImageName=function(a,b){return i.cardNameArray[a*i.NUM_CARDS_PER_SUIT+b]};i.ShuffleArray=function(a,b){kb.initSeed(b);for(var c=[],e=a.length;0<e--;)c[e]=a[e];for(e=-1;0<c.length;){e++;var d=kb.next()%c.length,f=c[c.length-1];c[c.length-1]=c[d];c[d]=f;d=c.pop();d.addToTableu(e%8,Math.floor(e/8),!0);d.initAnimationStart(e);j.layerTiles.addChild(d.owner)}};i.isValidMoveStack=function(a,b,c){null==c&&(c=!0);null==b&&(b=!1);if(a.myState!=m.STATE_TABLEU)return!0;var e=0,d=null;do{e++;d=i.getByTableuPosition(a.tableouIdx,a.tableouPosition+1);if(!1==i.isNextCardValidMoveStack(a))return!1;a=d}while(null!=d);if(c)return!0;a=w.getTotalFreecellCount();c=w.getTotalFreecellColumns();b&&c--;return e<=(1+a)*Math.pow(2,c)?!0:!1};i.isNextCardValidMoveStack=function(a){var b=!1,c=i.getByTableuPosition(a.tableouIdx,a.tableouPosition+1);if(null!=c){if(a.cardIdx!=i.CARD_IDX_A&&(a.cardIdx==i.CARD_IDX_02&&c.cardIdx==i.CARD_IDX_A||a.cardIdx!=i.CARD_IDX_02&&a.cardIdx-1==c.cardIdx))if(c.suitIdx==i.SUIT_HEARTS||c.suitIdx==i.SUIT_DIAMONDS){if(a.suitIdx==i.SUIT_CLUBS||a.suitIdx==i.SUIT_SPADES)b=!0}else if(a.suitIdx==i.SUIT_HEARTS||a.suitIdx==i.SUIT_DIAMONDS)b=!0}else b=!0;return b};i.SetToFoundation=function(a){a.setXY(87+(4+a.foundationIdx)*A.CARD_X_DELTA_FREECELL+A.CARD_X_INITIAL_FOUNDATION_DELTA,47)};i.overlapsEmptyFreeCell=function(a){var b=Math.ceil((a.x._value-a.getNaturalWidth()-A.CARD_X_INITIAL_FREECELL)/A.CARD_X_DELTA_FREECELL);if(0<=b&&3>=b&&a.y._value<170+0.5*a.getNaturalHeight()){for(a=m.cardArray.length;0<a--;){var c=m.cardArray[a];if(c.myState==m.STATE_FREECELL&&b==c.freecellIdx)return!1}return!0}return!1};i.droppedOnEmptyTableu=function(a){var b=Math.ceil((a.cardImgFront.x._value-
a.cardImgFront.getNaturalWidth()-77)/A.CARD_X_DELTA_TABLEU);H.uncoverTableu(a);a.tableouIdx=b;a.tableouPosition=0;a.myState=m.STATE_TABLEU;G.play("SOUNDS/valid");a.onUpdate(0);w.tryToAutofinishGame()};i.overlapsEmptyTableu=function(a){var b=Math.ceil((a.x._value-a.getNaturalWidth()-77)/A.CARD_X_DELTA_TABLEU);if(140>a.y._value||0>b||7<b)return!1;for(var a=m.cardArray,c=a.length;0<c--;)if(a[c].tableouIdx==b&&a[c].myState==m.STATE_TABLEU)return!1;return!0};i.SetToTableu=function(a){var b=77+a.tableouIdx*A.CARD_X_DELTA_TABLEU,c=-1,e=!1;do{var e=!1,d=i.getByTableuPosition(a.tableouIdx,++c);if(null==d||d.turned)e=!0}while(!1==e);e=-1;d=!1;do d=!1,null==i.getByTableuPosition(a.tableouIdx,++e)&&(d=!0);while(!1==d);a.setXY(b,c>a.tableouPosition?155+8*a.tableouPosition:155+8*c+18*(a.tableouPosition-c))};i.SetToFreeCell=function(a){a.setXY(47+A.CARD_X_DELTA_FREECELL*a.freecellIdx,47)};i.getByTableuPosition=function(a,b){for(var c=m.cardArray.length;0<c--;){var e=m.cardArray[c];if(e.myState==m.STATE_TABLEU&&e.tableouIdx==a&&e.tableouPosition==b)return e}return null};i.overlapsFoundation=function(a){var b=Math.ceil((a.x._value-76)/A.CARD_X_DELTA_FREECELL)-7;return 0<=b&&3>=b&&a.y._value<170+0.5*a.getNaturalHeight()?!0:!1};i.droppedOnFreeCell=function(a,b){null==b&&(b=-1);if(null!=i.getByFreeCellIdx(b)||a.myState==m.STATE_TABLEU&&null!=i.getByTableuPosition(a.tableouIdx,a.tableouPosition+1))return!1;var c;c=-1==b?Math.ceil((a.cardImgFront.x._value-a.cardImgFront.getNaturalWidth()-A.CARD_X_INITIAL_FREECELL)/A.CARD_X_DELTA_FREECELL):b;a.freecellIdx=c;a.myState=m.STATE_FREECELL;a.selectedFlag=!1;a.doubleclickInProgress=!1;w.tryToAutofinishGame();G.play("SOUNDS/valid");return!0};i.getByFreeCellIdx=function(a){for(var b=m.cardArray.length;0<b--;)if(m.cardArray[b].freecellIdx==a&&m.cardArray[b].myState==m.STATE_FREECELL)return m.cardArray[b];return null};i.droppedOnFoundation=function(a,b,c){null==c&&(c=!1);null==b&&(b=-1);if(a.myState==m.STATE_TABLEU&&null!=i.getByTableuPosition(a.tableouIdx,a.tableouPosition+
1))return!1;b=-1==b?Math.floor((a.cardImgFront.x._value-80)/A.CARD_X_DELTA_FREECELL)-4:b;a.suitIdx==i.SUIT_CLUBS&&(b=1);a.suitIdx==i.SUIT_HEARTS&&(b=0);a.suitIdx==i.SUIT_DIAMONDS&&(b=2);a.suitIdx==i.SUIT_SPADES&&(b=3);i.cardExistsOnFoundation(b)?i.tryToPlaceCardonNonEmptyFoundation(a,b,c):!1==i.tryToPlaceCardOnEmptyFoundation(a,b,c)&&!1==c&&G.playInvalid();return a.myState==m.STATE_FOUNDATION?!0:!1};i.tryToPlaceCardonNonEmptyFoundation=function(a,b,c){if(i.areThereLowerCardsOnTableu(a)&&w.autoFinishInProgress)return!1;for(var e=m.cardArray,d=e.length,f=0,g=null;0<d--;){var h=e[d];h.myState==m.STATE_FOUNDATION&&h.foundationIdx==b&&h.foundationPosition>=f&&(f=h.foundationPosition,g=h)}if(null!=g&&g.suitIdx==a.suitIdx&&a.cardIdx!=i.CARD_IDX_A){if(g.cardIdx==i.CARD_IDX_A&&a.cardIdx==i.CARD_IDX_02||g.cardIdx+1==a.cardIdx)return i.placeCardOnNonEmptyFoundation(a,g),!0;!1==c&&G.playInvalid()}else null!=g&&a.cardIdx!=i.CARD_IDX_A?!1==c&&G.playInvalid():null==g&&!1==c&&G.playInvalid();return!1};i.areThereLowerCardsOnTableu=function(a){for(var b=m.cardArray,c=b.length;0<c--;){var e=b[c];if((e.myState==m.STATE_TABLEU||e.myState==m.STATE_FREECELL)&&i.isLowerCard(e,a))return!0}return!1};i.isLowerCard=function(a,b){if(b.suitIdx==i.SUIT_CLUBS||b.suitIdx==i.SUIT_SPADES)if((a.suitIdx==i.SUIT_DIAMONDS||a.suitIdx==i.SUIT_HEARTS)&&a.cardIdx<b.cardIdx)return!0;if(b.suitIdx==i.SUIT_DIAMONDS||b.suitIdx==i.SUIT_HEARTS)if((a.suitIdx==i.SUIT_CLUBS||a.suitIdx==i.SUIT_SPADES)&&a.cardIdx<b.cardIdx)return!0;return!1};i.placeCardOnNonEmptyFoundation=function(a,b){a.myState==m.STATE_TABLEU&&(t.currentScore+=5);G.play("SOUNDS/valid");a.myState=m.STATE_FOUNDATION;a.foundationIdx=b.foundationIdx;a.foundationPosition=b.foundationPosition+1;a.selectedFlag=!1;a.doubleclickInProgress=!1;w.tryToAutofinishGame()};i.tryToPlaceCardOnEmptyFoundation=function(a,b){return a.cardIdx==i.CARD_IDX_A?(a.myState==m.STATE_TABLEU&&(t.currentScore+=5,G.play("SOUNDS/valid")),a.myState=m.STATE_FOUNDATION,a.foundationIdx=b,a.foundationPosition=0,a.selectedFlag=!1,a.doubleclickInProgress=!1,w.tryToAutofinishGame(),!0):!1};i.cardExistsOnFoundation=function(a){for(var b=m.cardArray,c=b.length;0<c--;)if(b[c].myState==m.STATE_FOUNDATION&&b[c].foundationIdx==a)return!0;return!1};i.doubleClicked=function(a,b){if(!1==i.isValidMoveStack(a))return!1;a.doubleclickInProgress=!0;if(!1==a.doubleclickInProgress)return!0;i.droppedOnFoundation(a,0,!0);if(!1==a.doubleclickInProgress)return!0;i.droppedOnFoundation(a,1,!0);if(!1==a.doubleclickInProgress)return!0;i.droppedOnFoundation(a,2,!0);if(!1==a.doubleclickInProgress)return!0;i.droppedOnFoundation(a,3,!0);if(!1==a.doubleclickInProgress)return!0;if(b)return!1;var c=new fb(a.cardImgPosition.x-0.5*a.cardImgFront.getNaturalWidth(),a.cardImgPosition.y-0.5*a.cardImgFront.getNaturalHeight()),e=[0,1,2,3,4,5,6,7];c.x<a.cardImgFront.x._value&&(e=[7,6,5,4,3,2,1,0]);for(var d=e.length;0<d--;){var f=e[d];if(!1==i.isTabEmpty(f)&&(i.tryToAutoclickToTableu(a,f),!1==a.doubleclickInProgress))return!0}i.tryToAutoclickToTableu(a,e[0]);if(!1==a.doubleclickInProgress)return!0;i.tryToAutoclickToTableu(a,e[1]);if(!1==a.doubleclickInProgress)return!0;i.tryToAutoclickToTableu(a,e[2]);if(!1==a.doubleclickInProgress)return!0;i.tryToAutoclickToTableu(a,e[3]);if(!1==a.doubleclickInProgress)return!0;i.tryToAutoclickToTableu(a,e[4]);if(!1==a.doubleclickInProgress)return!0;i.tryToAutoclickToTableu(a,e[5]);if(!1==a.doubleclickInProgress)return!0;i.tryToAutoclickToTableu(a,e[6]);if(!1==a.doubleclickInProgress)return!0;i.tryToAutoclickToTableu(a,e[7]);if(!1==a.doubleclickInProgress)return!0;if(!1==i.isValidAutoclickCard(a))return G.playInvalid(),!1;i.droppedOnFreeCell(a,0);if(!1==a.doubleclickInProgress)return!0;i.droppedOnFreeCell(a,1);if(!1==a.doubleclickInProgress)return!0;i.droppedOnFreeCell(a,2);if(!1==a.doubleclickInProgress)return!0;i.droppedOnFreeCell(a,3);if(!1==a.doubleclickInProgress)return!0;a.setXY(c.x,c.y,!0);a.doubleclickInProgress=!1;G.playInvalid();return!1};i.isTabEmpty=function(a){for(var b=[!1,!1,!1,!1,!1,!1,!1,!1],c=m.cardArray.length;0<c--;){var e=m.cardArray[c];e.myState==m.STATE_TABLEU&&(b[e.tableouIdx]=!0)}return!1==b[a]?!0:!1};i.isValidAutoclickCard=function(a){return a.myState==m.STATE_TABLEU&&null==i.getByTableuPosition(a.tableouIdx,a.tableouPosition+1)||a.myState==m.STATE_FREECELL?!0:!1};i.tryToAutoclickToTableu=function(a,b){if(!(a.myState==m.STATE_FOUNDATION||a.myState==m.STATE_TABLEU&&a.tableouIdx==b)){a.getoOffSetAndSelect();for(var c=null,e=m.cardArray,d=e.length;0<d--;){var f=e[d];if(f.myState==m.STATE_TABLEU&&f.tableouIdx==b&&H.isOnTableuTop(f)){c=f;break}}d=[];for(f=e.length;0<f--;){var g=e[f];g.selectedFlag&&(d.push(g),g.oldPosition=new fb(g.cardImgPosition.x-0.5*g.cardImgFront.getNaturalWidth(),g.cardImgPosition.y-0.5*g.cardImgFront.getNaturalHeight()),null!=c?g.setXY(c.cardImgFront.x._value,c.cardImgFront.y._value,!0):g.setXY(77+b*A.CARD_X_DELTA_TABLEU,170,!0))}a.deselect();for(c=d.length;0<c--;)d[c].setXY(d[c].oldPosition.x,d[c].oldPosition.y,!0)}};i.Undo=function(){w.Undo()};i.getByCardAndSuitIdx=function(a,b){for(var c=m.cardArray,e=c.length;0<e--;){var d=c[e];if(d.suitIdx==a&&d.cardIdx==b)return d}return null};var da=function(){};f["farmgame.FinishingAnimation"]=da;da.__name__=["farmgame","FinishingAnimation"];da.start=function(){da.endAnimation=!1;da.currentFoundIdx=-1;da.currentCardAnimationCounter=0;da.allImgArr=[];l._platform.getPointer().down.connect(da.startNewGame).once();da.inProgress=!0;t.gameInProgress=!1};da.startNewGame=function(){!0!=da.endAnimation&&da.endAnimationSet()};da.endAnimationSet=function(){da.endAnimation=!0;for(var a=m.cardArray,b=a.length;0<b--;)a[b].cardImgFront.setScale(1);da.inProgress=!1};var A=function(){};f["farmgame.GameConsts"]=A;A.__name__=["farmgame","GameConsts"];var j=function(a){j.ctx=this;null==a._compMap.Director_3&&a.add((new Kc).setSize(A.WIDTH,A.HEIGHT));this._viewport=a};f["farmgame.GameContext"]=j;j.__name__=["farmgame","GameContext"];j.randomizeGameNumber=function(){null!=j.gameNumber&&(j.oldBGameNumber=j.gameNumber);j.gameNumber=Math.ceil(1E6*Math.random())};j.increaseGameCount=function(){l._platform.getStorage().set("gameCount321",1+l._platform.getStorage().get("gameCount321",0));j.gamePlayedThisSession++};j.getGameCount=function(){return l._platform.getStorage().get("gameCount321",0)};j.increaseGameWonCount=function(){l._platform.getStorage().set("gameWonCount321",1+l._platform.getStorage().get("gameWonCount321",0));j.gameWonThisSession++};j.getGameWonCount=function(){return l._platform.getStorage().get("gameWonCount321",0)};j.deleteAllStats=function(){l._platform.getStorage().clear();j.gameWonThisSession=0;j.gamePlayedThisSession=0};j.prototype={unwindToScene:function(a,b){this._viewport._compMap.Director_3.unwindToScene(a,b)},__class__:j};var h=function(){};f["farmgame.Language"]=h;h.__name__=["farmgame","Language"];h.initLanguage=function(){var a=l._platform.getExternal().call("location.href.toString").split("lang=")[1];null==a&&(a="en");var a=a.toUpperCase(),b=q.parse(j.pack.getFile("language.xml").toString()),b=new cc(b.firstElement());h.LanguageAbbrevations=[];h.DRAW_1_CARD=[];h.DRAW_3_CARDS=[];h.MENU=[];h.TIME=[];h.BEST=[];h.YOULOSTTHISGAMEIN=[];h.PLAY_SHORT=[];h.HOW_TO_PLAY_FULL=[];h.HOW_TO_PLAY=[];h.YOU_WIN=[];h.BONUS=[];h.SCORE=[];h.TOTAL=[];h.GAME_OVER=[];h.RESET_THIS_GAME=[];h.NEW_GAME=[];h.KEEP_PLAYING=[];h.RESTART_GAME=[];h.SOUND_ON=[];h.SOUND_OFF=[];h.MORE_GAMES=[];h.ARE_YOU_SURE_NEW=[];h.ARE_YOU_SURE_SHORT=[];h.ARE_YOU_SURE_RESTART=[];h.TIME_BONUS=[];h.YES=[];h.NO=[];h.UNDO=[];h.DECK=[];h.SELECT_DECK_CARD=[];h.RESUME=[];h.NEW_GAME_DRAW1=[];h.NEW_GAME_DRAW3=[];h.RESET_THIS_GAME=[];h.CURRENT_RESULT=[];h.MOVES=[];h.REPLAY=[];h.YOUWONGAME=[];h.GAMESELECT=[];h.NOMOVESLEFT=[];h.UNDOLASTMOVE=[];h.TIMEPLAYED=[];h.MOVESMADE=[];h.TOTALGAMESPLAYED=[];h.TOTALGAMESWON=[];h.BESTTIME=[];h.YOULOSTGAME=[];h.START_NEW=[];h.STATISTICS=[];h.OK=[];h.CLEAR=[];h.FREECELL=[];h.DO_YOU_WANT_TO_RESIGN=[];h.ALL_PROGRESS_WILL_BE_LOST=[];h.FREECELL_STATISTICS=[];h.TOTAL=[];h.THIS_SESSION=[];h.WON=[];h.LOST=[];h.WIN_PERCENT=[];h.ARE_YOU_SURE_DELETE_STATS=[];h.CARDS_LEFT=[];h.FREECELL_GAME=[];h.DO_YOU_WANT_TO_PLAY_AGAIN=[];h.CHECK_THE_BOX_TO_SELECT=[];h.SELECT_GAME=[];h.SAME_GAME=[];h.GAME_NUMBER=[];h.SELECT_GAME_NUMBER=[];for(b=b.nodes.resolve("language").iterator();null!=b.head;){var c;b.val=b.head[0];b.head=b.head[1];c=b.val;h.LanguageAbbrevations.push(c.att.resolve("name").toString());h.YOU_WIN.push(c.node.resolve("you_win").get_innerData().toString());h.NEW_GAME.push(c.node.resolve("new_game").get_innerData().toString());h.GAME_OVER.push(c.node.resolve("game_over").get_innerData().toString());h.RESTART_GAME.push(c.node.resolve("restart").get_innerData().toString());h.YES.push(c.node.resolve("yes").get_innerData().toString());h.NO.push(c.node.resolve("no").get_innerData().toString());h.UNDO.push(c.node.resolve("undo").get_innerData().toString());h.YOUWONGAME.push(c.node.resolve("youwongame").get_innerData().toString());h.YOULOSTGAME.push(c.node.resolve("youlostgame").get_innerData().toString());h.GAMESELECT.push(c.node.resolve("select").get_innerData().toString());h.STATISTICS.push(c.node.resolve("statistics").get_innerData().toString());h.OK.push(c.node.resolve("ok").get_innerData().toString());h.CLEAR.push(c.node.resolve("clear").get_innerData().toString());h.FREECELL.push(c.node.resolve("freecell").get_innerData().toString());h.DO_YOU_WANT_TO_RESIGN.push(c.node.resolve("do_you_want_to_resign").get_innerData().toString());h.ALL_PROGRESS_WILL_BE_LOST.push(c.node.resolve("all_progress_will_be_lost").get_innerData().toString());h.GAME_NUMBER.push(c.node.resolve("game_number").get_innerData().toString());h.SELECT_GAME_NUMBER.push(c.node.resolve("select_game_numeber").get_innerData().toString());h.FREECELL_STATISTICS.push(c.node.resolve("freecell_statistics").get_innerData().toString());h.THIS_SESSION.push(c.node.resolve("this_session").get_innerData().toString());h.WON.push(c.node.resolve("won").get_innerData().toString());h.LOST.push(c.node.resolve("lost").get_innerData().toString());h.WIN_PERCENT.push(c.node.resolve("win_percentage").get_innerData().toString());h.TOTAL.push(c.node.resolve("total").get_innerData().toString());h.ARE_YOU_SURE_DELETE_STATS.push(c.node.resolve("are_you_sure_you_want_to_delete_statistics").get_innerData().toString());h.CARDS_LEFT.push(c.node.resolve("cards_left").get_innerData().toString());h.FREECELL_GAME.push(c.node.resolve("freecell_game").get_innerData().toString());h.DO_YOU_WANT_TO_PLAY_AGAIN.push(c.node.resolve("do_you_want_to_play_again").get_innerData().toString());h.CHECK_THE_BOX_TO_SELECT.push(c.node.resolve("check_the_box_to_select").get_innerData().toString());h.SELECT_GAME.push(c.node.resolve("selecet_game").get_innerData().toString());h.SAME_GAME.push(c.node.resolve("same_game").get_innerData().toString())}h.langIdx=h.LanguageAbbrevations.indexOf(a.toLowerCase());null};var k=function(){};f["farmgame.Main"]=k;k.__name__=["farmgame","Main"];k.main=function(){l.init();C.SHOULD_HIDE_MOBILE_BROWSER=!1;k.layerBackground=new L;k.layerGame=new L;k.layerRotate=new L;k.layerPrompts=new L;k.layerPreBg=new L;l.root.addChild(k.layerPreBg);l.root.addChild(k.layerBackground);l.root.addChild(k.layerGame);l.root.addChild(k.layerPrompts);l.root.addChild(k.layerRotate);A.MOBILE_BROWSER=H.isMobileBrowser(l._platform.getExternal().call("getUserAgent"))?!0:!1;l._platform.getExternal().call("addClickListener");k.determineScreenSizeMode();k.borderN=new aa(16711680,0,0);k.borderE=new aa(16711680,0,0);k.borderS=new aa(16711680,0,0);k.borderW=new aa(16711680,0,0);k.imageN=null;k.imageE=null;k.imageS=null;k.imageW=null;k.borderN.set_visible(k.borderE.set_visible(k.borderS.set_visible(k.borderW.set_visible(!1))));k.onConfigLoaded(!1);l._platform.getStage().resize.connect(k.onResize,!0)};k.determineScreenSizeMode=function(){!1==l._platform.getStage().fullscreen.get__()&&1<l._platform.getExternal().call("eligibleForResize")&&A.MOBILE_BROWSER&&(A.SMALL_DEVICE_MODE=!0,null)};k.addBackgroundSprite=function(){null!=j.pack&&(k.backgroundState2?(k.preBg=new aa(0,l._platform.getStage().get_width(),l._platform.getStage().get_height()),r.attachToNewEntity(k.preBg,k.layerBackground),k.preBg.setXY(0,0),k.backgroundSprite=new Y(j.pack.getTexture("game_bg_hd")),k.bgSpriteEnt.add(k.backgroundSprite)):(k.backgroundSprite=new Y(j.pack.getTexture("game_bg_hd")),k.bgSpriteEnt=r.attachToNewEntity(k.backgroundSprite,k.layerBackground,!1),k.bgWhiteFill=new aa(0,l._platform.getStage().get_width(),l._platform.getStage().get_height()),r.attachToNewEntity(k.bgWhiteFill,k.layerBackground)),k.backgroundSprite.centerAnchor(),k.backgroundSprite.scaleX.set__(l._platform.getStage().get_width()/k.backgroundSprite.getNaturalWidth()),k.backgroundSprite.scaleY.set__(l._platform.getStage().get_height()/k.backgroundSprite.getNaturalHeight()),k.backgroundSprite.setScale(Math.max(k.backgroundSprite.scaleX._value,k.backgroundSprite.scaleY._value)),k.backgroundSprite.setXY(l._platform.getStage().get_width()/2,l._platform.getStage().get_height()/2),k.backgroundSprite.set_visible(!1),k.bgWhiteFill.centerAnchor(),k.bgWhiteFill.scaleX.set__(l._platform.getStage().get_width()/k.bgWhiteFill.getNaturalWidth()),k.bgWhiteFill.scaleY.set__(l._platform.getStage().get_height()/k.bgWhiteFill.getNaturalHeight()),k.bgWhiteFill.setScale(Math.max(k.bgWhiteFill.scaleX._value,k.bgWhiteFill.scaleY._value)),k.bgWhiteFill.setXY(l._platform.getStage().get_width()/2,l._platform.getStage().get_height()/2))};k.addRotateImg=function(){k.rotateImg=new Y(j.pack.getTexture("TURN"));r.attachToNewEntity(k.rotateImg,k.layerRotate,!1);k.rotateImg.centerAnchor();null!=l._platform.getStage()&&(k.rotateImg.setXY(l._platform.getStage().get_width()/2,l._platform.getStage().get_height()/2),k.rotateImg.scaleX.set__(l._platform.getStage().get_width()/k.rotateImg.getNaturalWidth()),k.rotateImg.scaleY.set__(l._platform.getStage().get_height()/k.rotateImg.getNaturalHeight()),k.rotateImg.set_visible(!1),k.rotateImg.setScale(Math.max(k.rotateImg.scaleX._value,k.rotateImg.scaleY._value)))};k.onResize=function(){k.resizeCalled=!0;k.layoutBorders()};k.onConfigLoaded=function(){var a=ta.fromAssets("bootstrap"),a=l._platform.loadAssetPack(a);k.viewport=(new L).add(new I);k.mainSprite=new I;(new L).add(k.mainSprite);k.layerGame.addChild(k.mainSprite.owner);k.mainSprite.owner.addChild(k.viewport);k.layoutBorders();a.get(k.onBootstrapFinish)};k.resizeHtml=function(){null};k.layoutBorders=function(){k.determineScreenSizeMode();var a=l._platform.getStage().get_width(),b=l._platform.getStage().get_height();k.theWidth=l._platform.getExternal().call("getWidth");k.theHeight=l._platform.getExternal().call("getHeight");if(b>a){var c=b,b=a,a=c;k.mainSprite.setRotation(90).setXY(b,0);k.isRotated=!0}else k.mainSprite.setRotation(0).setXY(0,0),k.isRotated=!1,b=k.theHeight*a/k.theWidth;var e=a/A.WIDTH,d=b/A.HEIGHT,c=Math.min(e,d);A.scaleX=e;A.scaleY=d;A.scale=c;e=k.viewport._compMap.Sprite_0;e.x.set__(0.5*a-0.5*c*A.WIDTH);e.y.set__(0.5*b-0.5*c*A.HEIGHT);e.setScale(c);j.viewPortSprite=e;k.borderN.setXY(0,0);k.borderN.width.set__(a);k.borderN.height.set__(e.y._value);k.borderN.disablePointer();k.borderE.setXY(a-e.x._value-1,e.y._value);k.borderE.width.set__(1+e.x._value);k.borderE.height.set__(b-2*e.y._value);k.borderE.disablePointer();k.borderS.setXY(0,b-e.y._value);k.borderS.width.set__(a);k.borderS.height.set__(e.y._value);k.borderS.disablePointer();k.borderW.setXY(0,e.y._value);k.borderW.width.set__(1+e.x._value);k.borderW.height.set__(b-
2*e.y._value);k.borderW.disablePointer();null!=k.rotateImg&&(k.theHeight>k.theWidth?(k.rotateImg.set_visible(!0),k.rotateImg.centerAnchor(),k.rotateImg.setXY(l._platform.getStage().get_width()/2,l._platform.getStage().get_height()/2),k.rotateImg.scaleX.set__(l._platform.getStage().get_width()/k.rotateImg.getNaturalWidth()),k.rotateImg.scaleY.set__(l._platform.getStage().get_height()/k.rotateImg.getNaturalHeight()),k.rotateImg.setScale(Math.max(k.rotateImg.scaleX._value,k.rotateImg.scaleY._value))):k.rotateImg.set_visible(!1));l._platform.getExternal().call("hideIosBar");k.addBackgroundSprite();r.delayedCall(1.5,k.checkIfNeedsToBeResized)};k.checkIfNeedsToBeResized=function(){l._platform.getStage().orientation.get__()==xb.Landscape&&(k.theWidth!=l._platform.getStage().get_width()||k.theHeight!=l._platform.getStage().get_height())&&l._platform.getStage().requestResize(k.theWidth,k.theHeight)};k.gotoFullScreenMode=function(){l._platform.getTouch().get_supported()&&l._platform.getStage().requestFullscreen();l._platform.getStage().requestResize(l._platform.getExternal().call("getWidth"),l._platform.getExternal().call("getHeight"));r.delayedCall(0.5,k.resizeHtml);r.delayedCall(0.55,k.onResize)};k.onBootstrapFinish=function(a){var b=new j(k.viewport);j.pack=a;j.preloaderPack=a;k.addBackgroundSprite();k.addRotateImg();l._platform.getStage().resize.connect(k.layoutBorders);r.delayedCall(1,k.layoutBorders);b.unwindToScene(D.create(b))};var E=function(){};f["farmgame.MainScene"]=E;E.__name__=["farmgame","MainScene"];E.create=function(){l.root.add(new Lc(1));E.scene=new L;E.scene.add(new ea);j.randomizeGameNumber();j.mainScene=E.scene;A.SMALL_DEVICE_MODE?r.delayedCall(1.0E-4,E.initScene):E.initScene();t.startTimer();l._platform.getPointer().down.connect(E.onMouseScroll);l._platform.getPointer().up.connect(E.onMouseUp);return E.scene};E.onMouseUp=function(){m.onPointerUpFront()};E.onMouseScroll=function(){var a=m.cardArray;if(null!=a)for(var b=a.length;0<b--;){var c=a[b];if(c.selectedFlag)c.onUpdate(0)}};E.initScene=function(){E.backgroundSprite=new Y(j.pack.getTexture("game_bg_hd"));r.attachToNewEntity(E.backgroundSprite,E.scene);E.backgroundSprite.setXY(0,0);E.turnOverCard=new aa(16777215,90,140);r.attachToNewEntity(E.turnOverCard,E.scene);E.turnOverCard.setXY(60,50);E.turnOverCard.setAlpha(0.001);k.backgroundState2=!0;k.backgroundSprite=null;k.addBackgroundSprite();E.createLayers(E.scene);l._platform.getKeyboard().down.connect(E.onKeyDown);l._platform.getKeyboard().up.connect(E.onKeyUp);E.newGame()};E.onKeyUp=function(a){a.key==d.Control&&(E.controlPressed=!1)};E.onKeyDown=function(a){E.controlPressed&&a.key==d.Z&&wa.isAvailable&&i.Undo();a.key==d.Control&&(E.controlPressed=!0);a.key==d.F1&&(null!=j.layerPrompt.firstChild&&j.layerPrompt.firstChild.dispose(),new yb);a.key==d.F2&&(null!=j.layerPrompt.firstChild&&j.layerPrompt.firstChild.dispose(),new yb(!0));a.key==d.F3&&(null!=j.layerPrompt.firstChild&&j.layerPrompt.firstChild.dispose(),new U(v.string(j.gameNumber)));a.key==d.F4&&(null!=j.layerPrompt.firstChild&&j.layerPrompt.firstChild.dispose(),new Ca(!1,!0))};E.createLayers=function(a){var b=new L,c=new L,e=new L,d=new L,f=new L,g=new L,h=new L;j.layerBG=b;j.layerTiles=c;j.layerAnimation=new L;j.layerPrompt=f;j.layerUI=d;A.layerRotate=g;j.layerUIBelow=h;a.addChild(b);a.addChild(h);a.addChild(d);a.addChild(c);a.addChild(f);a.addChild(e);a.addChild(g);new aa(16777215,1,1)};E.newGame=function(){w.removeAllCardsFromBoard();null!=t.myRef&&null!=t.myRef.owner&&t.myRef.owner.dispose();new t;l._platform.getTouch().get_supported()&&l._platform.getStage().requestFullscreen();E.startGame();l._platform.getStage().requestResize(l._platform.getExternal().call("getWidth"),l._platform.getExternal().call("getHeight"));r.delayedCall(0.5,k.resizeHtml);r.delayedCall(0.55,k.onResize);j.gameOverFlag=!1};E.startGame=function(){w.InitializeBoard()};var t=function(){this.countExtraTime=!1;this.counter=0;this.highScoreReached=!1;this.maxScore=this.maxScore3=0;x.call(this);t.myRef=this;this.owner=new L;j.layerUI.addChild(this.owner);this.owner.add(this);t.baseScore=0;t.bonusScore=0;t.currentScore=0;t.gameStartedStamp=0;t.currentSeconds=0;t.skipScoreManage=!1;var a=new Mc(this.owner);a.setXY(-1,0);var b=new Nc(this.owner);b.setXY(a.imgNormal.x._value+a.imgNormal.getNaturalWidth(),0);a=new Oc(this.owner);a.setXY(b.imgNormal.x._value+b.imgNormal.getNaturalWidth(),0);b=new Pc(this.owner);b.setXY(a.imgNormal.x._value+a.imgNormal.getNaturalWidth(),0);(new wa(this.owner)).setXY(b.imgNormal.x._value+b.imgNormal.getNaturalWidth(),0);this.cardLeftTxt=new P(j.font_black_15_regular,"Cards Left:52 / FreeCell Game #21500");this.cardLeftTxt.setXY(782,6);this.cardLeftTxt.setAlign(X.Right);r.attachToNewEntity(this.cardLeftTxt,this.owner);b=this.cardLeftTxt.letterSpacing;b.set__(b._value+0.75);this.scoreTxt=new P(j.white_semi_20,"0");this.scoreTxt.setXY(742,9);this.scoreTxt.setAlign(X.Right);this.timeTxt=new P(j.white_semi_20,"Time: ");this.timeTxt.setXY(600,5);this.timeTxt.setAlign(X.Right);this.timeTxt._text.toUpperCase();this.timeTxt.set_visible(!1);this.movesTxt=new P(j.white_semi_20,"0");this.movesTxt.set_text("123");this.movesTxt.setXY(617,9);this.movesTxt._text.toUpperCase();this.movesTxt.setAlign(X.Right);this.bestScoreTxt=new P(j.font_light_bold_18,"Best: ");this.bestScoreTxt.setXY(778,20);this.bestScoreTxt.setAlign(X.Right);this.bestScoreTxt.set_visible(!1);this.kingleft=new Y(j.pack.getTexture("ui/game_mascot_leftlooking"));this.kingright=new Y(j.pack.getTexture("ui/game_mascot_rightlooking"));r.attachToNewEntity(this.kingleft,this.owner);r.attachToNewEntity(this.kingright,this.owner);this.kingleft.setXY(400,84);this.kingright.setXY(400,84);this.kingright.centerAnchor();this.kingleft.centerAnchor();b=new aa(16777215,240,50);b.alpha.set__(1.0E-9);b.setXY(320,570);b.get_pointerDown().connect(B(this,this.onFooterClicked));b.set_visible(!1);b.get_pointerIn().connect(function(){l._platform.getMouse().set_cursor(ia.Button)});b.get_pointerOut().connect(function(){l._platform.getMouse().set_cursor(ia.Default)});l._platform.getExternal().bind("onBodyClicked",function(){});l._platform.getExternal().call("addBindListener");this.manageHighScore();this.king=new Y(j.pack.getTexture("king"));r.attachToNewEntity(this.king,this.owner);this.king.setXY(10,A.HEIGHT-this.king.getNaturalHeight());ha.delay(function(){},2E3)};f["farmgame.MainUI"]=t;t.__name__=["farmgame","MainUI"];t.convertToHHMMSS=function(a){var b=a%60,c=Math.floor(a%3600/60);t.doubleDigitFormat(Math.floor(a/3600));a=t.doubleDigitFormat(c)+":";b=t.doubleDigitFormat(b);return a+b};t.doubleDigitFormat=function(a){return 10>a?"0"+a:""+a};t.startTimer=function(){};t.restartTimer=function(){t.gameInProgress=!0;t.currentSeconds=-1};t.__super__=x;t.prototype=p(x.prototype,{get_name:function(){return"MainUI_17"},onFooterClicked:function(){var a=this;this.justClickedGameboss=!0;r.delayedCall(0.5,function(){a.justClickedGameboss=!1})},onUpdate:function(a){var b=!1;null!=U.myRef&&null!=U.myRef.owner&&(b=!0);!1==b&&this.cardLeftTxt.set_text(h.CARDS_LEFT[h.langIdx]+": "+w.cardsNotOnFoundation()+"  /  "+h.FREECELL_GAME[h.langIdx]+j.gameNumber);b=A.GAME_TIME-t.currentSeconds;0==w.cardsNotOnFoundation()?this.king.set_visible(!0):this.king.set_visible(!1);l._platform.getPointer().get_x()>0.5*l._platform.getStage().get_width()?(this.kingleft.set_visible(!1),this.kingright.set_visible(!0)):(this.kingleft.set_visible(!0),this.kingright.set_visible(!1));for(var c=0,e=m.cardArray.length;0<e--;)m.cardArray[e].myState==m.STATE_FOUNDATION&&c++;t.baseScore=5*c;t.currentScore=t.baseScore+t.bonusScore;this.scoreTxt.set_text(""+t.currentScore);this.timeTxt.set_text(""+this.formatTime(Math.floor(b)));this.movesTxt.set_text(""+t.totalMoves);this.timeTxt._text.toUpperCase();this.movesTxt._text.toUpperCase();x.prototype.onUpdate.call(this,a);0==this.counter++%8&&w.checkIfGameOver();!1==t.skipScoreManage&&this.manageHighScore();l._platform.getStorage().get("bestscorefreecell",0)<t.currentScore&&l._platform.getStorage().set("bestscorefreecell",t.currentScore)},formatTime:function(a){return t.convertToHHMMSS(a)},createBestResultString:function(){return""},manageHighScore:function(){var a=0,a=0;1==j.drawCardNum?(l._platform.getStorage().get("bigmaxScore2",0)>this.maxScore&&(this.maxScore=l._platform.getStorage().get("bigmaxScore2",0)),a=t.currentScore+a,t.currentScore=a,this.scoreTxt.set_text(""+a),a>=this.maxScore&&!0!=this.highScoreReached?(this.highScoreReached=!0,this.maxScore=a,l._platform.getStorage().set("bigmaxScore2",this.maxScore),l._platform.getStorage().set("bestresult1card",this.createBestResultString())):a>=this.maxScore&&(l._platform.getStorage().set("bigmaxScore2",a),l._platform.getStorage().set("bestresult1card",this.createBestResultString())),this.bestScoreTxt.set_text(""+this.maxScore)):(l._platform.getStorage().get("bigmaxScore2345",0)>this.maxScore3&&(this.maxScore3=l._platform.getStorage().get("bigmaxScore2345",0)),a=t.currentScore+a,t.currentScore=a,this.scoreTxt.set_text(""+a),a>=this.maxScore3&&!0!=this.highScoreReached?(this.highScoreReached=!0,this.maxScore=a,l._platform.getStorage().set("bigmaxScore2345",this.maxScore3),l._platform.getStorage().set("bestresult3card",this.createBestResultString())):a>=this.maxScore3&&(l._platform.getStorage().set("bigmaxScore2345",a),l._platform.getStorage().set("bestresult3card",this.createBestResultString())),this.bestScoreTxt.set_text(""+this.maxScore3))},gameOverStarted:function(){var a=this;new ca(!1);da.start();t.skipScoreManage=!0;this.manageHighScore(!0);r.delayedCall(0.5,function(){j.lastGameTime=t.currentSeconds;a.countExtraTime=!0;a.countExtraTimeFrames=180})},__class__:t});var D=function(){};f["farmgame.PreloaderScene"]=D;D.__name__=["farmgame","PreloaderScene"];D.create=function(a){h.initLanguage();D.deltaY=150;D.ctx=a;D.scene=new L;a=ta.fromAssets("hd_assets");a=l._platform.loadAssetPack(a);l._platform.getTouch().get_supported()&&(D.mobileBrowser=!0);D.imgSpr=D.mobileBrowser?new Y(j.pack.getTexture("play")):new Y(j.pack.getTexture("splash"));r.attachToNewEntity(D.imgSpr,D.scene);D.imgSpr.setXY(A.WIDTH/2,A.HEIGHT/2);D.imgSpr.centerAnchor();D.imgSpr.setScale(1);D.logo=new Y(j.pack.getTexture("m_poollogo",!1));D.logo.setXY(A.WIDTH/2,A.HEIGHT/2-50-D.deltaY);D.logo.centerAnchor();D.logo.setScale(1);D.logo.disablePointer();D.logo.set_visible(!1);if(D.mobileBrowser)D.imgSpr.get_pointerDown().connect(D.firstTapMobile).once();else r.delayedCall(0.1,D.tryToStartNextScene);a.get(function(a){j.pack=a;D.allowNextScreen=!0;G.Init();j.font_digits=new xa(j.pack,"font_digits/font");j.font_black_24_regular=new xa(j.pack,"font_black_24_regular/font");j.font_black_24_bold=new xa(j.pack,"font_black_24_bold/font");j.font_white_24_bold=new xa(j.pack,"font_white_24_bold/font");j.font_black_15_bold=new xa(j.pack,"font_black_15_bold/font");j.font_black_15_regular=new xa(j.pack,"font_black_15_regular/font");j.font_grey_15_regular=new xa(j.pack,"font_grey_15_regular/font");j.font_black_15_regular._glyphs.h[110].xOffset+=1;j.font_black_15_regular._glyphs.h[105].xOffset+=1;j.font_black_15_regular._glyphs.h[105].xAdvance+=1;r.delayedCall(0.5,function(){null});r.delayedCall(2,function(){null});r.delayedCall(4,function(){null})});return D.scene};D.firstTapMobile=function(){D.tryToStartNextScene();k.gotoFullScreenMode()};D.tryToStartNextScene=function(){D.allowNextScreen?r.delayedCall(0.02,D.startNextScene):r.delayedCall(2,D.tryToStartNextScene)};D.startNextScene=function(){D.imgSpr.alpha.animateTo(0,0.0025);k.bgWhiteFill.alpha.animateTo(0,0.0025);r.delayedCall(0.0025,D.showPlayBut)};D.showPlayBut=function(){D.actuallyStartNextScene()};D.actuallyStartNextScene=function(){D.scene.disposeChildren();D.scene.dispose();D.ctx.unwindToScene(E.create(D.ctx),new Qc(0.01))};var kb=function(){};f["farmgame.RNG"]=kb;kb.__name__=["farmgame","RNG"];kb.initSeed=function(a){kb.seed=a};kb.next=function(){kb.seed=214013*kb.seed+2531011&2147483647;return kb.seed>>16};var ea=function(){this.counter=0;x.call(this);ea.imageFiller=new aa(0,l._platform.getStage().get_width(),l._platform.getStage().get_height());r.attachToNewEntity(ea.imageFiller,k.layerGame,!0);ea.imageFiller.setAlpha(1.0E-4);ea.imageFiller.set_visible(!1);ea.imageFiller.get_pointerDown().connect(B(this,this.onImageFillerPointerDown))};f["farmgame.SceneManager"]=ea;ea.__name__=["farmgame","SceneManager"];ea.__super__=x;ea.prototype=p(x.prototype,{get_name:function(){return"SceneManager_16"},onImageFillerPointerDown:function(){null!=ba.myRef&&null!=ba.myRef.owner&&null!=ba.myRef.owner.parent&&ba.myRef.remove();null!=lb.myref&&null!=lb.myref.owner&&null!=lb.myref.owner.parent&&lb.myref.remove()},onUpdate:function(a){null!=k.layerPrompts.firstChild?ea.imageFiller.set_visible(!0):ea.imageFiller.set_visible(!1);if(0==this.counter++%2&&(ea.imageFiller.getNaturalWidth()!=l._platform.getStage().get_width()||ea.imageFiller.getNaturalHeight()!=l._platform.getStage().get_height()))ea.imageFiller.dispose(),ea.imageFiller=new aa(0,l._platform.getStage().get_width(),l._platform.getStage().get_height()),ea.imageFiller.set_visible(!1),r.attachToNewEntity(ea.imageFiller,k.layerGame,!0),ea.imageFiller.setAlpha(1.0E-4),ea.imageFiller.get_pointerDown().connect(B(this,this.onImageFillerPointerDown));0==this.counter%80&&(this.theWidth=l._platform.getExternal().call("getWidth"),this.theHeight=l._platform.getExternal().call("getHeight"),(this.theWidth!=l._platform.getStage().get_width()||this.theHeight!=l._platform.getStage().get_height())&&l._platform.getStage().requestResize(this.theWidth,this.theHeight),this.theWidth>this.theHeight?k.rotateImg.set_visible(!1):(k.rotateImg.set_visible(!0),k.rotateImg.centerAnchor(),k.rotateImg.setXY(0.5*this.theWidth,0.5*this.theHeight),k.rotateImg.scaleX.set__(this.theWidth/k.rotateImg.getNaturalWidth()),k.rotateImg.scaleY.set__(this.theHeight/k.rotateImg.getNaturalHeight())));x.prototype.onUpdate.call(this,a)},__class__:ea});var Id=function(){x.call(this);this.owner=(new L).add(this);l.root.addChild(this.owner)};f["farmgame.SoundIndexHolder"]=Id;Id.__name__=["farmgame","SoundIndexHolder"];Id.__super__=x;Id.prototype=p(x.prototype,{get_name:function(){return"SoundIndexHolder_19"},onUpdate:function(a){var b=G.allPlaybacks[this.soundIdx][this.counterIdx];!1==b.get_paused()&&0==this.soundIdx&&b.get_position();x.prototype.onUpdate.call(this,a)},playSoundStarted:function(a){this.playSoundTween=r.delayedCall(a+0.1,B(this,this.playSoundEnded))},playSoundEnded:function(){null!=this.playSoundTween&&null!=this.playSoundTween.owner&&this.playSoundTween.owner.dispose();var a=G.allPlaybacks[this.soundIdx][this.counterIdx],a=j.pack.getSound(G.allSoundArrayNames[this.soundIdx]).play();a.set_paused(!0);a.volume.set__(0);G.allPlaybacks[this.soundIdx][this.counterIdx]=a;null},__class__:Id});var G=function(){};f["farmgame.SoundPlayer2"]=G;G.__name__=["farmgame","SoundPlayer2"];G.Init=function(){};G.play=function(){};G.playInvalid=function(){G.canPlayInvalid&&(G.play("SOUNDS/invalid"),ha.delay(function(){G.canPlayInvalid=!0},200),G.canPlayInvalid=!1)};G.playDealCards=function(){G.canPlayDeal&&(G.play("SOUNDS/dealcards"),ha.delay(function(){G.canPlayDeal=!0},5),G.canPlayDeal=!1)};var H=function(){};f["farmgame.Util"]=H;H.__name__=["farmgame","Util"];H.isMobileBrowser=function(a){return 0<=a.lastIndexOf("Mobile")||0<=a.lastIndexOf("Android")?!0:!1};H.returnNormalizedMouseCoords=function(){l._platform.getStage().get_width();var a=(l._platform.getPointer().get_x()-k.borderE.width._value)/A.scale,b=600*(l._platform.getPointer().get_y()/l._platform.getStage().get_height());return new fb(a,b)};H.overlapping=function(a,b){return a==b?!1:a.x._value<b.x._value+b.getNaturalWidth()+1&&a.x._value+a.getNaturalWidth()+1>b.x._value&&a.y._value<b.y._value+b.getNaturalHeight()+1&&a.getNaturalHeight()+1+a.y._value>b.y._value?!0:!1};H.checkIfCardPlacedAtValidSpot=function(a){return!1==i.isValidMoveStack(a,!1,!1)?!1:!1==a.dragMode?H.checkifCardPlacedAtValidSpotDoubleclick(a):H.checkifCardPlacedAtValidSpotDrag(a)};H.checkifCardPlacedAtValidSpotDrag=function(a){var b=!1,c=a.cardImgFront.x._value,e=a.cardImgFront.x;e.set__(e._value+30);if(i.overlapsFoundation(a.cardImgFront)&&i.droppedOnFoundation(a,-1,!0))return a.cardImgFront.x.set__(c),!0;e=a.cardImgFront.x;e.set__(e._value-30);if(i.overlapsFoundation(a.cardImgFront)&&i.droppedOnFoundation(a,-1,!0))return a.cardImgFront.x.set__(c),!0;a.cardImgFront.x.set__(c);for(var e=m.cardArray,d=e.length;0<d--;)if(H.overlapping(e[d].cardImgFront,a.cardImgFront)&&e[d].myState==m.STATE_TABLEU&&H.droppedOnTableu(a,e[d]))return a.cardImgFront.x.set__(c),a.doubleclickInProgress=!1,b=!0;a.cardImgFront.x.set__(c);e=a.cardImgFront.x;e.set__(e._value+30);e=a.cardImgFront.x;e.set__(e._value+10);if(i.overlapsEmptyTableu(a.cardImgFront)){b=!1;if(!1==i.isValidMoveStack(a,!0,!1))return!1;a.myState==m.STATE_TABLEU&&(b=!0);i.droppedOnEmptyTableu(a);a.cardImgFront.x.set__(c);a.myState==m.STATE_TABLEU&&(b=!0);a.doubleclickInProgress=!1;return b}null;e=a.cardImgFront.x;e.set__(e._value-10);e=a.cardImgFront.x;e.set__(e._value-60);if(i.overlapsEmptyTableu(a.cardImgFront)){b=!1;if(!1==i.isValidMoveStack(a,!0,!1))return!1;a.myState==m.STATE_TABLEU&&(b=!0);i.droppedOnEmptyTableu(a);a.cardImgFront.x.set__(c);a.myState==m.STATE_TABLEU&&(b=!0);a.doubleclickInProgress=!1;return b}null;e=a.cardImgFront.x;e.set__(e._value+60);e=a.cardImgFront.x;e.set__(e._value-40);e=a.cardImgFront.x;e.set__(e._value+40);if(i.overlapsEmptyFreeCell(a.cardImgFront)&&i.droppedOnFreeCell(a))return b=a.cardImgFront.x,b.set__(b._value-40),a.cardImgFront.x.set__(c),!0;e=a.cardImgFront.x;e.set__(e._value-40);e=a.cardImgFront.x;e.set__(e._value+80);if(i.overlapsEmptyFreeCell(a.cardImgFront)&&i.droppedOnFreeCell(a))return b=a.cardImgFront.x,b.set__(b._value-80),a.cardImgFront.x.set__(c),!0;e=a.cardImgFront.x;e.set__(e._value-80);e=a.cardImgFront.x;e.set__(e._value+10);if(i.overlapsEmptyFreeCell(a.cardImgFront)&&i.droppedOnFreeCell(a))return b=a.cardImgFront.x,b.set__(b._value-10),a.cardImgFront.x.set__(c),!0;a=a.cardImgFront.x;a.set__(a._value-10);return b};H.checkifCardPlacedAtValidSpotDoubleclick=function(a){var b=!1,c=a.cardImgFront.x;c.set__(c._value);if(i.overlapsFoundation(a.cardImgFront)&&(c=a.cardImgFront.x,c.set__(c._value),i.droppedOnFoundation(a,-1,!0)))return!0;c=a.cardImgFront.x;c.set__(c._value);c=a.cardImgFront.x;c.set__(c._value);if(i.overlapsEmptyTableu(a.cardImgFront)){b=!1;if(!1==i.isValidMoveStack(a,!0,!1))return!1;a.myState==m.STATE_TABLEU&&(b=!0);i.droppedOnEmptyTableu(a);a.myState==m.STATE_TABLEU&&(b=!0);a.doubleclickInProgress=!1;return b}null;c=a.cardImgFront.x;c.set__(c._value);if(i.overlapsEmptyFreeCell(a.cardImgFront)&&i.droppedOnFreeCell(a))return!0;for(var c=m.cardArray,e=c.length;0<e--;)if(H.overlapping(c[e].cardImgFront,a.cardImgFront)&&c[e].myState==m.STATE_TABLEU&&H.droppedOnTableu(a,c[e])){a.doubleclickInProgress=!1;b=!0;break}return b};H.droppedOnTableu=function(a,b){return H.isOnTableuTop(b)&&b.turned?H.tryToPlaceOnTableu(a,b):!1};H.tryToPlaceOnTableu=function(a,b){if(b.cardIdx!=i.CARD_IDX_A&&(a.cardIdx==i.CARD_IDX_A&&b.cardIdx==i.CARD_IDX_02||a.cardIdx+1==b.cardIdx))if(b.suitIdx==i.SUIT_CLUBS||b.suitIdx==i.SUIT_SPADES){if(a.suitIdx==i.SUIT_HEARTS||a.suitIdx==i.SUIT_DIAMONDS)return H.placeOnTableu(a,b)}else if(a.suitIdx==i.SUIT_CLUBS||a.suitIdx==i.SUIT_SPADES)return H.placeOnTableu(a,b);return!1};H.placeOnTableu=function(a,b){H.uncoverTableu(a);a.myState==m.STATE_FOUNDATION&&(t.currentScore-=15);G.play("SOUNDS/valid");a.myState=m.STATE_TABLEU;a.tableouIdx=b.tableouIdx;a.tableouPosition=b.tableouPosition+1;a.selectedFlag=!1;w.lastTableuoSuccessPlacementIdx=a.tableouIdx;w.tryToAutofinishGame();return!0};H.uncoverTableu=function(a){if(!(a.myState!=m.STATE_TABLEU&&a.myState!=m.STATE_FOUNDATION))for(var b=m.cardArray,c=b.length;0<c--;)b[c].myState==m.STATE_TABLEU&&b[c].tableouIdx==a.tableouIdx&&b[c].tableouPosition+1==a.tableouPosition&&b[c].flipCard()};H.isOnTableuTop=function(a){for(var b=a.tableouIdx,c=m.cardArray,e=c.length;0<e--;){var d=c[e];if(d.myState==m.STATE_TABLEU&&d.tableouIdx==b&&d.tableouPosition>a.tableouPosition)return!1}return!0};var N=function(){};f["farmgame.ValidMoveUtil"]=N;N.__name__=["farmgame","ValidMoveUtil"];N.isBoardPlayable=function(){return N.areThereFreeCells()||N.areThereEmptyTableu()||N.fromFreeCellToTableu()||N.fromTableuToTableu()||N.fromFreeCellToFoundation()||N.fromTableuToFoundation()?!0:!1};N.fromFreeCellToFoundation=function(){for(var a=m.cardArray,b=a.length;0<b--;){var c=a[b];if(c.myState==m.STATE_FREECELL&&N.tryToPlaceOnAnyFoundation(c))return!0}return!1};N.fromTableuToFoundation=function(){for(var a=m.cardArray,b=a.length;0<b--;){var c=a[b];if(c.myState==m.STATE_TABLEU&&H.isOnTableuTop(c)&&N.tryToPlaceOnAnyFoundation(c))return!0}return!1};N.tryToPlaceOnAnyFoundation=function(a){return N.tryToPlaceOnFoundation(a,0)||N.tryToPlaceOnFoundation(a,1)||N.tryToPlaceOnFoundation(a,2)||N.tryToPlaceOnFoundation(a,3)?!0:!1};N.tryToPlaceOnFoundation=function(a,b){if(i.cardExistsOnFoundation(b)){if(N.tryToPlaceOnNonEmptyFoundation(a,b))return!0}else if(N.tryToPlaceOnEmptyFoundation(a,b))return!0;return!1};N.tryToPlaceOnEmptyFoundation=function(a){return a.cardIdx==i.CARD_IDX_A?!0:!1};N.tryToPlaceOnNonEmptyFoundation=function(a,b){for(var c=m.cardArray,e=c.length,d=0,f=null;0<e--;){var g=c[e];g.myState==m.STATE_FOUNDATION&&g.foundationIdx==b&&g.foundationPosition>=d&&(d=g.foundationPosition,f=g)}return null!=f&&f.suitIdx==a.suitIdx&&a.cardIdx!=i.CARD_IDX_A&&(f.cardIdx==i.CARD_IDX_A&&a.cardIdx==i.CARD_IDX_02||f.cardIdx+1==a.cardIdx)?!0:!1};N.fromTableuToTableu=function(){for(var a=m.cardArray,b=a.length;0<b--;){var c=a[b];if(c.myState==m.STATE_TABLEU&&H.isOnTableuTop(c)&&N.tryToPlaceOnAnyTableu(c))return!0}return!1};N.fromFreeCellToTableu=function(){for(var a=m.cardArray,b=a.length;0<b--;){var c=a[b];if(c.myState==m.STATE_FREECELL&&N.tryToPlaceOnAnyTableu(c))return!0}return!1};N.tryToPlaceOnAnyTableu=function(a){for(var b=8;0<b--;)if(N.tryToPlaceOnTableu(b,a))return!0;return!1};N.tryToPlaceOnTableu=function(a,b){if(b.myState==m.STATE_TABLEU&&b.tableouIdx==a)return!1;for(var c=null,e=m.cardArray,d=e.length;0<d--;){var f=e[d];if(f.myState==m.STATE_TABLEU&&f.tableouIdx==a&&H.isOnTableuTop(f)){c=f;break}}if(c.cardIdx!=i.CARD_IDX_A&&(b.cardIdx==i.CARD_IDX_A&&c.cardIdx==i.CARD_IDX_02||b.cardIdx+1==c.cardIdx))if(c.suitIdx==i.SUIT_CLUBS||c.suitIdx==i.SUIT_SPADES){if(b.suitIdx==i.SUIT_HEARTS||b.suitIdx==i.SUIT_DIAMONDS)return!0}else if(b.suitIdx==i.SUIT_CLUBS||b.suitIdx==i.SUIT_SPADES)return!0;return!1};N.areThereEmptyTableu=function(){for(var a=[!1,!1,!1,!1,!1,!1,!1,!1],b=m.cardArray.length;0<b--;){var c=m.cardArray[b];c.myState==m.STATE_TABLEU&&(a[c.tableouIdx]=!0)}for(b=a.length;0<b--;)if(!1==a[b])return!0;return!1};N.areThereFreeCells=function(){for(var a=m.cardArray.length,b=4;0<a--;)m.cardArray[a].myState==m.STATE_FREECELL&&b--;return 0>=b?!1:!0};var y=function(a,b,c,e,d){null==d&&(d="button_prompt_over");null==e&&(e="button_prompt");this.textY=0;Ja.call(this,b,e,d);this.textSpr=new P(a,""+c);r.attachToNewEntity(this.textSpr,this.owner);this.textSpr.setAlign(X.Center);this.textSpr.setXY(0.5*this.imgNormal.getNaturalWidth(),0.2*this.imgNormal.getNaturalHeight());this.textSpr.disablePointer();this.textSpr.setLetterSpacing(0.75)};f["farmgame.buttons.ButtonWithOverAndText"]=y;y.__name__=["farmgame","buttons","ButtonWithOverAndText"];y.__super__=Ja;y.prototype=p(Ja.prototype,{setXY:function(a,b){this.textY=b;this.textSpr.setXY(a,this.textY-0.25*this.imgNormal.getNaturalHeight());Ja.prototype.setXY.call(this,a,b)},onUpdate:function(a){Ja.prototype.onUpdate.call(this,a)},onMouseOut:function(a){Ja.prototype.onMouseOut.call(this,a)},onMouseOver:function(a){Ja.prototype.onMouseOver.call(this,a)},tweenOutRight:function(a){null==a&&(a=0);var b=this;ha.delay(function(){b.textSpr.x.animateBy(800,0.2,zb.sineIn);b.imgNormal.x.animateBy(800,0.2,zb.sineIn);b.imgover.x.animateBy(800,0.2,zb.sineIn)},a)},__class__:y});var V=function(a,b){x.call(this);this.owner=new L;a.addChild(this.owner);this.container=a;this.owner.add(this);this.textSpr=new P(j.font_black_15_regular,""+b);var c=this.textSpr.letterSpacing;c.set__(c._value+0.75);this.textSpr.setAlign(X.Center);this.textSpr.disablePointer();this.imgNormal=new aa(16777215,this.textSpr.getNaturalWidth()+30,24);this.imgNormalEnt=r.attachToNewEntity(this.imgNormal,this.owner);this.imgover=new aa(13948633,this.textSpr.getNaturalWidth()+30,26);r.attachToNewEntity(this.imgover,this.owner);this.imgover.get_pointerOut().connect(B(this,this.onMouseOut));this.imgNormal.get_pointerIn().connect(B(this,this.onMouseOver));this.imgNormal.get_pointerDown().connect(B(this,this.onClick));this.imgover.get_pointerDown().connect(B(this,this.onClick));r.attachToNewEntity(this.textSpr,this.owner);this.imgNormal.set_visible(!0);this.imgover.set_visible(!1)};f["farmgame.buttons.ButtonXPClassic"]=V;V.__name__=["farmgame","buttons","ButtonXPClassic"];V.__super__=x;V.prototype=p(x.prototype,{get_name:function(){return"ButtonXPClassic_8"},onUpdate:function(a){x.prototype.onUpdate.call(this,a);if(0!=(this.imgover._flags&2)&&!1==this.imgover.contains(l._platform.getPointer().get_x(),l._platform.getPointer().get_y()))this.onMouseOut(null)},setXY:function(a,b){this.textSpr.setXY(a+0.5*this.imgNormal.getNaturalWidth(),b+0.22*this.imgNormal.getNaturalHeight());this.imgNormal.setXY(a+2,b+2);this.imgover.setXY(a+2,b+1)},onClick:function(){l._platform.getMouse().set_cursor(ia.Default)},onMouseOut:function(){this.imgNormal.set_visible(!0);this.imgover.set_visible(!1);l._platform.getMouse().set_cursor(ia.Default)},onMouseOver:function(){this.imgNormal.set_visible(!1);this.imgover.set_visible(!0);l._platform.getMouse().set_cursor(ia.Button)},__class__:V});var Jd=function(){};f["farmgame.buttons.MoreGamesButton"]=Jd;Jd.__name__=["farmgame","buttons","MoreGamesButton"];Jd.__super__=y;Jd.prototype=p(y.prototype,{onClick:function(a){t.myRef.onFooterClicked(null);y.prototype.onClick.call(this,a)},setXY:function(a,b){this.textSpr.setXY(a+0.5*this.imgNormal.getNaturalWidth(),b+0.3*this.imgNormal.getNaturalHeight());this.imgNormal.setXY(a,b);this.imgover.setXY(a,b)},__class__:Jd});var Kd=function(){};f["farmgame.buttons.NewGameButton"]=Kd;Kd.__name__=["farmgame","buttons","NewGameButton"];Kd.__super__=y;Kd.prototype=p(y.prototype,{onClick:function(a){this.newGameDirectly?(null!=ca.myRef&&null!=ca.myRef.owner&&ca.myRef.owner.dispose(),null!=ba.myRef&&null!=ba.myRef.owner&&ba.myRef.owner.dispose(),j.randomizeGameNumber(),j.increaseGameCount(),E.newGame()):(j.randomizeGameNumber(),new U("#617"),null!=ba.myRef&&null!=ba.myRef.owner&&ba.myRef.owner.dispose());null!=Ob.myRef&&null!=Ob.myRef.owner&&Ob.myRef.owner.dispose();y.prototype.onClick.call(this,a)},setXY:function(a,b){this.textSpr.setXY(a+0.5*this.imgNormal.getNaturalWidth(),b+0.3*this.imgNormal.getNaturalHeight());this.imgNormal.setXY(a,b);this.imgover.setXY(a,b)},onMouseOver:function(a){y.prototype.onMouseOver.call(this,a)},onMouseOut:function(a){y.prototype.onMouseOut.call(this,a)},onUpdate:function(a){y.prototype.onUpdate.call(this,a)},__class__:Kd});var Mc=function(a){V.call(this,a,h.NEW_GAME[h.langIdx],1.2)};f["farmgame.buttons.NewGameButtonXP"]=Mc;Mc.__name__=["farmgame","buttons","NewGameButtonXP"];Mc.__super__=V;Mc.prototype=p(V.prototype,{onClick:function(a){new yb(!0);V.prototype.onClick.call(this,a)},__class__:Mc});var Ab=function(a,b){y.call(this,j.font_black_15_regular,a,h.NO[h.langIdx],"ui/prompt_button","ui/prompt_button_over");this.noFunction=b};f["farmgame.buttons.NoButton"]=Ab;Ab.__name__=["farmgame","buttons","NoButton"];Ab.__super__=y;Ab.prototype=p(y.prototype,{onClick:function(a){this.noFunction();y.prototype.onClick.call(this,a)},setXY:function(a,b){y.prototype.setXY.call(this,a,b);this.textSpr.setXY(a,b-0.55*this.textSpr.getNaturalHeight())},__class__:Ab});var Rc=function(a){y.call(this,j.font_black_15_regular,a,h.OK[h.langIdx],"ui/prompt_button","ui/prompt_button_over")};f["farmgame.buttons.PlayButton"]=Rc;Rc.__name__=["farmgame","buttons","PlayButton"];Rc.__super__=y;Rc.prototype=p(y.prototype,{onClick:function(a){null!=U.myRef&&null!=U.myRef.owner&&U.myRef.owner.dispose();null!=ca.myRef&&null!=ca.myRef.owner&&ca.myRef.owner.dispose();E.newGame();y.prototype.onClick.call(this,a)},setXY:function(a,b){y.prototype.setXY.call(this,a,b);var c=this.textSpr.y;c.set__(c._value+3);this.textSpr.setXY(a+0.5*this.imgNormal.getNaturalWidth(),b+0.1*this.imgNormal.getNaturalHeight())},__class__:Rc});var Ld=function(){};f["farmgame.buttons.RestartButton"]=Ld;Ld.__name__=["farmgame","buttons","RestartButton"];Ld.__super__=y;Ld.prototype=p(y.prototype,{onClick:function(a){this.restartDirectly?(null!=ca.myRef&&null!=ca.myRef.owner&&ca.myRef.owner.dispose(),null!=ba.myRef&&null!=ba.myRef.owner&&ba.myRef.owner.dispose(),j.increaseGameCount(),E.newGame()):(new Sc(!0),null!=ba.myRef&&ba.myRef.owner.dispose());y.prototype.onClick.call(this,a)},setXY:function(a,b){this.textSpr.setXY(a+0.5*this.imgNormal.getNaturalWidth(),b+0.3*this.imgNormal.getNaturalHeight());this.imgNormal.setXY(a,b);this.imgover.setXY(a,b)},__class__:Ld});var Oc=function(a){V.call(this,a,h.RESTART_GAME[h.langIdx])};f["farmgame.buttons.RestartButtonXP"]=Oc;Oc.__name__=["farmgame","buttons","RestartButtonXP"];Oc.__super__=V;Oc.prototype=p(V.prototype,{onClick:function(a){new yb;V.prototype.onClick.call(this,a)},__class__:Oc});var Nc=function(a){V.call(this,a,h.GAMESELECT[h.langIdx])};f["farmgame.buttons.SelectButtonXP"]=Nc;Nc.__name__=["farmgame","buttons","SelectButtonXP"];Nc.__super__=V;Nc.prototype=p(V.prototype,{onClick:function(a){new U(v.string(j.gameNumber));V.prototype.onClick.call(this,a)},__class__:Nc});var Bb=function(){};f["farmgame.buttons.SoundButton"]=Bb;Bb.__name__=["farmgame","buttons","SoundButton"];Bb.__super__=x;Bb.prototype=p(x.prototype,{get_name:function(){return"SoundButton_14"},onUpdate:function(a){Bb.soundFlag?(this.soundButtonOn.setVisible(),this.soundButtonOff.setInvisible()):(this.soundButtonOn.setInvisible(),this.soundButtonOff.setVisible());x.prototype.onUpdate.call(this,a)},__class__:Bb});var Md=function(){};f["farmgame.buttons.SoundButtonOff"]=Md;Md.__name__=["farmgame","buttons","SoundButtonOff"];Md.__super__=y;Md.prototype=p(y.prototype,{onClick:function(a){Bb.soundFlag=!0;this.parentbutton.soundButtonOn.imgNormal.setScale(this.imgNormal.scaleX._value);y.prototype.onClick.call(this,a)},setXY:function(a,b){this.textSpr.setXY(a,b-0.2*this.imgNormal.getNaturalHeight());this.imgNormal.setXY(a,b);this.imgover.setXY(a,b)},__class__:Md});var Nd=function(){};f["farmgame.buttons.SoundButtonOn"]=Nd;Nd.__name__=["farmgame","buttons","SoundButtonOn"];Nd.__super__=y;Nd.prototype=p(y.prototype,{onClick:function(a){Bb.soundFlag=!1;this.parentbutton.soundButtonOff.imgNormal.setScale(this.imgNormal.scaleX._value);y.prototype.onClick.call(this,a)},onMouseOver:function(a){y.prototype.onMouseOver.call(this,a)},setXY:function(a,b){this.textSpr.setXY(a,b-0.2*this.imgNormal.getNaturalHeight());this.imgNormal.setXY(a,b);this.imgover.setXY(a,b)},__class__:Nd});var Pc=function(a){V.call(this,a,h.STATISTICS[h.langIdx])};f["farmgame.buttons.StatisticsButtonXP"]=Pc;Pc.__name__=["farmgame","buttons","StatisticsButtonXP"];Pc.__super__=V;Pc.prototype=p(V.prototype,{onClick:function(a){new Ca(!1,!0);V.prototype.onClick.call(this,a)},__class__:Pc});var wa=function(a){V.call(this,a,h.UNDO[h.langIdx],2.2);this.undoTxtGrey=new P(j.font_grey_15_regular,h.UNDO[h.langIdx]);r.attachToNewEntity(this.undoTxtGrey,this.owner,!1);ha.delay(B(this,this.update),30)};f["farmgame.buttons.UndoButton"]=wa;wa.__name__=["farmgame","buttons","UndoButton"];wa.__super__=V;wa.prototype=p(V.prototype,{onMouseOut:function(a){wa.isAvailable&&V.prototype.onMouseOut.call(this,a)},onMouseOver:function(a){!1!=t.gameInProgress&&wa.isAvailable&&V.prototype.onMouseOver.call(this,a)},update:function(){ha.delay(B(this,this.update),30);wa.isAvailable&&t.gameInProgress?(this.undoTxtGrey.set_visible(!1),this.textSpr.set_visible(this.imgNormal.set_visible(!0))):(this.undoTxtGrey.set_visible(!0),this.textSpr.set_visible(this.imgNormal.set_visible(this.imgover.set_visible(!1))))},setXY:function(a,b){this.undoTxtGrey.setXY(a+
0.28*this.imgNormal.getNaturalWidth(),b+0.32*this.imgNormal.getNaturalHeight());V.prototype.setXY.call(this,a,b)},onClick:function(a){!w.autoCompleteInProgress&&!da.inProgress&&!1!=t.gameInProgress&&(w.Undo(),V.prototype.onClick.call(this,a))},onUpdate:function(a){V.prototype.onUpdate.call(this,a)},__class__:wa});var Cb=function(a,b){y.call(this,j.font_black_15_regular,a,h.YES[h.langIdx],"ui/prompt_button","ui/prompt_button_over");this.yesFunction=b};f["farmgame.buttons.YesButton"]=Cb;Cb.__name__=["farmgame","buttons","YesButton"];Cb.__super__=y;Cb.prototype=p(y.prototype,{onClick:function(a){this.yesFunction();y.prototype.onClick.call(this,a)},setXY:function(a,b){y.prototype.setXY.call(this,a,b);this.textSpr.setXY(a,b-0.55*this.textSpr.getNaturalHeight())},__class__:Cb});var Od=function(){};f["farmgame.buttons.menu_prompt.ResumeBut"]=Od;Od.__name__=["farmgame","buttons","menu_prompt","ResumeBut"];Od.__super__=y;Od.prototype=p(y.prototype,{onClick:function(a){null!=ba.myRef&&ba.myRef.remove();y.prototype.onClick.call(this,a)},setXY:function(a,b){this.textSpr.setXY(a+0.5*this.imgNormal.getNaturalWidth(),b+0.3*this.imgNormal.getNaturalHeight());this.imgNormal.setXY(a,b);this.imgover.setXY(a,b)},__class__:Od});var Tc=function(a){y.call(this,j.font_black_15_regular,a,h.CLEAR[h.langIdx],"ui/prompt_button","ui/prompt_button_over")};f["farmgame.buttons.prompt_button_xp.ClearButtonXP"]=Tc;Tc.__name__=["farmgame","buttons","prompt_button_xp","ClearButtonXP"];Tc.__super__=y;Tc.prototype=p(y.prototype,{setXY:function(a,b){y.prototype.setXY.call(this,a,b);this.textSpr.setXY(a+0.5*this.imgNormal.getNaturalWidth(),b+2)},onClick:function(a){Ca.myRef.remove();new Uc;y.prototype.onClick.call(this,a)},__class__:Tc});var Vc=function(a){y.call(this,j.font_black_15_regular,a,"OK","ui/prompt_button","ui/prompt_button_over")};f["farmgame.buttons.prompt_button_xp.OkButtonXP"]=Vc;Vc.__name__=["farmgame","buttons","prompt_button_xp","OkButtonXP"];Vc.__super__=y;Vc.prototype=p(y.prototype,{onClick:function(a){null!=Ca.myRef&&null!=Ca.myRef.owner&&Ca.myRef.owner.parent.removeChild(Ca.myRef.owner);y.prototype.onClick.call(this,a)},setXY:function(a,b){y.prototype.setXY.call(this,a,b);this.textSpr.setXY(a+0.5*this.imgNormal.getNaturalWidth(),b+2)},__class__:Vc});var lb=function(){};f["farmgame.prompt.AreYouSurePrompt"]=lb;lb.__name__=["farmgame","prompt","AreYouSurePrompt"];lb.__super__=x;lb.prototype=p(x.prototype,{get_name:function(){return"AreYouSurePrompt_13"},onUpdate:function(a){this.percYPosition.update(a);this.topImg.setXY(0.5*l._platform.getStage().get_width(),l._platform.getStage().get_height()*this.percYPosition._value);this.topImg.setScale(Math.min(l._platform.getStage().get_width()/800,l._platform.getStage().get_height()/600));x.prototype.onUpdate.call(this,a)},remove:function(){null!=this.owner&&this.owner.dispose();lb.myref=null},__class__:lb});var T=function(a,b){null==b&&(b=!1);null==a&&(a=!1);var c=this;x.call(this);this.owner=new L;j.layerPrompt.addChild(this.owner);this.owner.add(this);var e=new aa(0,A.WIDTH,A.HEIGHT);e.alpha.set__(1.0E-6);r.attachToNewEntity(e,this.owner);e.setXY(0,0);this.promptBaseImg=b?new Y(j.pack.getTexture("ui/promt_large_bg")):new Y(j.pack.getTexture("ui/promt_small_bg"));this.promptBaseImgEnt=r.attachToNewEntity(this.promptBaseImg,this.owner);this.promptBaseImg.centerAnchor();this.promptBaseImg.setXY(0.5*A.WIDTH,0.5*A.HEIGHT);!1==a&&r.delayedCall(0.05,function(){e.get_pointerDown().connect(B(c,c.onPointerDown))})};f["farmgame.prompt.PromptBase"]=T;T.__name__=["farmgame","prompt","PromptBase"];T.__super__=x;T.prototype=p(x.prototype,{get_name:function(){return"PromptBase_10"},onPointerDown:function(){this.remove()},remove:function(){null!=this.owner&&this.owner.dispose();l._platform.getMouse().set_cursor(ia.Default)},onUpdate:function(a){x.prototype.onUpdate.call(this,a)},__class__:T});var dc=function(a,b,c){this.selected=!0;x.call(this);this.selected=c;this.checkboxYes=new Y(j.pack.getTexture("ui/prompt_checkbox_checked"));this.checkboxNo=new Y(j.pack.getTexture("ui/prompt_checkbox_unchecked"));this.textBox=new P(j.font_black_15_regular,""+b);this.owner=new L;a.addChild(this.owner);this.owner.add(this);r.attachToNewEntity(this.checkboxYes,this.owner);r.attachToNewEntity(this.checkboxNo,this.owner);r.attachToNewEntity(this.textBox,this.owner);this.checkboxYes.get_pointerDown().connect(B(this,this.disableCheckBox));this.checkboxNo.get_pointerDown().connect(B(this,this.enableCheckBox));this.setXY(0,0)};f["farmgame.prompt.CheckBoxXP"]=dc;dc.__name__=["farmgame","prompt","CheckBoxXP"];dc.__super__=x;dc.prototype=p(x.prototype,{get_name:function(){return"CheckBoxXP_11"},enableCheckBox:function(){this.selected=!0},disableCheckBox:function(){this.selected=!1},setXY:function(a,b){this.checkboxNo.x.set__(this.checkboxYes.x.set__(a));this.checkboxNo.y.set__(this.checkboxYes.y.set__(b));this.textBox.setXY(20+a,b-2)},onUpdate:function(a){this.selected?(this.checkboxYes.set_visible(!0),this.checkboxNo.set_visible(!1)):(this.checkboxNo.set_visible(!0),this.checkboxYes.set_visible(!1));x.prototype.onUpdate.call(this,a)},__class__:dc});var Uc=function(){T.call(this,!1,!1);var a=new P(j.font_white_24_bold,"FreeCell");r.attachToNewEntity(a,this.promptBaseImgEnt);a.setXY(0.5*this.promptBaseImg.getNaturalWidth(),23);a.centerAnchor();a.setScale(0.65);a=new P(j.font_black_15_regular,h.ARE_YOU_SURE_DELETE_STATS[h.langIdx]);r.attachToNewEntity(a,this.promptBaseImgEnt);a.setWrapWidth(250);a.setXY(0.5*this.promptBaseImg.getNaturalWidth(),76);a.setAlign(X.Center);a.centerAnchor();var b=a.letterSpacing;b.set__(b._value+0.75);a=a.lineSpacing;a.set__(a._value+6);a=new Cb(this.promptBaseImgEnt,B(this,this.yesFunction));r.attachToNewEntity(a,this.promptBaseImgEnt);a.setXY(0.36*this.promptBaseImg.getNaturalWidth(),160);a.centerAnchor();a=new Ab(this.promptBaseImgEnt,B(this,this.noFunction));r.attachToNewEntity(a,this.promptBaseImgEnt);a.setXY(0.64*this.promptBaseImg.getNaturalWidth(),160);a.centerAnchor()};f["farmgame.prompt.DeleteStatsPrompt"]=Uc;Uc.__name__=["farmgame","prompt","DeleteStatsPrompt"];Uc.__super__=T;Uc.prototype=p(T.prototype,{noFunction:function(){this.remove()},yesFunction:function(){j.deleteAllStats();this.remove()},__class__:Uc});var U=function(){T.call(this,!1,!1);U.active=!0;var a=new P(j.font_white_24_bold,h.GAME_NUMBER[h.langIdx]);r.attachToNewEntity(a,this.promptBaseImgEnt);a.setAlign(X.Center);a.setXY(180,17);a.setScale(0.65);a=new P(j.font_black_15_regular,h.SELECT_GAME_NUMBER[h.langIdx]);r.attachToNewEntity(a,this.promptBaseImgEnt);a.setAlign(X.Center);a.setWrapWidth(170);a.setXY(95,55);var b=a.letterSpacing;b.set__(b._value+0.75);a=a.lineSpacing;a.set__(a._value+5);this.playButton=new Rc(this.promptBaseImgEnt);r.attachToNewEntity(this.playButton,this.promptBaseImgEnt);this.playButton.setXY(134,162);a=new wb(j.font_black_15_regular,"# "+j.gameNumber,this.playButton);this.promptBaseImgEnt.addChild(a.baseEnt);a.setXY(119,115);new Wc(this.promptBaseImgEnt,a);U.myRef=this;null};f["farmgame.prompt.GameSelectPrompt"]=U;U.__name__=["farmgame","prompt","GameSelectPrompt"];U.__super__=T;U.prototype=p(T.prototype,{remove:function(){U.active=!1;T.prototype.remove.call(this)},__class__:U});var ba=function(){this.removalInProgress=!1};f["farmgame.prompt.MenuPrompt"]=ba;ba.__name__=["farmgame","prompt","MenuPrompt"];ba.__super__=T;ba.prototype=p(T.prototype,{onUpdate:function(a){T.prototype.onUpdate.call(this,a)},remove:function(){var a=this;this.removalInProgress||(this.removalInProgress=!0,ha.delay(function(){null!=a.owner&&a.owner.dispose()},300),this.resumeBut.tweenOutRight(),this.newgameBut.tweenOutRight(33),this.resetGameBut.tweenOutRight(66),this.soundBut.soundButtonOn.tweenOutRight(100),this.soundBut.soundButtonOff.tweenOutRight(100),this.moregamesBut.tweenOutRight(133))},__class__:ba});var Sc=function(a){null==a&&(a=!1);T.call(this,!1,!0);this.restartPrompt=a;var b=new P(j.font_white_bold_22,h.NEW_GAME[h.langIdx]);r.attachToNewEntity(b,this.promptBaseImgEnt);b.setXY(0.5*this.promptBaseImg.getNaturalWidth(),40);b.centerAnchor();b.set_visible(!1);b=h.ARE_YOU_SURE_RESTART[h.langIdx];a&&(b=h.ARE_YOU_SURE_RESTART[h.langIdx]);b=new P(j.font_white_bold_22,b);b.setWrapWidth(330);r.attachToNewEntity(b,this.promptBaseImgEnt);b.setXY(0.5*this.promptBaseImg.getNaturalWidth(),78);b.centerAnchor();b.setScale(1);b.setAlign(X.Center);a=new Cb(this.promptBaseImgEnt,B(this,this.yesFunction),a);r.attachToNewEntity(a,this.promptBaseImgEnt);a.setXY(0.5*this.promptBaseImg.getNaturalWidth(),170);a.centerAnchor();a=new Ab(this.promptBaseImgEnt,B(this,this.noFunction));r.attachToNewEntity(a,this.promptBaseImgEnt);a.setXY(0.5*this.promptBaseImg.getNaturalWidth(),240);a.centerAnchor()};f["farmgame.prompt.NewGamePrompt"]=Sc;Sc.__name__=["farmgame","prompt","NewGamePrompt"];Sc.__super__=T;Sc.prototype=p(T.prototype,{noFunction:function(){this.remove()},yesFunction:function(){this.remove();this.restartPrompt||j.randomizeGameNumber();E.newGame()},__class__:Sc});var Ob=function(){};f["farmgame.prompt.NoMoreMovesPrompt"]=Ob;Ob.__name__=["farmgame","prompt","NoMoreMovesPrompt"];Ob.__super__=T;Ob.prototype=p(T.prototype,{__class__:Ob});var yb=function(a){null==a&&(a=!1);T.call(this);this.newgame=a;a=new P(j.font_white_24_bold,h.FREECELL[h.langIdx]);r.attachToNewEntity(a,this.promptBaseImgEnt);a.setXY(0.5*this.promptBaseImg.getNaturalWidth(),23);a.centerAnchor();a.setScale(0.65);a=a.letterSpacing;a.set__(a._value+1);a=new P(j.font_black_15_regular,""+h.DO_YOU_WANT_TO_RESIGN[h.langIdx]+"\n"+h.ALL_PROGRESS_WILL_BE_LOST[h.langIdx]);r.attachToNewEntity(a,this.promptBaseImgEnt);a.setXY(0.5*this.promptBaseImg.getNaturalWidth(),70);a.setAlign(X.Center);var b=a.letterSpacing;b.set__(b._value+0.75);a=a.lineSpacing;a.set__(a._value+5);a=new Cb(this.promptBaseImgEnt,B(this,this.yesFunction));r.attachToNewEntity(a,this.promptBaseImgEnt);a.setXY(0.36*this.promptBaseImg.getNaturalWidth(),160);a.centerAnchor();a=new Ab(this.promptBaseImgEnt,B(this,this.noFunction));r.attachToNewEntity(a,this.promptBaseImgEnt);a.setXY(0.64*this.promptBaseImg.getNaturalWidth(),160);a.centerAnchor()};f["farmgame.prompt.RestartGamePrompt"]=yb;yb.__name__=["farmgame","prompt","RestartGamePrompt"];yb.__super__=T;yb.prototype=p(T.prototype,{noFunction:function(){this.remove()},yesFunction:function(){this.newgame&&(j.randomizeGameNumber(),j.increaseGameCount());this.remove();E.newGame()},__class__:yb});var Ca=function(a,b){null==b&&(b=!1);null==a&&(a=!1);T.call(this,a,b);Ca.myRef=this;var c=new P(j.font_white_24_bold,h.FREECELL_STATISTICS[h.langIdx]);c.setXY(105,16);r.attachToNewEntity(c,this.promptBaseImgEnt);c.setScale(0.7);var e=j.getGameCount(),c=j.getGameWonCount(),d=e-c,f=100*(c/e),g=j.gamePlayedThisSession,i=j.gameWonThisSession,k=g-i,m=100*(i/g);0==e&&(f=0);0==g&&(m=0);e=new P(j.font_black_15_regular,"");e.set_text(""+h.THIS_SESSION[h.langIdx]+"\n"+h.WON[h.langIdx]+i+"\n"+h.LOST[h.langIdx]+k+"\n"+h.WIN_PERCENT[h.langIdx]+this.round2(m,1)+"% \n\n\n"+h.TOTAL[h.langIdx]+"\n"+h.WON[h.langIdx]+c+"\n"+h.LOST[h.langIdx]+d+"\n"+h.WIN_PERCENT[h.langIdx]+this.round2(f,1)+"%");e.centerAnchor();r.attachToNewEntity(e,this.promptBaseImgEnt);e.setXY(247,145);e.setAlign(X.Center);c=e.letterSpacing;c.set__(c._value+
0.75);c=e.lineSpacing;c.set__(c._value+5);(new Vc(this.promptBaseImgEnt)).setXY(188,300);(new Tc(this.promptBaseImgEnt)).setXY(88,300)};f["farmgame.prompt.StatisticsPrompt"]=Ca;Ca.__name__=["farmgame","prompt","StatisticsPrompt"];Ca.__super__=T;Ca.prototype=p(T.prototype,{round2:function(a,b){var c;c=a*Math.pow(10,b);return c=Math.round(c)/Math.pow(10,b)},__class__:Ca});var ca=function(a){null==a&&(a=!1);ca.promptActive=!0;if(this.lost=a)j.lastGameTime=t.currentSeconds;T.call(this,!1,!1);j.gameOverFlag=!0;j.increaseGameCount();a||j.increaseGameWonCount();var b=j.lastGameTime;null==b&&(b=50);t.convertToHHMMSS(b);0>=l._platform.getStorage().get("besttime",9999999)&&l._platform.getStorage().set("besttime",99999999);l._platform.getStorage().get("besttime",9999999)>b&&l._platform.getStorage().set("besttime",b);l._platform.getStorage().get("besttime",9999999);a?(G.play("SOUNDS/fail"),this.mainText=new P(j.font_black_15_regular,h.YOULOSTGAME[h.langIdx]),this.mainText.setWrapWidth(240)):(G.play("SOUNDS/won"),this.mainText=new P(j.font_black_15_regular,h.YOUWONGAME[h.langIdx]+"\n"+h.DO_YOU_WANT_TO_PLAY_AGAIN[h.langIdx]+"\n"+h.CHECK_THE_BOX_TO_SELECT[h.langIdx]));r.attachToNewEntity(this.mainText,this.promptBaseImgEnt);this.mainText.setAlign(X.Center);this.mainText.centerAnchor();this.mainText.setXY(0.5*this.promptBaseImg.getNaturalWidth(),80);b=this.mainText.letterSpacing;b.set__(b._value+0.75);b=this.mainText.lineSpacing;b.set__(b._value+5);b=new P(j.font_white_24_bold,h.YOU_WIN[h.langIdx]);r.attachToNewEntity(b,this.promptBaseImgEnt);b.centerAnchor();b.setAlign(X.Center);b.setXY(0.5*this.promptBaseImg.getNaturalWidth(),24);b.setScale(0.7);a&&(b.set_text(h.GAME_OVER[h.langIdx]),b.x.set__(0.5*b.getNaturalWidth()),b.anchorX.set__(0),b.x.set__(0.5*this.promptBaseImg.getNaturalWidth()));if(!1==a){var c=this.mainText.x;c.set__(c._value+(0.5*this.mainText.getNaturalWidth()-10));c=b.x;c.set__(c._value+(0.5*b.getNaturalWidth()-20))}b.anchorX.set__(0);b.x.set__(0.5*this.promptBaseImg.getNaturalWidth());ca.myRef=this;j.getGameCount();j.getGameWonCount();b=new Cb(this.promptBaseImgEnt,B(this,this.yesFunction));r.attachToNewEntity(b,this.promptBaseImgEnt);b.setXY(0.36*this.promptBaseImg.getNaturalWidth(),176);b.centerAnchor();b=new Ab(this.promptBaseImgEnt,B(this,this.noFunction));r.attachToNewEntity(b,this.promptBaseImgEnt);b.setXY(0.64*this.promptBaseImg.getNaturalWidth(),176);b.centerAnchor();a?this.checkBox=new dc(this.promptBaseImgEnt,h.SAME_GAME[h.langIdx],!1):(a=this.promptBaseImg.x,a.set__(a._value+180),this.checkBox=new dc(this.promptBaseImgEnt,h.SELECT_GAME[h.langIdx],!1));this.checkBox.setXY(120,126);null};f["farmgame.prompt.YouWinPrompt"]=ca;ca.__name__=["farmgame","prompt","YouWinPrompt"];ca.__super__=T;ca.prototype=p(T.prototype,{noFunction:function(){this.remove()},yesFunction:function(){this.remove();!1==this.checkBox.selected&&!0==this.lost?(j.randomizeGameNumber(),E.newGame()):!0==this.checkBox.selected&&!1==this.lost?new U(v.string(j.gameNumber)):(!1==this.lost&&!1==this.checkBox.selected&&j.randomizeGameNumber(),E.newGame())},remove:function(){ca.promptActive=!1;T.prototype.remove.call(this)},onUpdate:function(a){T.prototype.onUpdate.call(this,a)},__class__:ca});var na=function(a,b,c,e,d){y.call(this,j.font_digits,a,""+b,"keyboard/"+c,"keyboard/"+e);this.overF=d};f["farmgame.virtualkeyboard.VirtualKey"]=na;na.__name__=["farmgame","virtualkeyboard","VirtualKey"];na.__super__=y;na.prototype=p(y.prototype,{onClick:function(a){this.overF();y.prototype.onClick.call(this,a)},getNaturalWidth:function(){return this.imgNormal.getNaturalWidth()},setXY:function(a,b){y.prototype.setXY.call(this,a,b);var c=this.textSpr.x;c.set__(c._value+0.5*this.imgNormal.getNaturalWidth());c=this.textSpr.y;c.set__(c._value+0.5*this.imgNormal.getNaturalHeight())},__class__:na});var Wc=function(a,b){x.call(this);this.inputTxt=b;this.owner=new L;this.owner.add(this);a.addChild(this.owner);this.kayboardBG=new Y(j.pack.getTexture("keyboard/keyboard_bg"));var c=r.attachToNewEntity(this.kayboardBG,this.owner);this.kayboardBG.centerAnchor();this.kayboardBG.setXY(178,376);var e=new na(c,"0","keyboard_button","keyboard_button_mouseover",B(this,this.key0Pressed)),d=new na(c,"1","keyboard_button","keyboard_button_mouseover",B(this,this.key1Pressed)),f=new na(c,"2","keyboard_button","keyboard_button_mouseover",B(this,this.key2Pressed)),g=new na(c,"3","keyboard_button","keyboard_button_mouseover",B(this,this.key3Pressed)),h=new na(c,"4","keyboard_button","keyboard_button_mouseover",B(this,this.key4Pressed)),i=new na(c,"5","keyboard_button","keyboard_button_mouseover",B(this,this.key5Pressed)),k=new na(c,"6","keyboard_button","keyboard_button_mouseover",B(this,this.key6Pressed)),m=new na(c,"7","keyboard_button","keyboard_button_mouseover",B(this,this.key7Pressed)),l=new na(c,"8","keyboard_button","keyboard_button_mouseover",B(this,this.key8Pressed)),n=new na(c,"9","keyboard_button","keyboard_button_mouseover",B(this,this.key9Pressed)),o=new na(c,"","keyboard_button_delete","keyboard_button_delete_mouseover",B(this,this.keyBackspacePressed)),c=new na(c,"","prompt_button_enter","prompt_button_enter_mouseover",B(this,this.keyPlayPressed));d.setXY(13+0*d.getNaturalWidth(),8);f.setXY(13+1.12*d.getNaturalWidth(),8);g.setXY(13+2.24*d.getNaturalWidth(),8);h.setXY(13+1.12*3*d.getNaturalWidth(),8);i.setXY(13+4.48*d.getNaturalWidth(),8);k.setXY(13+1.12*5*d.getNaturalWidth(),8);m.setXY(13+1.12*6*d.getNaturalWidth(),8);l.setXY(13+1.12*7*d.getNaturalWidth(),8);n.setXY(13+8.96*d.getNaturalWidth(),8);e.setXY(13+1.12*9*d.getNaturalWidth(),8);o.setXY(13+1.12*10*d.getNaturalWidth(),8);c.setXY(13+
12.32*d.getNaturalWidth(),8)};f["farmgame.virtualkeyboard.VirtualKeyboard"]=Wc;Wc.__name__=["farmgame","virtualkeyboard","VirtualKeyboard"];Wc.__super__=x;Wc.prototype=p(x.prototype,{get_name:function(){return"VirtualKeyboard_12"},onUpdate:function(a){x.prototype.onUpdate.call(this,a)},keyPlayPressed:function(){if(!1!=U.active){var a={};a.key=d.Enter;this.inputTxt.keyIsDown(a)}},keyBackspacePressed:function(){if(!1!=U.active){var a={};a.key=d.Backspace;this.inputTxt.keyIsDown(a)}},key0Pressed:function(){if(!1!=U.active){var a={};a.key=d.Number0;this.inputTxt.keyIsDown(a)}},key1Pressed:function(){if(!1!=U.active){var a={};a.key=d.Number1;this.inputTxt.keyIsDown(a)}},key2Pressed:function(){if(!1!=U.active){var a={};a.key=d.Number2;this.inputTxt.keyIsDown(a)}},key3Pressed:function(){if(!1!=U.active){var a={};a.key=d.Number3;this.inputTxt.keyIsDown(a)}},key4Pressed:function(){if(!1!=U.active){var a={};a.key=d.Number4;this.inputTxt.keyIsDown(a)}},key5Pressed:function(){if(!1!=U.active){var a={};a.key=d.Number5;this.inputTxt.keyIsDown(a)}},key6Pressed:function(){if(!1!=U.active){var a={};a.key=d.Number6;this.inputTxt.keyIsDown(a)}},key7Pressed:function(){if(!1!=U.active){var a={};a.key=d.Number7;this.inputTxt.keyIsDown(a)}},key8Pressed:function(){if(!1!=U.active){var a={};a.key=d.Number8;this.inputTxt.keyIsDown(a)}},key9Pressed:function(){if(!1!=U.active){var a={};a.key=d.Number9;this.inputTxt.keyIsDown(a)}},__class__:Wc});var L=function(){this.parent=this.firstChild=this.next=this.firstComponent=null;this._compMap={}};f["flambe.Entity"]=L;L.__name__=["flambe","Entity"];L.__interfaces__=[Ha];L.prototype={add:function(a){null!=a.owner&&a.owner.remove(a);var b=a.get_name(),c=this._compMap[b];null!=c&&this.remove(c);this._compMap[b]=a;b=null;for(c=this.firstComponent;null!=c;)b=c,c=c.next;null!=b?b.next=a:this.firstComponent=a;a.owner=this;a.next=null;a.onAdded();return this},remove:function(a){for(var b=null,c=this.firstComponent;null!=c;){var e=c.next;if(c==a)return null==b?this.firstComponent=e:(b.owner=this,b.next=e),delete this._compMap[c.get_name()],0!=(c._flags&1)&&(c.onStop(),c._flags&=-2),c.onRemoved(),c.owner=null,c.next=null,!0;b=c;c=e}return!1},addChild:function(a,b){null==b&&(b=!0);null!=a.parent&&a.parent.removeChild(a);a.parent=this;if(b){for(var c=null,e=this.firstChild;null!=e;)c=e,e=e.next;null!=c?c.next=a:this.firstChild=a}else a.next=this.firstChild,this.firstChild=a;return this},removeChild:function(a){for(var b=null,c=this.firstChild;null!=c;){var e=c.next;if(c==a){null==b?this.firstChild=e:b.next=e;c.parent=null;c.next=null;break}b=c;c=e}},disposeChildren:function(){for(;null!=this.firstChild;)this.firstChild.dispose()},dispose:function(){for(null!=this.parent&&this.parent.removeChild(this);null!=this.firstComponent;)this.firstComponent.dispose();this.disposeChildren()},__class__:L};var $e=function(){};f["flambe.util.PackageLog"]=$e;$e.__name__=["flambe","util","PackageLog"];var Pd=function(){};f["flambe.platform.Platform"]=Pd;Pd.__name__=["flambe","platform","Platform"];Pd.prototype={__class__:Pd};var mb=function(){};f["flambe.platform.html.HtmlPlatform"]=mb;mb.__name__=["flambe","platform","html","HtmlPlatform"];mb.__interfaces__=[Pd];mb.prototype={init:function(){var a=this;C.fixAndroidMath();var b=null;try{b=window.flambe.canvas}catch(c){c instanceof o&&(c=c.val)}b.setAttribute("tabindex","0");b.style.outlineStyle="none";b.style.webkitTapHighlightColor="transparent";b.setAttribute("moz-opaque","true");this._stage=new Pb(b);this._pointer=new ka;this._mouse=new Xc(this._pointer,b);this._renderer=this.createRenderer(b);this.mainLoop=new Qb;this.musicPlaying=!1;this._canvas=b;this._container=b.parentElement;this._container.style.overflow="hidden";this._container.style.position="relative";this._container.style.msTouchAction="none";var e=0,d=function(c){if(!(1E3>c.timeStamp-e)){var d=b.getBoundingClientRect(),f=a.getX(c,d),d=a.getY(c,d);switch(c.type){case "mousedown":c.target==b&&(c.preventDefault(),a._mouse.submitDown(f,d,c.button),b.focus());break;case "mousemove":a._mouse.submitMove(f,d);break;case "mouseup":a._mouse.submitUp(f,d,c.button);break;case "mousewheel":case "DOMMouseScroll":a._mouse.submitScroll(f,d,"mousewheel"==c.type?c.wheelDelta/40:-c.detail)&&c.preventDefault()}}};window.addEventListener("mousedown",d,!1);window.addEventListener("mousemove",d,!1);window.addEventListener("mouseup",d,!1);b.addEventListener("mousewheel",d,!1);b.addEventListener("DOMMouseScroll",d,!1);b.addEventListener("contextmenu",function(a){a.preventDefault()},!1);var f="undefined"!=typeof window.ontouchstart,d="msMaxTouchPoints"in window.navigator&&1<window.navigator.msMaxTouchPoints;if(f||d){var g=new Yc(this._pointer,f?4:window.navigator.msMaxTouchPoints);this._touch=g;d=function(b){var c;c=f?b.changedTouches:[b];var d=b.target.getBoundingClientRect();e=b.timeStamp;switch(b.type){case "touchstart":case "MSPointerDown":case "pointerdown":b.preventDefault();C.SHOULD_HIDE_MOBILE_BROWSER&&C.hideMobileBrowser();for(b=0;b<c.length;){var s=c[b];++b;var h=a.getX(s,d),i=a.getY(s,d);g.submitDown((f?s.identifier:s.pointerId)|0,h,i)}break;case "touchmove":case "MSPointerMove":case "pointermove":b.preventDefault();for(b=0;b<c.length;)s=c[b],++b,h=a.getX(s,d),i=a.getY(s,d),g.submitMove((f?s.identifier:s.pointerId)|0,h,i);break;case "touchend":case "touchcancel":case "MSPointerUp":case "pointerup":for(b=0;b<c.length;)s=c[b],++b,h=a.getX(s,d),i=a.getY(s,d),g.submitUp((f?s.identifier:s.pointerId)|0,h,i)}};f?(b.addEventListener("touchstart",d,!1),b.addEventListener("touchmove",d,!1),b.addEventListener("touchend",d,!1),b.addEventListener("touchcancel",d,!1)):(b.addEventListener("MSPointerDown",d,!1),b.addEventListener("MSPointerMove",d,!1),b.addEventListener("MSPointerUp",d,!1))}else this._touch=new Zc;var h=window.onerror;window.onerror=function(a,b,c){l.uncaughtError.emit(a);return null!=h?h(a,b,c):!1};var i=C.loadExtension("hidden",window.document);null!=i.value?(d=function(){l.hidden.set__(O.field(window.document,i.field))},d(null),window.document.addEventListener(i.prefix+"visibilitychange",d,!1)):(d=function(a){l.hidden.set__("pagehide"==a.type)},window.addEventListener("pageshow",d,!1),window.addEventListener("pagehide",d,!1));l.hidden.get_changed().connect(function(b){b||(a._skipFrame=!0)});this._skipFrame=!1;this._lastUpdate=Date.now();var k=C.loadExtension("requestAnimationFrame").value;if(null!=k){var m=window.performance,j=null!=m&&C.polyfill("now",m);j?this._lastUpdate=m.now():null;var n=null,n=function(c){a.update(j?m.now():c);k(n,b)};k(n,b)}else window.setInterval(function(){a.update(Date.now())},16);d=new ec;d.success.connect(function(){fc.info("Initialized HTML platform",["renderer",a._renderer.get_type()])});d.set_result(!0);return d},loadAssetPack:function(a){return(new Q(this,a)).promise},getStage:function(){return this._stage},getStorage:function(){if(null==this._storage){var a=$c.getLocalStorage();this._storage=null!=a?new ad(a):new bd}return this._storage},update:function(a){var b=(a-this._lastUpdate)/1E3;this._lastUpdate=a;l.hidden._value||(this._skipFrame?this._skipFrame=!1:(this.mainLoop.update(b),this.mainLoop.render(this._renderer)))},getPointer:function(){return this._pointer},getMouse:function(){return this._mouse},getTouch:function(){return this._touch},getKeyboard:function(){var a=this;if(null==this._keyboard){this._keyboard=new Da;var b=function(b){switch(b.type){case "keydown":a._keyboard.submitDown(b.keyCode)&&b.preventDefault();break;case "keyup":a._keyboard.submitUp(b.keyCode)}};this._canvas.addEventListener("keydown",b,!1);this._canvas.addEventListener("keyup",b,!1)}return this._keyboard},getExternal:function(){null==this._external&&(this._external=new cd);return this._external},getRenderer:function(){return this._renderer},getX:function(a,b){return(a.clientX-b.left)*this._stage.get_width()/b.width},getY:function(a,b){return(a.clientY-b.top)*this._stage.get_height()/b.height},createRenderer:function(a){return new Rb(a)},__class__:mb};var ra=function(a,b){this._value=a;this._changed=null!=b?new gc(b):null};f["flambe.util.Value"]=ra;ra.__name__=["flambe","util","Value"];ra.prototype={watch:function(a){a(this._value,this._value);return this.get_changed().connect(a)},get__:function(){return this._value},set__:function(a){var b=this._value;a!=b&&(this._value=a,null!=this._changed&&this._changed.emit(a,b));return a},get_changed:function(){null==this._changed&&(this._changed=new gc);return this._changed},__class__:ra};var Sb=function(a,b){this._next=null;this._signal=a;this._listener=b;this.stayInList=!0};f["flambe.util.SignalConnection"]=Sb;Sb.__name__=["flambe","util","SignalConnection"];Sb.__interfaces__=[Ha];Sb.prototype={once:function(){this.stayInList=!1;return this},dispose:function(){null!=this._signal&&(this._signal.disconnect(this),this._signal=null)},__class__:Sb};var ga=function(a){this._head=null!=a?new Sb(this,a):null;this._deferredTasks=null};f["flambe.util.SignalBase"]=ga;ga.__name__=["flambe","util","SignalBase"];ga.prototype={connectImpl:function(a,b){var c=this,e=new Sb(this,a);this._head==ga.DISPATCHING_SENTINEL?this.defer(function(){c.listAdd(e,b)}):this.listAdd(e,b);return e},disconnect:function(a){var b=this;this._head==ga.DISPATCHING_SENTINEL?this.defer(function(){b.listRemove(a)}):this.listRemove(a)},defer:function(a){for(var b=null,c=this._deferredTasks;null!=c;)b=c,c=c.next;a=new Qd(a);null!=b?b.next=a:this._deferredTasks=a},willEmit:function(){var a=this._head;this._head=ga.DISPATCHING_SENTINEL;return a},didEmit:function(a){this._head=a;a=this._deferredTasks;for(this._deferredTasks=null;null!=a;)a.fn(),a=a.next},listAdd:function(a,b){if(b)a._next=this._head,this._head=a;else{for(var c=null,e=this._head;null!=e;)c=e,e=e._next;null!=c?c._next=a:this._head=a}},listRemove:function(a){for(var b=null,c=this._head;null!=c;){if(c==a){a=c._next;null==b?this._head=a:b._next=a;break}b=c;c=c._next}},__class__:ga};var gc=function(a){ga.call(this,a)};f["flambe.util.Signal2"]=gc;gc.__name__=["flambe","util","Signal2"];gc.__super__=ga;gc.prototype=p(ga.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},emit:function(a,b){var c=this;this._head==ga.DISPATCHING_SENTINEL?this.defer(function(){c.emitImpl(a,b)}):this.emitImpl(a,b)},emitImpl:function(a,b){for(var c=this.willEmit(),e=c;null!=e;)e._listener(a,b),e.stayInList||e.dispose(),e=e._next;this.didEmit(c)},__class__:gc});var W=function(a){ga.call(this,a)};f["flambe.util.Signal1"]=W;W.__name__=["flambe","util","Signal1"];W.__super__=ga;W.prototype=p(ga.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},emit:function(a){var b=this;this._head==ga.DISPATCHING_SENTINEL?this.defer(function(){b.emitImpl(a)}):this.emitImpl(a)},emitImpl:function(a){for(var b=this.willEmit(),c=b;null!=c;)c._listener(a),c.stayInList||c.dispose(),c=c._next;this.didEmit(b)},__class__:W});var $=function(a,b){this._behavior=null;ra.call(this,a,b)};f["flambe.animation.AnimatedFloat"]=$;$.__name__=["flambe","animation","AnimatedFloat"];$.__super__=ra;$.prototype=p(ra.prototype,{set__:function(a){this._behavior=null;return ra.prototype.set__.call(this,a)},update:function(a){null!=this._behavior&&(ra.prototype.set__.call(this,this._behavior.update(a)),this._behavior.isComplete()&&(this._behavior=null))},animate:function(a,b,c,e){this.set__(a);this.animateTo(b,c,e)},animateTo:function(a,b,c){this.set_behavior(new hc(this._value,a,b,c))},animateBy:function(a,b,c){this.set_behavior(new hc(this._value,this._value+a,b,c))},set_behavior:function(a){this._behavior=a;this.update(0);return a},__class__:$});var l=function(){};f["flambe.System"]=l;l.__name__=["flambe","System"];l.init=function(){l._calledInit||(l.promise=l._platform.init(),l._calledInit=!0);return l.promise};var fc=function(){};f["flambe.Log"]=fc;fc.__name__=["flambe","Log"];fc.info=function(){null};fc.__super__=$e;fc.prototype=p($e.prototype,{__class__:fc});var Lc=function(a){null==a&&(a=1);this._realDt=0;x.call(this);this.scale=new $(a)};f["flambe.SpeedAdjuster"]=Lc;Lc.__name__=["flambe","SpeedAdjuster"];Lc.__super__=x;Lc.prototype=p(x.prototype,{get_name:function(){return"SpeedAdjuster_5"},onUpdate:function(a){0<this._realDt&&(a=this._realDt,this._realDt=0);this.scale.update(a)},__class__:Lc});var Rd=function(){};f["flambe.animation.Behavior"]=Rd;Rd.__name__=["flambe","animation","Behavior"];Rd.prototype={__class__:Rd};var zb=function(){};f["flambe.animation.Ease"]=zb;zb.__name__=["flambe","animation","Ease"];zb.linear=function(a){return a};zb.sineIn=function(a){return 1-Math.cos(1.5707963267948966*a)};var hc=function(a,b,c,e){this._from=a;this._to=b;this._duration=c;this.elapsed=0;this._easing=null!=e?e:zb.linear};f["flambe.animation.Tween"]=hc;hc.__name__=["flambe","animation","Tween"];hc.__interfaces__=[Rd];hc.prototype={update:function(a){this.elapsed+=a;return this.elapsed>=this._duration?this._to:this._from+(this._to-this._from)*this._easing(this.elapsed/this._duration)},isComplete:function(){return this.elapsed>=this._duration},__class__:hc};var Db=function(){};f["flambe.asset.Asset"]=Db;Db.__name__=["flambe","asset","Asset"];Db.__interfaces__=[Ha];Db.prototype={__class__:Db};var u=f["flambe.asset.AssetFormat"]={__ename__:["flambe","asset","AssetFormat"],__constructs__:"WEBP,JXR,PNG,JPG,GIF,DDS,PVR,PKM,MP3,M4A,OPUS,OGG,WAV,Data".split(",")};u.WEBP=["WEBP",0];u.WEBP.__enum__=u;u.JXR=["JXR",1];u.JXR.__enum__=u;u.PNG=["PNG",2];u.PNG.__enum__=u;u.JPG=["JPG",3];u.JPG.__enum__=u;u.GIF=["GIF",4];u.GIF.__enum__=u;u.DDS=["DDS",5];u.DDS.__enum__=u;u.PVR=["PVR",6];u.PVR.__enum__=u;u.PKM=["PKM",7];u.PKM.__enum__=u;u.MP3=["MP3",8];u.MP3.__enum__=u;u.M4A=["M4A",9];u.M4A.__enum__=u;u.OPUS=["OPUS",10];u.OPUS.__enum__=u;u.OGG=["OGG",11];u.OGG.__enum__=u;u.WAV=["WAV",12];u.WAV.__enum__=u;u.Data=["Data",13];u.Data.__enum__=u;var Sd=function(a,b,c,e){this.name=a;this.url=b;this.format=c;this.bytes=e};f["flambe.asset.AssetEntry"]=Sd;Sd.__name__=["flambe","asset","AssetEntry"];Sd.prototype={__class__:Sd};var dd=function(){};f["flambe.asset.AssetPack"]=dd;dd.__name__=["flambe","asset","AssetPack"];dd.__interfaces__=[Ha];dd.prototype={__class__:dd};var ed=function(){};f["flambe.asset.File"]=ed;ed.__name__=["flambe","asset","File"];ed.__interfaces__=[Db];ed.prototype={__class__:ed};var ta=function(){this._localBase=this._remoteBase=null;this._entries=[]};f["flambe.asset.Manifest"]=ta;ta.__name__=["flambe","asset","Manifest"];ta.fromAssets=function(a,b){null==b&&(b=!0);var c=O.field(fd.getType(ta).assets[0],a);if(null==c){if(b)throw new o(oa.withFields("Missing asset pack",["name",a]));return null}var e=new ta;e.set_localBase("assets");for(var d=0;d<c.length;){var f=c[d];++d;var g=f.name,h=a+"/"+g+"?v="+v.string(f.md5),i=ta.inferFormat(g);i!=u.Data&&(g=oa.removeFileExtension(g));e.add(g,h,f.bytes,i)}return e};ta.inferFormat=function(a){a=oa.getUrlExtension(a);if(null!=a)switch(a.toLowerCase()){case "gif":return u.GIF;case "jpg":case "jpeg":return u.JPG;case "jxr":case "wdp":return u.JXR;case "png":return u.PNG;case "webp":return u.WEBP;case "dds":return u.DDS;case "pvr":return u.PVR;case "pkm":return u.PKM;case "m4a":return u.M4A;case "mp3":return u.MP3;case "ogg":return u.OGG;case "opus":return u.OPUS;case "wav":return u.WAV}else null;return u.Data};ta.prototype={add:function(a,b,c,e){null==c&&(c=0);null==e&&(e=ta.inferFormat(b));a=new Sd(a,b,e,c);this._entries.push(a);return a},iterator:function(){return z.iter(this._entries)},getFullURL:function(a){var b;b=null!=this.get_remoteBase()&&ta._supportsCrossOrigin?this.get_remoteBase():this.get_localBase();return null!=b?oa.joinPath(b,a.url):a.url},get_localBase:function(){return this._localBase},set_localBase:function(a){null!=a&&af.that(!M.startsWith(a,"http://")&&!M.startsWith(a,"https://"),"localBase must be a path on the same domain, NOT starting with http(s)://",null);return this._localBase=a},get_remoteBase:function(){return this._remoteBase},__class__:ta};var la=f["flambe.display.BlendMode"]={__ename__:["flambe","display","BlendMode"],__constructs__:"Normal,Add,Multiply,Screen,Mask,Copy".split(",")};la.Normal=["Normal",0];la.Normal.__enum__=la;la.Add=["Add",1];la.Add.__enum__=la;la.Multiply=["Multiply",2];la.Multiply.__enum__=la;la.Screen=["Screen",3];la.Screen.__enum__=la;la.Mask=["Mask",4];la.Mask.__enum__=la;la.Copy=["Copy",5];la.Copy.__enum__=la;var aa=function(a,b,c){I.call(this);this.color=a;this.width=new $(b);this.height=new $(c)};f["flambe.display.FillSprite"]=aa;aa.__name__=["flambe","display","FillSprite"];aa.__super__=I;aa.prototype=p(I.prototype,{draw:function(a){a.fillRect(this.color,0,0,this.width._value,this.height._value)},getNaturalWidth:function(){return this.width._value},getNaturalHeight:function(){return this.height._value},onUpdate:function(a){I.prototype.onUpdate.call(this,a);this.width.update(a);this.height.update(a)},__class__:aa});var gd=function(a){this._kernings=null;this.xOffset=this.yOffset=this.xAdvance=0;this.page=null;this.x=this.y=this.width=this.height=0;this.charCode=a};f["flambe.display.Glyph"]=gd;gd.__name__=["flambe","display","Glyph"];gd.prototype={draw:function(a,b,c){0<this.width&&a.drawSubTexture(this.page,b+this.xOffset,c+this.yOffset,this.x,this.y,this.width,this.height)},getKerning:function(a){return null!=this._kernings?v["int"](this._kernings.h[a]):0},setKerning:function(a,b){null==this._kernings&&(this._kernings=new ya);this._kernings.h[a]=b},__class__:gd};var xa=function(a,b){this.name=b;this._pack=a;this._file=a.getFile(b+".fnt");this.reload()};f["flambe.display.Font"]=xa;xa.__name__=["flambe","display","Font"];xa.prototype={layoutText:function(a,b,c,e,d){null==d&&(d=0);null==e&&(e=0);null==c&&(c=0);null==b&&(b=X.Left);return new Eb(this,a,b,c,e,d)},reload:function(){this._glyphs=new ya;this._glyphs.h[xa.NEWLINE.charCode]=xa.NEWLINE;for(var a=new Tb(this._file.toString()),b=new ya,c=this.name.lastIndexOf("/"),c=0<=c?z.substr(this.name,0,c+1):"",e=a.keywords();e.hasNext();)switch(e.next()){case "info":for(var d=a.pairs();d.hasNext();){var f=d.next();switch(f.key){case "size":this.size=f.getInt()}}break;case "common":for(d=a.pairs();d.hasNext();)switch(f=d.next(),f.key){case "lineHeight":this.lineHeight=f.getInt()}break;case "page":for(var d=0,f=null,g=a.pairs();g.hasNext();){var h=g.next();switch(h.key){case "id":d=h.getInt();break;case "file":f=h.getString()}}f=this._pack.getTexture(c+oa.removeFileExtension(f));b.h[d]=f;break;case "char":d=null;for(f=a.pairs();f.hasNext();)switch(g=f.next(),g.key){case "id":d=new gd(g.getInt());break;case "x":d.x=g.getInt();break;case "y":d.y=g.getInt();break;case "width":d.width=g.getInt();break;case "height":d.height=g.getInt();break;case "page":g=g.getInt();d.page=b.h[g];break;case "xoffset":d.xOffset=g.getInt();break;case "yoffset":d.yOffset=g.getInt();break;case "xadvance":d.xAdvance=g.getInt()}this._glyphs.h[d.charCode]=d;break;case "kerning":d=null;g=f=0;for(h=a.pairs();h.hasNext();){var i=h.next();switch(i.key){case "first":d=this._glyphs.h[i.getInt()];break;case "second":f=i.getInt();break;case "amount":g=i.getInt()}}null!=d&&0!=g&&d.setKerning(f,g)}},__class__:xa};var X=f["flambe.display.TextAlign"]={__ename__:["flambe","display","TextAlign"],__constructs__:["Left","Center","Right"]};X.Left=["Left",0];X.Left.__enum__=X;X.Center=["Center",1];X.Center.__enum__=X;X.Right=["Right",2];X.Right.__enum__=X;var Eb=function(a,b,c,e,d,f){this.lines=0;var g=this;this._font=a;this._glyphs=[];this._offsets=[];this._lineOffset=Math.round(a.lineHeight+f);this.bounds=new Td;for(var h=[],f=b.length,i=0;i<f;){var k=i++,k=b.charCodeAt(k),k=a._glyphs.h[k];null!=k?this._glyphs.push(k):null}for(var b=-1,m=0,j=0,a=a._glyphs.h[10],f=function(){g.bounds.width=hd.max(g.bounds.width,m);g.bounds.height+=j;h[g.lines]=m;j=m=0;++g.lines},i=0;i<this._glyphs.length;){k=this._glyphs[i];this._offsets[i]=Math.round(m);var l=0<e&&m+k.width>e;l||k==a?(l&&(0<=b?(this._glyphs[b]=a,m=this._offsets[b],i=b):this._glyphs.splice(i,0,a)),b=-1,j=this._lineOffset,f()):(32==k.charCode&&(b=i),m+=k.xAdvance+d,j=hd.max(j,k.height+k.yOffset),i+1<this._glyphs.length&&(m+=k.getKerning(this._glyphs[i+1].charCode)));++i}f();d=0;a=Eb.getAlignOffset(c,h[0],e);b=1.79769313486231E308;f=-1.79769313486231E308;k=i=0;for(l=this._glyphs.length;k<l;){var n=this._glyphs[k];10==n.charCode&&(d+=this._lineOffset,++i,a=Eb.getAlignOffset(c,h[i],e));this._offsets[k]+=a;var o=d+n.yOffset,b=b<o?b:o,f=hd.max(f,o+n.height);++k}this.bounds.x=Eb.getAlignOffset(c,this.bounds.width,e);this.bounds.y=b;this.bounds.height=f-b};f["flambe.display.TextLayout"]=Eb;Eb.__name__=["flambe","display","TextLayout"];Eb.getAlignOffset=function(a,b,c){switch(a[1]){case 0:return 0;case 2:return c-b;case 1:return Math.round((c-b)/2)}};Eb.prototype={draw:function(a){for(var b=0,c=0,e=this._glyphs.length;c<e;){var d=this._glyphs[c];10==d.charCode?b+=this._lineOffset:d.draw(a,this._offsets[c],b);++c}},__class__:Eb};var Tb=function(a){this._configText=a;this._keywordPattern=new Ga("([A-Za-z]+)(.*)","");this._pairPattern=new Ga('([A-Za-z]+)=("[^"]*"|[^\\s]+)',"")};f["flambe.display._Font.ConfigParser"]=Tb;Tb.__name__=["flambe","display","_Font","ConfigParser"];Tb.advance=function(a,b){var c=b.matchedPos();return z.substr(a,c.pos+c.len,a.length)};Tb.prototype={keywords:function(){var a=this,b=this._configText;return{next:function(){b=Tb.advance(b,a._keywordPattern);a._pairText=a._keywordPattern.matched(2);return a._keywordPattern.matched(1)},hasNext:function(){return a._keywordPattern.match(b)}}},pairs:function(){var a=this,b=this._pairText;return{next:function(){b=Tb.advance(b,a._pairPattern);return new Ud(a._pairPattern.matched(1),a._pairPattern.matched(2))},hasNext:function(){return a._pairPattern.match(b)}}},__class__:Tb};var Ud=function(a,b){this.key=a;this._value=b};f["flambe.display._Font.ConfigPair"]=Ud;Ud.__name__=["flambe","display","_Font","ConfigPair"];Ud.prototype={getInt:function(){return v.parseInt(this._value)},getString:function(){return 34!=this._value.charCodeAt(0)?null:z.substr(this._value,1,this._value.length-2)},__class__:Ud};var Vd=function(){};f["flambe.display.Graphics"]=Vd;Vd.__name__=["flambe","display","Graphics"];Vd.prototype={__class__:Vd};var Y=function(a){I.call(this);this.texture=a};f["flambe.display.ImageSprite"]=Y;Y.__name__=["flambe","display","ImageSprite"];Y.__super__=I;Y.prototype=p(I.prototype,{draw:function(a){null!=this.texture&&a.drawTexture(this.texture,0,0)},getNaturalWidth:function(){return null!=this.texture?this.texture.get_width():0},getNaturalHeight:function(){return null!=this.texture?this.texture.get_height():0},__class__:Y});var xb=f["flambe.display.Orientation"]={__ename__:["flambe","display","Orientation"],__constructs__:["Portrait","Landscape"]};xb.Portrait=["Portrait",0];xb.Portrait.__enum__=xb;xb.Landscape=["Landscape",1];xb.Landscape.__enum__=xb;var id=function(){};f["flambe.display.Texture"]=id;id.__name__=["flambe","display","Texture"];id.__interfaces__=[Db];id.prototype={__class__:id};var bf=function(){};f["flambe.display.SubTexture"]=bf;bf.__name__=["flambe","display","SubTexture"];bf.__interfaces__=[id];var d=f["flambe.input.Key"]={__ename__:["flambe","input","Key"],__constructs__:"A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,Number0,Number1,Number2,Number3,Number4,Number5,Number6,Number7,Number8,Number9,Numpad0,Numpad1,Numpad2,Numpad3,Numpad4,Numpad5,Numpad6,Numpad7,Numpad8,Numpad9,NumpadAdd,NumpadDecimal,NumpadDivide,NumpadEnter,NumpadMultiply,NumpadSubtract,F1,F2,F3,F4,F5,F6,F7,F8,F9,F10,F11,F12,F13,F14,F15,Left,Up,Right,Down,Alt,Backquote,Backslash,Backspace,CapsLock,Comma,Command,Control,Delete,End,Enter,Equals,Escape,Home,Insert,LeftBracket,Minus,PageDown,PageUp,Period,Quote,RightBracket,Semicolon,Shift,Slash,Space,Tab,Menu,Search,Unknown".split(",")};d.A=["A",0];d.A.__enum__=d;d.B=["B",1];d.B.__enum__=d;d.C=["C",2];d.C.__enum__=d;d.D=["D",3];d.D.__enum__=d;d.E=["E",4];d.E.__enum__=d;d.F=["F",5];d.F.__enum__=d;d.G=["G",6];d.G.__enum__=d;d.H=["H",7];d.H.__enum__=d;d.I=["I",8];d.I.__enum__=d;d.J=["J",9];d.J.__enum__=d;d.K=["K",10];d.K.__enum__=d;d.L=["L",11];d.L.__enum__=d;d.M=["M",12];d.M.__enum__=d;d.N=["N",13];d.N.__enum__=d;d.O=["O",14];d.O.__enum__=d;d.P=["P",15];d.P.__enum__=d;d.Q=["Q",16];d.Q.__enum__=d;d.R=["R",17];d.R.__enum__=d;d.S=["S",18];d.S.__enum__=d;d.T=["T",19];d.T.__enum__=d;d.U=["U",20];d.U.__enum__=d;d.V=["V",21];d.V.__enum__=d;d.W=["W",22];d.W.__enum__=d;d.X=["X",23];d.X.__enum__=d;d.Y=["Y",24];d.Y.__enum__=d;d.Z=["Z",25];d.Z.__enum__=d;d.Number0=["Number0",26];d.Number0.__enum__=d;d.Number1=["Number1",27];d.Number1.__enum__=d;d.Number2=["Number2",28];d.Number2.__enum__=d;d.Number3=["Number3",29];d.Number3.__enum__=d;d.Number4=["Number4",30];d.Number4.__enum__=d;d.Number5=["Number5",31];d.Number5.__enum__=d;d.Number6=["Number6",32];d.Number6.__enum__=d;d.Number7=["Number7",33];d.Number7.__enum__=d;d.Number8=["Number8",34];d.Number8.__enum__=d;d.Number9=["Number9",35];d.Number9.__enum__=d;d.Numpad0=["Numpad0",36];d.Numpad0.__enum__=d;d.Numpad1=["Numpad1",37];d.Numpad1.__enum__=d;d.Numpad2=["Numpad2",38];d.Numpad2.__enum__=d;d.Numpad3=["Numpad3",39];d.Numpad3.__enum__=d;d.Numpad4=["Numpad4",40];d.Numpad4.__enum__=d;d.Numpad5=["Numpad5",41];d.Numpad5.__enum__=d;d.Numpad6=["Numpad6",42];d.Numpad6.__enum__=d;d.Numpad7=["Numpad7",43];d.Numpad7.__enum__=d;d.Numpad8=["Numpad8",44];d.Numpad8.__enum__=d;d.Numpad9=["Numpad9",45];d.Numpad9.__enum__=d;d.NumpadAdd=["NumpadAdd",46];d.NumpadAdd.__enum__=d;d.NumpadDecimal=["NumpadDecimal",47];d.NumpadDecimal.__enum__=d;d.NumpadDivide=["NumpadDivide",48];d.NumpadDivide.__enum__=d;d.NumpadEnter=["NumpadEnter",49];d.NumpadEnter.__enum__=d;d.NumpadMultiply=["NumpadMultiply",50];d.NumpadMultiply.__enum__=d;d.NumpadSubtract=["NumpadSubtract",51];d.NumpadSubtract.__enum__=d;d.F1=["F1",52];d.F1.__enum__=d;d.F2=["F2",53];d.F2.__enum__=d;d.F3=["F3",54];d.F3.__enum__=d;d.F4=["F4",55];d.F4.__enum__=d;d.F5=["F5",56];d.F5.__enum__=d;d.F6=["F6",57];d.F6.__enum__=d;d.F7=["F7",58];d.F7.__enum__=d;d.F8=["F8",59];d.F8.__enum__=d;d.F9=["F9",60];d.F9.__enum__=d;d.F10=["F10",61];d.F10.__enum__=d;d.F11=["F11",62];d.F11.__enum__=d;d.F12=["F12",63];d.F12.__enum__=d;d.F13=["F13",64];d.F13.__enum__=d;d.F14=["F14",65];d.F14.__enum__=d;d.F15=["F15",66];d.F15.__enum__=d;d.Left=["Left",67];d.Left.__enum__=d;d.Up=["Up",68];d.Up.__enum__=d;d.Right=["Right",69];d.Right.__enum__=d;d.Down=["Down",70];d.Down.__enum__=d;d.Alt=["Alt",71];d.Alt.__enum__=d;d.Backquote=["Backquote",72];d.Backquote.__enum__=d;d.Backslash=["Backslash",73];d.Backslash.__enum__=d;d.Backspace=["Backspace",74];d.Backspace.__enum__=d;d.CapsLock=["CapsLock",75];d.CapsLock.__enum__=d;d.Comma=["Comma",76];d.Comma.__enum__=d;d.Command=["Command",77];d.Command.__enum__=d;d.Control=["Control",78];d.Control.__enum__=d;d.Delete=["Delete",79];d.Delete.__enum__=d;d.End=["End",80];d.End.__enum__=d;d.Enter=["Enter",81];d.Enter.__enum__=d;d.Equals=["Equals",82];d.Equals.__enum__=d;d.Escape=["Escape",83];d.Escape.__enum__=d;d.Home=["Home",84];d.Home.__enum__=d;d.Insert=["Insert",85];d.Insert.__enum__=d;d.LeftBracket=["LeftBracket",86];d.LeftBracket.__enum__=d;d.Minus=["Minus",87];d.Minus.__enum__=d;d.PageDown=["PageDown",88];d.PageDown.__enum__=d;d.PageUp=["PageUp",89];d.PageUp.__enum__=d;d.Period=["Period",90];d.Period.__enum__=d;d.Quote=["Quote",91];d.Quote.__enum__=d;d.RightBracket=["RightBracket",92];d.RightBracket.__enum__=d;d.Semicolon=["Semicolon",93];d.Semicolon.__enum__=d;d.Shift=["Shift",94];d.Shift.__enum__=d;d.Slash=["Slash",95];d.Slash.__enum__=d;d.Space=["Space",96];d.Space.__enum__=d;d.Tab=["Tab",97];d.Tab.__enum__=d;d.Menu=["Menu",98];d.Menu.__enum__=d;d.Search=["Search",99];d.Search.__enum__=d;d.Unknown=function(a){a=["Unknown",100,a];a.__enum__=d;return a};var Wd=function(){this.init(0,null)};f["flambe.input.KeyboardEvent"]=Wd;Wd.__name__=["flambe","input","KeyboardEvent"];Wd.prototype={init:function(a,b){this.id=a;this.key=b},__class__:Wd};var ua=f["flambe.input.MouseButton"]={__ename__:["flambe","input","MouseButton"],__constructs__:["Left","Middle","Right","Unknown"]};ua.Left=["Left",0];ua.Left.__enum__=ua;ua.Middle=["Middle",1];ua.Middle.__enum__=ua;ua.Right=["Right",2];ua.Right.__enum__=ua;ua.Unknown=function(a){a=["Unknown",3,a];a.__enum__=ua;return a};var ia=f["flambe.input.MouseCursor"]={__ename__:["flambe","input","MouseCursor"],__constructs__:["Default","Button","None"]};ia.Default=["Default",0];ia.Default.__enum__=ia;ia.Button=["Button",1];ia.Button.__enum__=ia;ia.None=["None",2];ia.None.__enum__=ia;var Xd=function(){this.init(0,0,0,null)};f["flambe.input.MouseEvent"]=Xd;Xd.__name__=["flambe","input","MouseEvent"];Xd.prototype={init:function(a,b,c,e){this.id=a;this.viewX=b;this.viewY=c;this.button=e},__class__:Xd};var jd=f["flambe.input.EventSource"]={__ename__:["flambe","input","EventSource"],__constructs__:["Mouse","Touch"]};jd.Mouse=function(a){a=["Mouse",0,a];a.__enum__=jd;return a};jd.Touch=function(a){a=["Touch",1,a];a.__enum__=jd;return a};var Yd=function(){this.init(0,0,0,null,null)};f["flambe.input.PointerEvent"]=Yd;Yd.__name__=["flambe","input","PointerEvent"];Yd.prototype={init:function(a,b,c,e,d){this.id=a;this.viewX=b;this.viewY=c;this.hit=e;this.source=d;this._stopped=!1},__class__:Yd};var Zd=function(a){this.id=a;this._source=jd.Touch(this)};f["flambe.input.TouchPoint"]=Zd;Zd.__name__=["flambe","input","TouchPoint"];Zd.prototype={init:function(a,b){this.viewX=a;this.viewY=b},__class__:Zd};var hd=function(){};f["flambe.math.FMath"]=hd;hd.__name__=["flambe","math","FMath"];hd.max=function(a,b){return a>b?a:b};var vb=function(){this.identity()};f["flambe.math.Matrix"]=vb;vb.__name__=["flambe","math","Matrix"];vb.multiply=function(a,b,c){null==c&&(c=new vb);var e=a.m00*b.m00+a.m01*b.m10,d=a.m00*b.m01+a.m01*b.m11,f=a.m00*b.m02+a.m01*b.m12+a.m02;c.m00=e;c.m01=d;c.m02=f;e=a.m10*b.m00+a.m11*b.m10;d=a.m10*b.m01+a.m11*b.m11;f=a.m10*b.m02+a.m11*b.m12+a.m12;c.m10=e;c.m11=d;c.m12=f;return c};vb.prototype={set:function(a,b,c,e,d,f){this.m00=a;this.m01=c;this.m02=d;this.m10=b;this.m11=e;this.m12=f},identity:function(){this.set(1,0,0,1,0,0)},compose:function(a,b,c,e,d){var f=Math.sin(d),d=Math.cos(d);this.set(d*c,f*c,-f*e,d*e,a,b)},translate:function(a,b){this.m02+=this.m00*a+this.m01*b;this.m12+=this.m11*b+this.m10*a},determinant:function(){return this.m00*this.m11-this.m01*this.m10},inverseTransform:function(a,b,c){var e=this.determinant();if(0==e)return!1;a-=this.m02;b-=this.m12;c.x=(a*this.m11-b*this.m01)/e;c.y=(b*this.m00-a*this.m10)/e;return!0},clone:function(a){null==a&&(a=new vb);a.set(this.m00,this.m10,this.m01,this.m11,this.m02,this.m12);return a},__class__:vb};var Td=function(a,b,c,e){null==e&&(e=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.set(a,b,c,e)};f["flambe.math.Rectangle"]=Td;Td.__name__=["flambe","math","Rectangle"];Td.prototype={set:function(a,b,c,e){this.x=a;this.y=b;this.width=c;this.height=e},contains:function(a,b){a-=this.x;if(0<=this.width){if(0>a||a>this.width)return!1}else if(0<a||a<this.width)return!1;b-=this.y;if(0<=this.height){if(0>b||b>this.height)return!1}else if(0<b||b<this.height)return!1;return!0},__class__:Td};var pa=function(){this._disposed=!1};f["flambe.platform.BasicAsset"]=pa;pa.__name__=["flambe","platform","BasicAsset"];pa.__interfaces__=[Db];pa.prototype={dispose:function(){this._disposed||(this._disposed=!0,this.onDisposed())},onDisposed:function(){null},__class__:pa};var Fb=function(a,b){var c=this;this.manifest=b;this._platform=a;this.promise=new ec;this._bytesLoaded=new qa;this._pack=new kd(b,this);var e=Nb.array(b);if(0==e.length)this.handleSuccess();else{for(var d=new qa,f=0;f<e.length;){var g=e[f];++f;var i=d.get(g.name);null==i&&(i=[],d.set(g.name,i));i.push(g)}this._assetsRemaining=Nb.count(d);for(e=new ld(d,d.arrayKeys());e.hasNext();)d=[e.next()],this.pickBestEntry(d[0],function(a){return function(e){if(null!=e){var d=b.getFullURL(e);try{c.loadEntry(d,e)}catch(f){f instanceof o&&(f=f.val),c.handleError(e,"Unexpected error: "+v.string(f))}d=c.promise;d.set_total(d._total+e.bytes)}else e=a[0][0],Fb.isAudio(e.format)?c.handleLoad(e,za.getInstance()):c.handleError(e,"Could not find a supported format to load")}}(d))}};f["flambe.platform.BasicAssetPackLoader"]=Fb;Fb.__name__=["flambe","platform","BasicAssetPackLoader"];Fb.isAudio=function(a){switch(a[1]){case 8:case 9:case 10:case 11:case 12:return!0;default:return!1}};Fb.prototype={onDisposed:function(){},pickBestEntry:function(a,b){this.getAssetFormats(function(c){for(var e=0;e<c.length;){var d=c[e];++e;for(var f=0;f<a.length;){var g=a[f];++f;if(g.format==d){b(g);return}}}b(null)})},loadEntry:function(){null},getAssetFormats:function(){null},handleLoad:function(a,b){if(!this._pack.disposed){this.handleProgress(a,a.bytes);var c;switch(a.format[1]){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:c=this._pack.textures;break;case 8:case 9:case 10:case 11:case 12:c=this._pack.sounds;break;case 13:c=this._pack.files}c.set(a.name,b);this._assetsRemaining-=1;0==this._assetsRemaining&&this.handleSuccess()}},handleProgress:function(a,b){this._bytesLoaded.set(a.name,b);for(var c=0,e=this._bytesLoaded.iterator();e.hasNext();)var d=e.next(),c=c+d;this.promise.set_progress(c)},handleSuccess:function(){this.promise.set_result(this._pack)},handleError:function(a,b){this.promise.error.emit(oa.withFields(b,["url",a.url]))},handleTextureError:function(a){this.handleError(a,"Failed to create texture. Is the GPU context unavailable?")},__class__:Fb};var kd=function(a,b){this.disposed=!1;this._manifest=a;this.loader=b;this.textures=new qa;this.sounds=new qa;this.files=new qa};f["flambe.platform._BasicAssetPackLoader.BasicAssetPack"]=kd;kd.__name__=["flambe","platform","_BasicAssetPackLoader","BasicAssetPack"];kd.__interfaces__=[dd];kd.prototype={getTexture:function(a,b){null==b&&(b=!0);var c=this.textures.get(a);if(null==c&&b)throw new o(oa.withFields("Missing texture",["name",a]));return c},getSound:function(a,b){null==b&&(b=!0);var c=this.sounds.get(a);if(null==c&&b)throw new o(oa.withFields("Missing sound",["name",a]));return c},getFile:function(a,b){null==b&&(b=!0);var c=this.files.get(a);if(null==c&&b)throw new o(oa.withFields("Missing file",["name",a]));return c},dispose:function(){if(!this.disposed){this.disposed=!0;for(var a=this.textures.iterator();a.hasNext();)a.next().dispose();this.textures=null;for(a=this.sounds.iterator();a.hasNext();)a.next().dispose();this.sounds=null;for(a=this.files.iterator();a.hasNext();)a.next().dispose();this.files=null;this.loader.onDisposed()}},__class__:kd};var ic=function(a){this._disposed=!1;this._content=a};f["flambe.platform.BasicFile"]=ic;ic.__name__=["flambe","platform","BasicFile"];ic.__interfaces__=[ed];ic.__super__=pa;ic.prototype=p(pa.prototype,{toString:function(){return this._content},onDisposed:function(){this._content=null},__class__:ic});var $d=function(){};f["flambe.subsystem.KeyboardSystem"]=$d;$d.__name__=["flambe","subsystem","KeyboardSystem"];$d.prototype={__class__:$d};var Da=function(){this.down=new W;this.up=new W;this.backButton=new Gb;this._keyStates=new ya};f["flambe.platform.BasicKeyboard"]=Da;Da.__name__=["flambe","platform","BasicKeyboard"];Da.__interfaces__=[$d];Da.prototype={submitDown:function(a){if(16777238==a)return null!=this.backButton._head?(this.backButton.emit(),!0):!1;this._keyStates.h.hasOwnProperty(a)||(this._keyStates.h[a]=!0,Da._sharedEvent.init(Da._sharedEvent.id+1,ae.toKey(a)),this.down.emit(Da._sharedEvent));return!0},submitUp:function(a){this._keyStates.h.hasOwnProperty(a)&&(this._keyStates.remove(a),Da._sharedEvent.init(Da._sharedEvent.id+1,ae.toKey(a)),this.up.emit(Da._sharedEvent))},__class__:Da};var be=function(){};f["flambe.subsystem.MouseSystem"]=be;be.__name__=["flambe","subsystem","MouseSystem"];be.prototype={__class__:be};var sa=function(a){this._pointer=a;this._source=jd.Mouse(sa._sharedEvent);this.down=new W;this.move=new W;this.up=new W;this.scroll=new W;this._y=this._x=0;this._cursor=ia.Default;this._buttonStates=new ya};f["flambe.platform.BasicMouse"]=sa;sa.__name__=["flambe","platform","BasicMouse"];sa.__interfaces__=[be];sa.prototype={set_cursor:function(a){return this._cursor=a},submitDown:function(a,b,c){this._buttonStates.h.hasOwnProperty(c)||(this._buttonStates.h[c]=!0,this.prepare(a,b,ce.toButton(c)),this._pointer.submitDown(a,b,this._source),this.down.emit(sa._sharedEvent))},submitMove:function(a,b){this.prepare(a,b,null);this._pointer.submitMove(a,b,this._source);this.move.emit(sa._sharedEvent)},submitUp:function(a,b,c){this._buttonStates.h.hasOwnProperty(c)&&(this._buttonStates.remove(c),this.prepare(a,b,ce.toButton(c)),this._pointer.submitUp(a,b,this._source),this.up.emit(sa._sharedEvent))},submitScroll:function(a,b,c){this._x=a;this._y=b;if(null==this.scroll._head)return!1;this.scroll.emit(c);return!0},prepare:function(a,b,c){this._x=a;this._y=b;sa._sharedEvent.init(sa._sharedEvent.id+1,a,b,c)},__class__:sa};var de=function(){};f["flambe.subsystem.PointerSystem"]=de;de.__name__=["flambe","subsystem","PointerSystem"];de.prototype={__class__:de};var ka=function(a,b,c){null==c&&(c=!1);null==b&&(b=0);null==a&&(a=0);this.down=new W;this.move=new W;this.up=new W;this._x=a;this._y=b;this._isDown=c};f["flambe.platform.BasicPointer"]=ka;ka.__name__=["flambe","platform","BasicPointer"];ka.__interfaces__=[de];ka.prototype={get_x:function(){return this._x},get_y:function(){return this._y},isDown:function(){return this._isDown},submitDown:function(a,b,c){if(!this._isDown){this.submitMove(a,b,c);this._isDown=!0;var e=[],d=I.hitTest(l.root,a,b);if(null!=d){var f=d.owner;do{var g=f._compMap.Sprite_0;null!=g&&e.push(g);f=f.parent}while(null!=f)}this.prepare(a,b,d,c);for(a=0;a<e.length;)if(b=e[a],++a,b.onPointerDown(ka._sharedEvent),ka._sharedEvent._stopped)return;this.down.emit(ka._sharedEvent)}},submitMove:function(a,b,c){if(!(a==this._x&&b==this._y)){var e=[],d=I.hitTest(l.root,a,b);if(null!=d){var f=d.owner;do{var g=f._compMap.Sprite_0;null!=g&&e.push(g);f=f.parent}while(null!=f)}this.prepare(a,b,d,c);for(a=0;a<e.length;)if(b=e[a],++a,b.onPointerMove(ka._sharedEvent),ka._sharedEvent._stopped)return;this.move.emit(ka._sharedEvent)}},submitUp:function(a,b,c){if(this._isDown){this.submitMove(a,b,c);this._isDown=!1;var e=[],d=I.hitTest(l.root,a,b);if(null!=d){var f=d.owner;do{var g=f._compMap.Sprite_0;null!=g&&e.push(g);f=f.parent}while(null!=f)}this.prepare(a,b,d,c);for(a=0;a<e.length;)if(b=e[a],++a,b.onPointerUp(ka._sharedEvent),ka._sharedEvent._stopped)return;this.up.emit(ka._sharedEvent)}},prepare:function(a,b,c,e){this._x=a;this._y=b;ka._sharedEvent.init(ka._sharedEvent.id+
1,a,b,c,e)},__class__:ka};var Hb=function(a,b,c){this._parent=null;this.rootX=this.rootY=0;this._disposed=!1;this.root=a;this._width=b;this._height=c};f["flambe.platform.BasicTexture"]=Hb;Hb.__name__=["flambe","platform","BasicTexture"];Hb.__interfaces__=[bf];Hb.__super__=pa;Hb.prototype=p(pa.prototype,{readPixels:function(a,b,c,e){return this.root.readPixels(this.rootX+a,this.rootY+b,c,e)},writePixels:function(a,b,c,e,d){this.root.writePixels(a,this.rootX+b,this.rootY+c,e,d)},get_graphics:function(){return this.root.getGraphics()},onDisposed:function(){null==this._parent&&this.root.dispose()},get_width:function(){return this._width},get_height:function(){return this._height},__class__:Hb});var md=function(){};f["flambe.subsystem.TouchSystem"]=md;md.__name__=["flambe","subsystem","TouchSystem"];md.prototype={__class__:md};var Yc=function(a,b){null==b&&(b=4);this._pointer=a;this._maxPoints=b;this._pointMap=new ya;this._points=[];this.down=new W;this.move=new W;this.up=new W};f["flambe.platform.BasicTouch"]=Yc;Yc.__name__=["flambe","platform","BasicTouch"];Yc.__interfaces__=[md];Yc.prototype={get_supported:function(){return!0},submitDown:function(a,b,c){if(!this._pointMap.h.hasOwnProperty(a)){var e=new Zd(a);e.init(b,c);this._pointMap.h[a]=e;this._points.push(e);null==this._pointerTouch&&(this._pointerTouch=e,this._pointer.submitDown(b,c,e._source));this.down.emit(e)}},submitMove:function(a,b,c){a=this._pointMap.h[a];null!=a&&(a.init(b,c),this._pointerTouch==a&&this._pointer.submitMove(b,c,a._source),this.move.emit(a))},submitUp:function(a,b,c){var e=this._pointMap.h[a];null!=e&&(e.init(b,c),this._pointMap.remove(a),z.remove(this._points,e),this._pointerTouch==e&&(this._pointerTouch=null,this._pointer.submitUp(b,c,e._source)),this.up.emit(e))},__class__:Yc};var Ub=function(){};f["flambe.sound.Sound"]=Ub;Ub.__name__=["flambe","sound","Sound"];Ub.__interfaces__=[Db];Ub.prototype={__class__:Ub};var za=function(){this._disposed=!1;this._playback=new nd(this)};f["flambe.platform.DummySound"]=za;za.__name__=["flambe","platform","DummySound"];za.__interfaces__=[Ub];za.getInstance=function(){null==za._instance&&(za._instance=new za);return za._instance};za.__super__=pa;za.prototype=p(pa.prototype,{play:function(){return this._playback},get_duration:function(){return 0},onDisposed:function(){},__class__:za});var Vb=function(){};f["flambe.sound.Playback"]=Vb;Vb.__name__=["flambe","sound","Playback"];Vb.__interfaces__=[Ha];Vb.prototype={__class__:Vb};var nd=function(a){this._sound=a;this.volume=new $(0);this._complete=new ra(!0)};f["flambe.platform.DummyPlayback"]=nd;nd.__name__=["flambe","platform","DummyPlayback"];nd.__interfaces__=[Vb];nd.prototype={get_sound:function(){return this._sound},get_paused:function(){return!0},set_paused:function(){return!0},get_position:function(){return 0},dispose:function(){},__class__:nd};var od=function(){};f["flambe.subsystem.StorageSystem"]=od;od.__name__=["flambe","subsystem","StorageSystem"];od.prototype={__class__:od};var bd=function(){this.clear()};f["flambe.platform.DummyStorage"]=bd;bd.__name__=["flambe","platform","DummyStorage"];bd.__interfaces__=[od];bd.prototype={set:function(a,b){this._hash.set(a,b);return!0},get:function(a,b){return this._hash.exists(a)?this._hash.get(a):b},clear:function(){this._hash=new qa},__class__:bd};var Zc=function(){this.down=new W;this.move=new W;this.up=new W};f["flambe.platform.DummyTouch"]=Zc;Zc.__name__=["flambe","platform","DummyTouch"];Zc.__interfaces__=[md];Zc.prototype={get_supported:function(){return!1},__class__:Zc};var jc=function(){this._entries=[]};f["flambe.platform.EventGroup"]=jc;jc.__name__=["flambe","platform","EventGroup"];jc.__interfaces__=[Ha];jc.prototype={addListener:function(a,b,c){a.addEventListener(b,c,!1);this._entries.push(new ee(a,b,c))},addDisposingListener:function(a,b,c){var e=this;this.addListener(a,b,function(a){e.dispose();c(a)})},dispose:function(){for(var a=0,b=this._entries;a<b.length;){var c=b[a];++a;c.dispatcher.removeEventListener(c.type,c.listener,!1)}this._entries=[]},__class__:jc};var ee=function(a,b,c){this.dispatcher=a;this.type=b;this.listener=c};f["flambe.platform._EventGroup.Entry"]=ee;ee.__name__=["flambe","platform","_EventGroup","Entry"];ee.prototype={__class__:ee};var pd=function(){};f["flambe.platform.InternalGraphics"]=pd;pd.__name__=["flambe","platform","InternalGraphics"];pd.__interfaces__=[Vd];pd.prototype={__class__:pd};var fe=function(){};f["flambe.subsystem.RendererSystem"]=fe;fe.__name__=["flambe","subsystem","RendererSystem"];fe.prototype={__class__:fe};var qd=function(){};f["flambe.platform.InternalRenderer"]=qd;qd.__name__=["flambe","platform","InternalRenderer"];qd.__interfaces__=[fe];qd.prototype={__class__:qd};var ae=function(){};f["flambe.platform.KeyCodes"]=ae;ae.__name__=["flambe","platform","KeyCodes"];ae.toKey=function(a){switch(a){case 65:return d.A;case 66:return d.B;case 67:return d.C;case 68:return d.D;case 69:return d.E;case 70:return d.F;case 71:return d.G;case 72:return d.H;case 73:return d.I;case 74:return d.J;case 75:return d.K;case 76:return d.L;case 77:return d.M;case 78:return d.N;case 79:return d.O;case 80:return d.P;case 81:return d.Q;case 82:return d.R;case 83:return d.S;case 84:return d.T;case 85:return d.U;case 86:return d.V;case 87:return d.W;case 88:return d.X;case 89:return d.Y;case 90:return d.Z;case 48:return d.Number0;case 49:return d.Number1;case 50:return d.Number2;case 51:return d.Number3;case 52:return d.Number4;case 53:return d.Number5;case 54:return d.Number6;case 55:return d.Number7;case 56:return d.Number8;case 57:return d.Number9;case 96:return d.Numpad0;case 97:return d.Numpad1;case 98:return d.Numpad2;case 99:return d.Numpad3;case 100:return d.Numpad4;case 101:return d.Numpad5;case 102:return d.Numpad6;case 103:return d.Numpad7;case 104:return d.Numpad8;case 105:return d.Numpad9;case 107:return d.NumpadAdd;case 110:return d.NumpadDecimal;case 111:return d.NumpadDivide;case 108:return d.NumpadEnter;case 106:return d.NumpadMultiply;case 109:return d.NumpadSubtract;case 112:return d.F1;case 113:return d.F2;case 114:return d.F3;case 115:return d.F4;case 116:return d.F5;case 117:return d.F6;case 118:return d.F7;case 119:return d.F8;case 120:return d.F9;case 121:return d.F10;case 122:return d.F11;case 123:return d.F12;case 37:return d.Left;case 38:return d.Up;case 39:return d.Right;case 40:return d.Down;case 18:return d.Alt;case 192:return d.Backquote;case 220:return d.Backslash;case 8:return d.Backspace;case 20:return d.CapsLock;case 188:return d.Comma;case 15:return d.Command;case 17:return d.Control;case 46:return d.Delete;case 35:return d.End;case 13:return d.Enter;case 187:return d.Equals;case 27:return d.Escape;case 36:return d.Home;case 45:return d.Insert;case 219:return d.LeftBracket;case 189:return d.Minus;case 34:return d.PageDown;case 33:return d.PageUp;case 190:return d.Period;case 222:return d.Quote;case 221:return d.RightBracket;case 186:return d.Semicolon;case 16:return d.Shift;case 191:return d.Slash;case 32:return d.Space;case 9:return d.Tab;case 16777234:return d.Menu;case 16777247:return d.Search}return d.Unknown(a)};var Qb=function(){this._tickables=[]};f["flambe.platform.MainLoop"]=Qb;Qb.__name__=["flambe","platform","MainLoop"];Qb.updateEntity=function(a,b){var c=a._compMap.SpeedAdjuster_5;if(null!=c&&(c._realDt=b,b*=c.scale._value,0>=b)){c.onUpdate(b);return}for(c=a.firstComponent;null!=c;){var e=c.next;0==(c._flags&1)&&(c._flags|=1,c.onStart());c.onUpdate(b);c=e}for(c=a.firstChild;null!=c;)e=c.next,Qb.updateEntity(c,b),c=e};Qb.prototype={update:function(a){if(!(0>=a)){1<a&&(a=1);for(var b=0;b<this._tickables.length;){var c=this._tickables[b];null==c||c.update(a)?this._tickables.splice(b,1):++b}l.volume.update(a);Qb.updateEntity(l.root,a)}},render:function(a){var b=a.graphics;null!=b&&(a.willRender(),I.render(l.root,b),a.didRender())},addTickable:function(a){this._tickables.push(a)},__class__:Qb};var ce=function(){};f["flambe.platform.MouseCodes"]=ce;ce.__name__=["flambe","platform","MouseCodes"];ce.toButton=function(a){switch(a){case 0:return ua.Left;case 1:return ua.Middle;case 2:return ua.Right}return ua.Unknown(a)};var ge=function(){};f["flambe.platform.TextureRoot"]=ge;ge.__name__=["flambe","platform","TextureRoot"];ge.prototype={__class__:ge};var rd=function(){};f["flambe.platform.Tickable"]=rd;rd.__name__=["flambe","platform","Tickable"];rd.prototype={__class__:rd};var Ka=function(a,b){this._firstDraw=!1;this._canvasCtx=a.getContext("2d",{alpha:b})};f["flambe.platform.html.CanvasGraphics"]=Ka;Ka.__name__=["flambe","platform","html","CanvasGraphics"];Ka.__interfaces__=[pd];Ka.prototype={save:function(){this._canvasCtx.save()},transform:function(a,b,c,e,d,f){this._canvasCtx.transform(a,b,c,e,d,f)},restore:function(){this._canvasCtx.restore()},drawTexture:function(a,b,c){this.drawSubTexture(a,b,c,0,0,a.get_width(),a.get_height())},drawSubTexture:function(a,b,c,e,d,f,g){this._firstDraw?(this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.drawSubTexture(a,b,c,e,d,f,g),this._canvasCtx.globalCompositeOperation="source-over"):this._canvasCtx.drawImage(a.root.image,a.rootX+e|0,a.rootY+d|0,f|0,g|0,b|0,c|0,f|0,g|0)},fillRect:function(a,b,c,e,d){if(this._firstDraw)this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.fillRect(a,b,c,e,d),this._canvasCtx.globalCompositeOperation="source-over";else{for(a=(16777215&a).toString(16);6>a.length;)a="0"+v.string(a);this._canvasCtx.fillStyle="#"+v.string(a);this._canvasCtx.fillRect(b|0,c|0,e|0,d|0)}},multiplyAlpha:function(a){this._canvasCtx.globalAlpha*=a},setBlendMode:function(a){var b;switch(a[1]){case 0:b="source-over";break;case 1:b="lighter";break;case 2:b="multiply";break;case 3:b="screen";break;case 4:b="destination-in";break;case 5:b="copy"}this._canvasCtx.globalCompositeOperation=b},applyScissor:function(a,b,c,e){this._canvasCtx.beginPath();this._canvasCtx.rect(a|0,b|0,c|0,e|0);this._canvasCtx.clip()},willRender:function(){this._firstDraw=!0},didRender:function(){},__class__:Ka};var Rb=function(a){this.graphics=new Ka(a,!1);this._hasGPU=new ra(!0)};f["flambe.platform.html.CanvasRenderer"]=Rb;Rb.__name__=["flambe","platform","html","CanvasRenderer"];Rb.__interfaces__=[qd];Rb.prototype={get_type:function(){return nb.Canvas},createTextureFromImage:function(a){a=new Wb(Rb.CANVAS_TEXTURES?C.createCanvas(a):a);return a.createTexture(a.width,a.height)},createTexture:function(a,b){return(new Wb(C.createEmptyCanvas(a,b))).createTexture(a,b)},getCompressedTextureFormats:function(){return[]},createCompressedTexture:function(){return null},willRender:function(){this.graphics.willRender()},didRender:function(){this.graphics.didRender()},__class__:Rb};var sd=function(a,b,c){Hb.call(this,a,b,c)};f["flambe.platform.html.CanvasTexture"]=sd;sd.__name__=["flambe","platform","html","CanvasTexture"];sd.__super__=Hb;sd.prototype=p(Hb.prototype,{__class__:sd});var Wb=function(a){this._graphics=null;this.updateCount=0;this._disposed=!1;this.image=a;this.width=a.width;this.height=a.height};f["flambe.platform.html.CanvasTextureRoot"]=Wb;Wb.__name__=["flambe","platform","html","CanvasTextureRoot"];Wb.__interfaces__=[ge];Wb.__super__=pa;Wb.prototype=p(pa.prototype,{createTexture:function(a,b){return new sd(this,a,b)},readPixels:function(a,b,c,e){return gb.ofData(this.getContext2d().getImageData(a,b,c,e).data)},writePixels:function(a,b,c,e,d){var f=this.getContext2d(),g=f.createImageData(e,d),i=g.data;if(null!=i.set)i.set(a.b.bufferValue);else{e=4*e*d;for(d=0;d<e;){var h=d++;i[h]=a.b[h]}}f.putImageData(g,b,c);++this.updateCount},getGraphics:function(){null==this._graphics&&(this.getContext2d(),this._graphics=new td(this));return this._graphics},getContext2d:function(){S.__instanceof(this.image,HTMLCanvasElement)||(this.image=C.createCanvas(this.image));return this.image.getContext("2d",null)},onDisposed:function(){this._graphics=this.image=null},__class__:Wb});var td=function(a){Ka.call(this,a.image,!0);this._renderTarget=a};f["flambe.platform.html._CanvasTextureRoot.InternalGraphics"]=td;td.__name__=["flambe","platform","html","_CanvasTextureRoot","InternalGraphics"];td.__super__=Ka;td.prototype=p(Ka.prototype,{drawTexture:function(a,b,c){Ka.prototype.drawTexture.call(this,a,b,c);++this._renderTarget.updateCount},drawSubTexture:function(a,b,c,e,d,f,g){Ka.prototype.drawSubTexture.call(this,a,b,c,e,d,f,g);++this._renderTarget.updateCount},fillRect:function(a,b,c,e,d){Ka.prototype.fillRect.call(this,a,b,c,e,d);++this._renderTarget.updateCount},__class__:td});var Q=function(a,b){Fb.call(this,a,b)};f["flambe.platform.html.HtmlAssetPackLoader"]=Q;Q.__name__=["flambe","platform","html","HtmlAssetPackLoader"];Q.detectImageFormats=function(a){var b=[u.PNG,u.JPG,u.GIF],c=2,e;e=window.document.createElement("img");e.onload=e.onerror=function(){1==e.width&&b.unshift(u.WEBP);--c;0==c&&a(b)};e.src="data:image/webp;base64,UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==";var d;d=window.document.createElement("img");d.onload=d.onerror=function(){1==d.width&&b.unshift(u.JXR);--c;0==c&&a(b)};d.src="data:image/vnd.ms-photo;base64,SUm8AQgAAAAFAAG8AQAQAAAASgAAAIC8BAABAAAAAQAAAIG8BAABAAAAAQAAAMC8BAABAAAAWgAAAMG8BAABAAAAHwAAAAAAAAAkw91vA07+S7GFPXd2jckNV01QSE9UTwAZAYBxAAAAABP/gAAEb/8AAQAAAQAAAA=="};Q.detectAudioFormats=function(){var a;a=window.document.createElement("audio");if(null==a||null==B(a,a.canPlayType))return[];var b=new Ga("\\b(iPhone|iPod|iPad|Android|Windows Phone)\\b",""),c=new Ga("\\bCrosswalk\\b",""),e=window.navigator.userAgent;if(!R.get_supported()&&b.match(e)&&!c.match(e))return[];b=[{format:u.M4A,mimeType:"audio/mp4; codecs=mp4a"},{format:u.MP3,mimeType:"audio/mpeg"},{format:u.OPUS,mimeType:"audio/ogg; codecs=opus"},{format:u.OGG,mimeType:"audio/ogg; codecs=vorbis"},{format:u.WAV,mimeType:"audio/wav"}];c=[];for(e=0;e<b.length;){var d=b[e];++e;var f="";try{f=a.canPlayType(d.mimeType)}catch(g){g instanceof o&&(g=g.val)}""!=f&&c.push(d.format)}return c};Q.supportsBlob=function(){if(Q._detectBlobSupport){Q._detectBlobSupport=!1;if((new Ga("\\bSilk\\b","")).match(window.navigator.userAgent)||null==window.Blob)return!1;var a=new XMLHttpRequest;a.open("GET",".",!0);if(""!=a.responseType)return!1;a.responseType="blob";if("blob"!=a.responseType)return!1;Q._URL=C.loadExtension("URL").value}return null!=Q._URL&&null!=Q._URL.createObjectURL};Q.__super__=Fb;Q.prototype=p(Fb.prototype,{loadEntry:function(a,b){var c=this;switch(b.format[1]){case 0:case 1:case 2:case 3:case 4:var e;e=window.document.createElement("img");var d=new jc;d.addDisposingListener(e,"load",function(){Q.supportsBlob()&&Q._URL.revokeObjectURL(e.src);var a=c._platform.getRenderer().createTextureFromImage(e);null!=a?c.handleLoad(b,a):c.handleTextureError(b)});d.addDisposingListener(e,"error",function(){c.handleError(b,"Failed to load image")});Q.supportsBlob()?this.download(a,b,"blob",function(a){e.src=Q._URL.createObjectURL(a)}):e.src=a;break;case 5:case 6:case 7:this.download(a,b,"arraybuffer",function(){var a=c._platform.getRenderer().createCompressedTexture(b.format,null);null!=a?c.handleLoad(b,a):c.handleTextureError(b)});break;case 8:case 9:case 10:case 11:case 12:if(R.get_supported())this.download(a,b,"arraybuffer",function(a){R.ctx.decodeAudioData(a,function(a){c.handleLoad(b,new R(a))},function(){c.handleLoad(b,za.getInstance())})});else{var f;f=window.document.createElement("audio");f.preload="auto";var g=++Q._mediaRefCount;null==Q._mediaElements&&(Q._mediaElements=new ya);Q._mediaElements.h[g]=f;d=new jc;d.addDisposingListener(f,"canplaythrough",function(){Q._mediaElements.remove(g);c.handleLoad(b,new kc(f))});d.addDisposingListener(f,"error",function(){Q._mediaElements.remove(g);var a=f.error.code;3==a||4==a?c.handleLoad(b,za.getInstance()):c.handleError(b,"Failed to load audio: "+f.error.code)});d.addListener(f,"progress",function(){if(0<f.buffered.length&&0<f.duration){var a=f.buffered.end(0)/f.duration;c.handleProgress(b,a*b.bytes|0)}});f.src=a;f.load()}break;case 13:this.download(a,b,"text",function(a){c.handleLoad(b,new ic(a))})}},getAssetFormats:function(a){var b=this;null==Q._supportedFormats&&(Q._supportedFormats=new ec,Q.detectImageFormats(function(a){Q._supportedFormats.set_result(b._platform.getRenderer().getCompressedTextureFormats().concat(a).concat(Q.detectAudioFormats()).concat([u.Data]))}));Q._supportedFormats.get(a)},download:function(a,b,c,e){var d=this,f=null,g=null,i=0,h=!1,k=function(){h&&(h=!1,window.clearInterval(i))},m=3,j=function(){--m;return 0<=m?(g(),!0):!1},g=function(){k();null!=f&&f.abort();f=new XMLHttpRequest;f.open("GET",a,!0);f.responseType=c;var g=0;f.onprogress=function(a){h||(h=!0,i=window.setInterval(function(){4!=f.readyState&&5E3<Date.now()-g&&!j()&&(k(),d.handleError(b,"Download stalled"))},1E3));g=Date.now();d.handleProgress(b,a.loaded)};f.onerror=function(){if(0!=f.status||!j())k(),d.handleError(b,"HTTP error "+f.status)};f.onload=function(){var a=f.response;null==a&&(a=f.responseText);k();e(a)};f.send()};g()},__class__:Q});var he=function(){};f["flambe.subsystem.ExternalSystem"]=he;he.__name__=["flambe","subsystem","ExternalSystem"];he.prototype={__class__:he};var cd=function(){};f["flambe.platform.html.HtmlExternal"]=cd;cd.__name__=["flambe","platform","html","HtmlExternal"];cd.__interfaces__=[he];cd.prototype={call:function(a,b){null==b&&(b=[]);for(var c=window,e=c,d=0,f=a.split(".");d<f.length;){var g=f[d];++d;c=e;e=O.field(c,g)}return e.apply(c,b)},bind:function(a,b){O.setField(window,a,b)},__class__:cd};var Xc=function(a,b){sa.call(this,a);this._canvas=b};f["flambe.platform.html.HtmlMouse"]=Xc;Xc.__name__=["flambe","platform","html","HtmlMouse"];Xc.__super__=sa;Xc.prototype=p(sa.prototype,{set_cursor:function(a){var b;switch(a[1]){case 0:b="";break;case 1:b="pointer";break;case 2:b="none"}this._canvas.style.cursor=b;return sa.prototype.set_cursor.call(this,a)},__class__:Xc});var kc=function(a){this._disposed=!1;this.audioElement=a};f["flambe.platform.html.HtmlSound"]=kc;kc.__name__=["flambe","platform","html","HtmlSound"];kc.__interfaces__=[Ub];kc.__super__=pa;kc.prototype=p(pa.prototype,{play:function(a){null==a&&(a=1);return new ud(this,a,!1)},get_duration:function(){return this.audioElement.duration},onDisposed:function(){this.audioElement=null},__class__:kc});var ud=function(a,b,c){var e=this;this._sound=a;this._tickableAdded=!1;this._clonedElement=window.document.createElement("audio");this._clonedElement.loop=c;this._clonedElement.src=a.audioElement.src;this.volume=new $(b,function(){e.updateVolume()});this.updateVolume();this._complete=new ra(!1);this.playAudio();l.hidden._value&&this.set_paused(!0)};f["flambe.platform.html._HtmlSound.HtmlPlayback"]=ud;ud.__name__=["flambe","platform","html","_HtmlSound","HtmlPlayback"];ud.__interfaces__=[rd,Vb];ud.prototype={get_sound:function(){return this._sound},get_paused:function(){return this._clonedElement.paused},set_paused:function(a){this._clonedElement.paused!=a&&(a?this._clonedElement.pause():this.playAudio());return a},get_position:function(){return this._clonedElement.currentTime},update:function(a){this.volume.update(a);this._complete.set__(this._clonedElement.ended);return this._complete._value||this._clonedElement.paused?(this._tickableAdded=!1,this._volumeBinding.dispose(),this._hideBinding.dispose(),!0):!1},dispose:function(){this.set_paused(!0);this._complete.set__(!0)},playAudio:function(){var a=this;this._clonedElement.play();this._tickableAdded||(mb.instance.mainLoop.addTickable(this),this._tickableAdded=!0,this._volumeBinding=l.volume.get_changed().connect(function(){a.updateVolume()}),this._hideBinding=l.hidden.get_changed().connect(function(b){b?(a._wasPaused=a._clonedElement.paused,a.set_paused(!0)):a.set_paused(a._wasPaused)}))},updateVolume:function(){this._clonedElement.volume=l.volume._value*this.volume._value},__class__:ud};var ie=function(){};f["flambe.subsystem.StageSystem"]=ie;ie.__name__=["flambe","subsystem","StageSystem"];ie.prototype={__class__:ie};var Pb=function(a){var b=this;this._canvas=a;this.resize=new Gb;this.preResize=new Gb;this.scaleFactor=Pb.computeScaleFactor();1!=this.scaleFactor&&(C.setVendorStyle(this._canvas,"transform-origin","top left"),C.setVendorStyle(this._canvas,"transform","scale("+1/this.scaleFactor+")"));C.SHOULD_HIDE_MOBILE_BROWSER&&(window.addEventListener("orientationchange",function(){C.callLater(B(b,b.hideMobileBrowser),200)},!1),this.hideMobileBrowser());window.addEventListener("resize",B(this,this.onWindowResize),!1);this.onWindowResize(null);this.orientation=new ra(null);null!=window.orientation&&(window.addEventListener("orientationchange",B(this,this.onOrientationChange),!1),this.onOrientationChange(null));this.fullscreen=new ra(!1);C.addVendorListener(window.document,"fullscreenchange",function(){b.updateFullscreen()},!1);this.updateFullscreen()};f["flambe.platform.html.HtmlStage"]=Pb;Pb.__name__=["flambe","platform","html","HtmlStage"];Pb.__interfaces__=[ie];Pb.computeScaleFactor=function(){var a=window.devicePixelRatio;null==a&&(a=1);var b=window.document.createElement("canvas").getContext("2d",null),b=C.loadExtension("backingStorePixelRatio",b).value;null==b&&(b=1);a/=b;b=window.screen.height;return 1136<a*window.screen.width||1136<a*b?1:a};Pb.prototype={get_width:function(){return this._canvas.width},get_height:function(){return this._canvas.height},requestResize:function(a,b){if(this.resizeCanvas(a,b)){var c=this._canvas.parentElement;c.style.width=a+"px";c.style.height=b+"px"}},requestFullscreen:function(a){null==a&&(a=!0);if(a){var a=window.document.documentElement,b=C.loadFirstExtension(["requestFullscreen","requestFullScreen"],a).value;null!=b&&b.apply(a,[])}else a=C.loadFirstExtension(["cancelFullscreen","cancelFullScreen"],window.document).value,null!=a&&O.callMethod(window.document,a,[])},onWindowResize:function(){this.preResize.emit();var a=this._canvas.parentElement.getBoundingClientRect();this.resizeCanvas(a.width,a.height)},resizeCanvas:function(a,b){var c=this.scaleFactor*a,e=this.scaleFactor*b;if(this._canvas.width==c&&this._canvas.height==e)return!1;this._canvas.width=c|0;this._canvas.height=e|0;this.resize.emit();return!0},hideMobileBrowser:function(){var a=this,b=window.document.documentElement.style;b.height=window.innerHeight+100+"px";b.width=window.innerWidth+"px";b.overflow="visible";C.callLater(function(){C.hideMobileBrowser();C.callLater(function(){b.height=window.innerHeight+"px";a.onWindowResize(null)},100)})},onOrientationChange:function(){this.orientation.set__(C.orientation(window.orientation))},updateFullscreen:function(){this.fullscreen.set__(!0==C.loadFirstExtension(["fullscreen","fullScreen","isFullScreen"],window.document).value)},__class__:Pb};var ad=function(a){this._storage=a};f["flambe.platform.html.HtmlStorage"]=ad;ad.__name__=["flambe","platform","html","HtmlStorage"];ad.__interfaces__=[od];ad.prototype={set:function(a,b){var c;try{var e=new Ia;e.useCache=!0;e.useEnumIndex=!1;e.serialize(b);c=e.toString()}catch(d){return d instanceof o&&(d=d.val),!1}try{this._storage.setItem("flambe:"+
a,c)}catch(f){return f instanceof o&&(f=f.val),!1}return!0},get:function(a,b){var c=null;try{c=this._storage.getItem("flambe:"+a)}catch(e){e instanceof o&&(e=e.val),null}if(null!=c)try{return ja.run(c)}catch(d){d instanceof o&&(d=d.val),null}return b},clear:function(){try{this._storage.clear()}catch(a){a instanceof o&&(a=a.val),null}},__class__:ad};var C=function(){};f["flambe.platform.html.HtmlUtil"]=C;C.__name__=["flambe","platform","html","HtmlUtil"];C.callLater=function(a,b){null==b&&(b=0);window.setTimeout(a,b)};C.hideMobileBrowser=function(){window.scrollTo(1,0)};C.loadExtension=function(a,b){null==b&&(b=window);var c=O.field(b,a);if(null!=c)return{prefix:"",field:a,value:c};for(var c=a.charAt(0).toUpperCase()+z.substr(a,1,null),e=0,d=C.VENDOR_PREFIXES;e<d.length;){var f=d[e];++e;var g=f+c,i=O.field(b,g);if(null!=i)return{prefix:f,field:g,value:i}}return{prefix:null,field:null,value:null}};C.loadFirstExtension=function(a,b){for(var c=0;c<a.length;){var e=a[c];++c;e=C.loadExtension(e,b);if(null!=e.field)return e}return{prefix:null,field:null,value:null}};C.polyfill=function(a,b){null==b&&(b=window);var c=C.loadExtension(a,b).value;if(null==c)return!1;b[a]=c;return!0};C.setVendorStyle=function(a,b,c){for(var a=a.style,e=0,d=C.VENDOR_PREFIXES;e<d.length;){var f=d[e];++e;a.setProperty("-"+f+"-"+b,c)}a.setProperty(b,c)};C.addVendorListener=function(a,b,c,e){for(var d=0,f=C.VENDOR_PREFIXES;d<f.length;){var g=f[d];++d;a.addEventListener(g+b,c,e)}a.addEventListener(b,c,e)};C.orientation=function(a){switch(a){case-90:case 90:return xb.Landscape;default:return xb.Portrait}};C.createEmptyCanvas=function(a,b){var c;c=window.document.createElement("canvas");c.width=a;c.height=b;return c};C.createCanvas=function(a){var b=C.createEmptyCanvas(a.width,a.height),c=b.getContext("2d",null);c.save();c.globalCompositeOperation="copy";c.drawImage(a,0,0);c.restore();return b};C.fixAndroidMath=function(){if(0<=window.navigator.userAgent.indexOf("Linux; U; Android 4")){var a=Math.sin,b=Math.cos;Math.sin=function(b){return 0==b?0:a(b)};Math.cos=function(a){return 0==a?1:b(a)}}};var R=function(a){this._disposed=!1;this.buffer=a};f["flambe.platform.html.WebAudioSound"]=R;R.__name__=["flambe","platform","html","WebAudioSound"];R.__interfaces__=[Ub];R.get_supported=function(){if(R._detectSupport){R._detectSupport=!1;var a=C.loadExtension("AudioContext").value;null!=a&&(R.ctx=new a,R.gain=R.createGain(),R.gain.connect(R.ctx.destination),l.volume.watch(function(a){R.gain.gain.value=a}))}return null!=R.ctx};R.createGain=function(){return null!=R.ctx.createGain?R.ctx.createGain():R.ctx.createGainNode()};R.start=function(a,b){null!=a.start?a.start(b):a.noteOn(b)};R.__super__=pa;R.prototype=p(pa.prototype,{play:function(a){null==a&&(a=1);return new vd(this,a,!1)},get_duration:function(){return this.buffer.duration},onDisposed:function(){this.buffer=null},__class__:R});var vd=function(a,b,c){var e=this;this._sound=a;this._head=R.gain;this._complete=new ra(!1);this._sourceNode=R.ctx.createBufferSource();this._sourceNode.buffer=a.buffer;this._sourceNode.loop=c;this._sourceNode.onended=function(){e._complete.set__(!0)};R.start(this._sourceNode,0);this.playAudio();this.volume=new $(b,function(a){e.setVolume(a)});1!=b&&this.setVolume(b);l.hidden._value&&this.set_paused(!0)};f["flambe.platform.html._WebAudioSound.WebAudioPlayback"]=vd;vd.__name__=["flambe","platform","html","_WebAudioSound","WebAudioPlayback"];vd.__interfaces__=[rd,Vb];vd.prototype={get_sound:function(){return this._sound},get_paused:function(){return 0<=this._pausedAt},set_paused:function(a){a!=0<=this._pausedAt&&(a?(this._sourceNode.disconnect(),this._pausedAt=this.get_position()):this.playAudio());return a},get_position:function(){return this._complete._value?this._sound.get_duration():0<=this._pausedAt?this._pausedAt:(R.ctx.currentTime-this._startedAt)%this._sound.get_duration()},update:function(a){this.volume.update(a);3==this._sourceNode.playbackState&&this._complete.set__(!0);return this._complete._value||0<=this._pausedAt?(this._tickableAdded=!1,this._hideBinding.dispose(),!0):!1},dispose:function(){this.set_paused(!0);this._complete.set__(!0)},setVolume:function(a){null==this._gainNode&&(this._gainNode=R.createGain(),this.insertNode(this._gainNode));this._gainNode.gain.value=a},insertNode:function(a){0<=this._pausedAt||(this._sourceNode.disconnect(),this._sourceNode.connect(a));a.connect(this._head);this._head=a},playAudio:function(){var a=this;this._sourceNode.connect(this._head);this._startedAt=R.ctx.currentTime;this._pausedAt=-1;this._tickableAdded||(mb.instance.mainLoop.addTickable(this),this._tickableAdded=!0,this._hideBinding=l.hidden.get_changed().connect(function(b){b?(a._wasPaused=0<=a._pausedAt,a.set_paused(!0)):a.set_paused(a._wasPaused)}))},__class__:vd};var Kc=function(){this._width=this._height=-1;this._transitor=null;x.call(this);this.scenes=[];this.occludedScenes=[];this._root=new L};f["flambe.scene.Director"]=Kc;Kc.__name__=["flambe","scene","Director"];Kc.__super__=x;Kc.prototype=p(x.prototype,{get_name:function(){return"Director_3"},setSize:function(a,b){this._width=a;this._height=b;return this},pushScene:function(a,b){var c=this;this.completeTransition();var e=this.get_topScene();null!=e?this.playTransition(e,a,b,function(){c.hide(e)}):(this.add(a),this.invalidateVisibility())},unwindToScene:function(a,b){var c=this;this.completeTransition();var e=this.get_topScene();if(null!=e){if(e!=a){for(this.scenes.pop();0<this.scenes.length&&this.scenes[this.scenes.length-1]!=a;)this.scenes.pop().dispose();this.playTransition(e,a,b,function(){c.hideAndDispose(e)})}}else this.pushScene(a,b)},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.completeTransition();for(var a=0,b=this.scenes;a<b.length;){var c=b[a];++a;c.dispose()}this.scenes=[];this.occludedScenes=[];this._root.dispose()},onUpdate:function(a){null!=this._transitor&&this._transitor.update(a)&&this.completeTransition()},get_topScene:function(){var a=this.scenes.length;return 0<a?this.scenes[a-1]:null},add:function(a){var b=this.get_topScene();null!=b&&this._root.removeChild(b);z.remove(this.scenes,a);this.scenes.push(a);this._root.addChild(a)},hide:function(a){a=a._compMap.Scene_6;null!=a&&a.hidden.emit()},hideAndDispose:function(a){this.hide(a);a.dispose()},show:function(a){a=a._compMap.Scene_6;null!=a&&a.shown.emit()},invalidateVisibility:function(){for(var a=this.scenes.length;0<a;){var b=this.scenes[--a]._compMap.Scene_6;if(null==b||b.opaque)break}this.occludedScenes=0<this.scenes.length?this.scenes.slice(a,this.scenes.length-1):[];a=this.get_topScene();null!=a&&this.show(a)},completeTransition:function(){null!=this._transitor&&(this._transitor.complete(),this._transitor=null,this.invalidateVisibility())},playTransition:function(a,b,c,e){this.completeTransition();this.add(b);null!=c?(this.occludedScenes.push(a),this._transitor=new je(a,b,c,e),this._transitor.init(this)):(e(),this.invalidateVisibility())},__class__:Kc});var je=function(a,b,c,e){this._from=a;this._to=b;this._transition=c;this._onComplete=e};f["flambe.scene._Director.Transitor"]=je;je.__name__=["flambe","scene","_Director","Transitor"];je.prototype={init:function(a){this._transition.init(a,this._from,this._to)},update:function(a){return this._transition.update(a)},complete:function(){this._transition.complete();this._onComplete()},__class__:je};var lc=function(){};f["flambe.scene.Transition"]=lc;lc.__name__=["flambe","scene","Transition"];lc.prototype={init:function(a,b,c){this._director=a;this._from=b;this._to=c},update:function(){return!0},complete:function(){},__class__:lc};var ob=function(a,b){this._duration=a;this._ease=null!=b?b:zb.linear};f["flambe.scene.TweenTransition"]=ob;ob.__name__=["flambe","scene","TweenTransition"];ob.__super__=lc;ob.prototype=p(lc.prototype,{init:function(a,b,c){lc.prototype.init.call(this,a,b,c);this._elapsed=0},update:function(a){this._elapsed+=a;return this._elapsed>=this._duration},interp:function(a,b){return a+(b-a)*this._ease(this._elapsed/this._duration)},__class__:ob});var Qc=function(a,b){ob.call(this,a,b)};f["flambe.scene.FadeTransition"]=Qc;Qc.__name__=["flambe","scene","FadeTransition"];Qc.__super__=ob;Qc.prototype=p(ob.prototype,{init:function(a,b,c){ob.prototype.init.call(this,a,b,c);a=this._to._compMap.Sprite_0;null==a&&this._to.add(a=new I);a.alpha.set__(0)},update:function(a){a=ob.prototype.update.call(this,a);this._to._compMap.Sprite_0.alpha.set__(this.interp(0,1));return a},complete:function(){this._to._compMap.Sprite_0.alpha.set__(1)},__class__:Qc});var ke=function(){};f["flambe.scene.Scene"]=ke;ke.__name__=["flambe","scene","Scene"];ke.__super__=x;ke.prototype=p(x.prototype,{get_name:function(){return"Scene_6"},__class__:ke});var mc=function(){};f["flambe.script.Action"]=mc;mc.__name__=["flambe","script","Action"];mc.prototype={__class__:mc};var ac=function(a){this._fn=a};f["flambe.script.CallFunction"]=ac;ac.__name__=["flambe","script","CallFunction"];ac.__interfaces__=[mc];ac.prototype={update:function(){this._fn();return 0},__class__:ac};var Jc=function(a){this._duration=a;this._elapsed=0};f["flambe.script.Delay"]=Jc;Jc.__name__=["flambe","script","Delay"];Jc.__interfaces__=[mc];Jc.prototype={update:function(a){this._elapsed+=a;if(this._elapsed>=this._duration){var b=this._elapsed-this._duration;this._elapsed=0;return a-b}return-1},__class__:Jc};var Hc=function(){x.call(this);this.stopAll()};f["flambe.script.Script"]=Hc;Hc.__name__=["flambe","script","Script"];Hc.__super__=x;Hc.prototype=p(x.prototype,{get_name:function(){return"Script_4"},run:function(a){a=new wd(a);this._handles.push(a);return a},stopAll:function(){this._handles=[]},onUpdate:function(a){for(var b=0;b<this._handles.length;){var c=this._handles[b];c.removed||0<=c.action.update(a,this.owner)?this._handles.splice(b,1):++b}},__class__:Hc});var wd=function(a){this.removed=!1;this.action=a};f["flambe.script._Script.Handle"]=wd;wd.__name__=["flambe","script","_Script","Handle"];wd.__interfaces__=[Ha];wd.prototype={dispose:function(){this.removed=!0;this.action=null},__class__:wd};var Ic=function(a){this._idx=0;this._runningActions=null!=a?a.slice():[]};f["flambe.script.Sequence"]=Ic;Ic.__name__=["flambe","script","Sequence"];Ic.__interfaces__=[mc];Ic.prototype={update:function(a,b){for(var c=0;;){var e=this._runningActions[this._idx];if(null!=e)if(e=e.update(a-c,b),0<=e)c+=e;else return-1;++this._idx;if(this._idx>=this._runningActions.length){this._idx=0;break}else if(c>a)return-1}return c},__class__:Ic};var nb=f["flambe.subsystem.RendererType"]={__ename__:["flambe","subsystem","RendererType"],__constructs__:["Stage3D","WebGL","Canvas"]};nb.Stage3D=["Stage3D",0];nb.Stage3D.__enum__=nb;nb.WebGL=["WebGL",1];nb.WebGL.__enum__=nb;nb.Canvas=["Canvas",2];nb.Canvas.__enum__=nb;var af=function(){};f["flambe.util.Assert"]=af;af.__name__=["flambe","util","Assert"];af.that=function(){};var Fd=function(){};f["flambe.util.BitSets"]=Fd;Fd.__name__=["flambe","util","BitSets"];Fd.set=function(a,b,c){return c?a|b:a&~b};var ec=function(){this.success=new W;this.error=new W;this.progressChanged=new Gb;this.hasResult=!1;this._total=this._progress=0};f["flambe.util.Promise"]=ec;ec.__name__=["flambe","util","Promise"];ec.prototype={set_result:function(a){if(this.hasResult)throw new o("Promise result already assigned");this._result=a;this.hasResult=!0;this.success.emit(a);return a},get:function(a){return this.hasResult?(a(this._result),null):this.success.connect(a).once()},set_progress:function(a){this._progress!=a&&(this._progress=a,this.progressChanged.emit());return a},set_total:function(a){this._total!=a&&(this._total=a,this.progressChanged.emit());return a},__class__:ec};var Gb=function(a){ga.call(this,a)};f["flambe.util.Signal0"]=Gb;Gb.__name__=["flambe","util","Signal0"];Gb.__super__=ga;Gb.prototype=p(ga.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},emit:function(){var a=this;this._head==ga.DISPATCHING_SENTINEL?this.defer(function(){a.emitImpl()}):this.emitImpl()},emitImpl:function(){for(var a=this.willEmit(),b=a;null!=b;)b._listener(),b.stayInList||b.dispose(),b=b._next;this.didEmit(a)},__class__:Gb});var Qd=function(a){this.next=null;this.fn=a};f["flambe.util._SignalBase.Task"]=Qd;Qd.__name__=["flambe","util","_SignalBase","Task"];Qd.prototype={__class__:Qd};var oa=function(){};f["flambe.util.Strings"]=oa;oa.__name__=["flambe","util","Strings"];oa.getFileExtension=function(a){var b=a.lastIndexOf(".");return 0<b?z.substr(a,b+1,null):null};oa.removeFileExtension=function(a){var b=a.lastIndexOf(".");return 0<b?z.substr(a,0,b):a};oa.getUrlExtension=function(a){var b=a.lastIndexOf("?");0<=b&&(a=z.substr(a,0,b));b=a.lastIndexOf("/");0<=b&&(a=z.substr(a,b+1,null));return oa.getFileExtension(a)};oa.joinPath=function(a,b){0<a.length&&47!=a.charCodeAt(a.length-1)&&(a+="/");return a+
b};oa.withFields=function(a,b){var c=b.length;if(0<c){for(var a=0<a.length?a+" [":a+"[",e=0;e<c;){0<e&&(a+=", ");var d=b[e],f=b[e+1];if(v.is(f,Error)){var g=f.stack;null!=g&&(f=g)}a+=d+"="+v.string(f);e+=2}a+="]"}return a};var le=function(){};f["haxe.IMap"]=le;le.__name__=["haxe","IMap"];var Gd=function(a){this.url=a;this.headers=new ub;this.params=new ub;this.async=!0};f["haxe.Http"]=Gd;Gd.__name__=["haxe","Http"];Gd.prototype={addParameter:function(a,b){this.params.push({param:a,value:b});return this},request:function(a){var b=this;b.responseData=null;var c=this.req=$c.createXMLHttpRequest(),e=function(){if(4==c.readyState){var a;try{a=c.status}catch(e){e instanceof o&&(e=e.val),a=null}if(null!=a){var d=window.location.protocol.toLowerCase();(new Ga("^(?:about|app|app-storage|.+-extension|file|res|widget):$","")).match(d)&&(a=null!=c.responseText?200:404)}void 0==a&&(a=null);if(null!=a)b.onStatus(a);if(null!=a&&200<=a&&400>a)b.req=null,b.onData(b.responseData=c.responseText);else if(null==a)b.req=null,b.onError("Failed to connect or resolve host");else switch(a){case 12029:b.req=null;b.onError("Failed to connect to host");break;case 12007:b.req=null;b.onError("Unknown host");break;default:b.req=null,b.responseData=c.responseText,b.onError("Http Error #"+c.status)}}};this.async&&(c.onreadystatechange=e);var d=this.postData;if(null!=d)a=!0;else for(var f=this.params.h,g=null;null!=f;)g=f[0],f=f[1],d=null==d?"":d+"&",d+=encodeURIComponent(g.param)+"="+encodeURIComponent(g.value);try{if(a)c.open("POST",this.url,this.async);else if(null!=d){var i=1>=this.url.split("?").length;c.open("GET",this.url+(i?"?":"&")+d,this.async);d=null}else c.open("GET",this.url,this.async)}catch(h){h instanceof o&&(h=h.val);b.req=null;this.onError(h.toString());return}!Nb.exists(this.headers,function(a){return"Content-Type"==a.header})&&a&&null==this.postData&&c.setRequestHeader("Content-Type","application/x-www-form-urlencoded");a=this.headers.h;for(f=null;null!=a;)f=a[0],a=a[1],c.setRequestHeader(f.header,f.value);c.send(d);this.async||e(null)},onData:function(){},onError:function(){},onStatus:function(){},__class__:Gd};var me=function(a,b){this.high=a;this.low=b};f["haxe._Int64.___Int64"]=me;me.__name__=["haxe","_Int64","___Int64"];me.prototype={__class__:me};var Ia=function(){this.buf=new Ba;this.cache=[];this.useCache=Ia.USE_CACHE;this.useEnumIndex=Ia.USE_ENUM_INDEX;this.shash=new qa;this.scount=0};f["haxe.Serializer"]=Ia;Ia.__name__=["haxe","Serializer"];Ia.prototype={toString:function(){return this.buf.b},serializeString:function(a){var b=this.shash.get(a);null!=b?(this.buf.b+="R",this.buf.b=null==b?this.buf.b+"null":this.buf.b+(""+b)):(this.shash.set(a,this.scount++),this.buf.b+="y",a=encodeURIComponent(a),this.buf.b=null==a.length?this.buf.b+"null":this.buf.b+(""+a.length),this.buf.b+=":",this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a))},serializeRef:function(a){for(var b=typeof a,c=0,e=this.cache.length;c<e;){var d=c++,f=this.cache[d];if(typeof f==b&&f==a)return this.buf.b+="r",this.buf.b=null==d?this.buf.b+"null":this.buf.b+(""+d),!0}this.cache.push(a);return!1},serializeFields:function(a){for(var b=0,c=O.fields(a);b<c.length;){var e=c[b];++b;this.serializeString(e);this.serialize(O.field(a,e))}this.buf.b+="g"},serialize:function(a){var b=Z["typeof"](a);switch(b[1]){case 0:this.buf.b+="n";break;case 1:if(0==a){this.buf.b+="z";break}this.buf.b+="i";this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a);break;case 2:isNaN(a)?this.buf.b+="k":isFinite(a)?(this.buf.b+="d",this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a)):this.buf.b=0>a?this.buf.b+"m":this.buf.b+"p";break;case 3:this.buf.b=a?this.buf.b+"t":this.buf.b+"f";break;case 6:b=b[2];if(b==String){this.serializeString(a);break}if(this.useCache&&this.serializeRef(a))break;switch(b){case Array:b=0;this.buf.b+="a";for(var c=a.length,e=0;e<c;){var d=e++;null==a[d]?b++:(0<b&&(1==b?this.buf.b+="n":(this.buf.b+="u",this.buf.b=null==b?this.buf.b+"null":this.buf.b+(""+b)),b=0),this.serialize(a[d]))}0<b&&(1==b?this.buf.b+="n":(this.buf.b+="u",this.buf.b=null==b?this.buf.b+"null":this.buf.b+(""+b)));this.buf.b+="h";break;case ub:this.buf.b+="l";a=a.h;for(b=null;null!=a;)b=a[0],a=a[1],this.serialize(b);this.buf.b+="h";break;case Date:this.buf.b+="v";this.buf.add(a.getTime());break;case qa:this.buf.b+="b";for(b=a.keys();b.hasNext();)c=b.next(),this.serializeString(c),this.serialize(null!=Ib[c]?a.getReserved(c):a.h[c]);this.buf.b+="h";break;case ya:this.buf.b+="q";for(b=a.keys();b.hasNext();)c=b.next(),this.buf.b+=":",this.buf.b=null==c?this.buf.b+"null":this.buf.b+(""+c),this.serialize(a.h[c]);this.buf.b+="h";break;case Jb:this.buf.b+="M";for(b=a.keys();b.hasNext();)c=b.next(),e=O.field(c,"__id__"),O.deleteField(c,"__id__"),this.serialize(c),c.__id__=e,this.serialize(a.h[c.__id__]);this.buf.b+="h";break;case gb:e=0;d=a.length-2;b=new Ba;for(c=Ia.BASE64;e<d;){var f=a.get(e++),g=a.get(e++),i=a.get(e++);b.add(c.charAt(f>>2));b.add(c.charAt((f<<4|g>>4)&63));b.add(c.charAt((g<<2|i>>6)&63));b.add(c.charAt(i&63))}e==d?(d=a.get(e++),a=a.get(e++),b.add(c.charAt(d>>2)),b.add(c.charAt((d<<4|a>>4)&63)),b.add(c.charAt(a<<2&63))):e==d+1&&(a=a.get(e++),b.add(c.charAt(a>>2)),b.add(c.charAt(a<<4&63)));a=b.b;this.buf.b+="s";this.buf.b=null==a.length?this.buf.b+"null":this.buf.b+(""+a.length);this.buf.b+=":";this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a);break;default:this.useCache&&this.cache.pop(),null!=a.hxSerialize?(this.buf.b+="C",this.serializeString(Z.getClassName(b)),this.useCache&&this.cache.push(a),a.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(Z.getClassName(b)),this.useCache&&this.cache.push(a),this.serializeFields(a))}break;case 4:if(S.__instanceof(a,rg))a=Z.getClassName(a),this.buf.b+="A",this.serializeString(a);else if(S.__instanceof(a,sg))this.buf.b+="B",this.serializeString(Z.getEnumName(a));else{if(this.useCache&&this.serializeRef(a))break;this.buf.b+="o";this.serializeFields(a)}break;case 7:b=b[2];if(this.useCache){if(this.serializeRef(a))break;this.cache.pop()}this.buf.b=this.useEnumIndex?this.buf.b+"j":this.buf.b+"w";this.serializeString(Z.getEnumName(b));this.useEnumIndex?(this.buf.b+=":",this.buf.b+=v.string(a[1])):this.serializeString(a[0]);this.buf.b+=":";b=a.length;this.buf.b+=v.string(b-2);for(c=2;c<b;)e=c++,this.serialize(a[e]);this.useCache&&this.cache.push(a);break;case 5:throw new o("Cannot serialize function");default:throw new o("Cannot serialize "+v.string(a));}},__class__:Ia};var ha=function(a){var b=this;this.id=setInterval(function(){b.run()},a)};f["haxe.Timer"]=ha;ha.__name__=["haxe","Timer"];ha.delay=function(a,b){var c=new ha(b);c.run=function(){c.stop();a()};return c};ha.prototype={stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},run:function(){},__class__:ha};var ja=function(a){this.buf=a;this.length=a.length;this.pos=0;this.scache=[];this.cache=[];a=ja.DEFAULT_RESOLVER;null==a&&(a=Z,ja.DEFAULT_RESOLVER=a);this.setResolver(a)};f["haxe.Unserializer"]=ja;ja.__name__=["haxe","Unserializer"];ja.initCodes=function(){for(var a=[],b=0,c=ja.BASE64.length;b<c;){var e=b++;a[ja.BASE64.charCodeAt(e)]=e}return a};ja.run=function(a){return(new ja(a)).unserialize()};ja.prototype={setResolver:function(a){this.resolver=null==a?{resolveClass:function(){return null},resolveEnum:function(){return null}}:a},get:function(a){return this.buf.charCodeAt(a)},readDigits:function(){for(var a=0,b=!1,c=this.pos;;){var e=this.buf.charCodeAt(this.pos);if(e!=e)break;if(45==e){if(this.pos!=c)break;b=!0}else{if(48>e||57<e)break;a=10*a+(e-48)}this.pos++}b&&(a*=-1);return a},readFloat:function(){for(var a=this.pos;;){var b=this.buf.charCodeAt(this.pos);if(43<=b&&58>b||101==b||69==b)this.pos++;else break}return v.parseFloat(z.substr(this.buf,a,this.pos-a))},unserializeObject:function(a){for(;;){if(this.pos>=this.length)throw new o("Invalid object");if(103==this.buf.charCodeAt(this.pos))break;var b=this.unserialize();if("string"!=typeof b)throw new o("Invalid object key");var c=this.unserialize();a[b]=c}this.pos++},unserializeEnum:function(a,b){if(58!=this.get(this.pos++))throw new o("Invalid enum format");var c=this.readDigits();if(0==c)return Z.createEnum(a,b);for(var e=[];0<c--;)e.push(this.unserialize());return Z.createEnum(a,b,e)},unserialize:function(){switch(this.get(this.pos++)){case 110:return null;case 116:return!0;case 102:return!1;case 122:return 0;case 105:return this.readDigits();case 100:return this.readFloat();case 121:var a=this.readDigits();if(58!=this.get(this.pos++)||this.length-this.pos<a)throw new o("Invalid string length");var b=z.substr(this.buf,this.pos,a);this.pos+=a;b=decodeURIComponent(b.split("+").join(" "));this.scache.push(b);return b;case 107:return NaN;case 109:return-Infinity;case 112:return Infinity;case 97:a=[];for(this.cache.push(a);;){b=this.buf.charCodeAt(this.pos);if(104==b){this.pos++;break}117==b?(this.pos++,b=this.readDigits(),a[a.length+b-1]=null):a.push(this.unserialize())}return a;case 111:return a={},this.cache.push(a),this.unserializeObject(a),a;case 114:a=this.readDigits();if(0>a||a>=this.cache.length)throw new o("Invalid reference");return this.cache[a];case 82:a=this.readDigits();if(0>a||a>=this.scache.length)throw new o("Invalid string reference");return this.scache[a];case 120:throw new o(this.unserialize());case 99:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw new o("Class not found "+a);a=Z.createEmptyInstance(b);this.cache.push(a);this.unserializeObject(a);return a;case 119:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw new o("Enum not found "+a);a=this.unserializeEnum(b,this.unserialize());this.cache.push(a);return a;case 106:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw new o("Enum not found "+a);this.pos++;var c=this.readDigits(),e=Z.getEnumConstructs(b)[c];if(null==e)throw new o("Unknown enum index "+a+"@"+c);a=this.unserializeEnum(b,e);this.cache.push(a);return a;case 108:a=new ub;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)a.add(this.unserialize());this.pos++;return a;case 98:a=new qa;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)b=this.unserialize(),a.set(b,this.unserialize());this.pos++;return a;case 113:a=new ya;this.cache.push(a);for(b=this.get(this.pos++);58==b;)b=this.readDigits(),a.set(b,this.unserialize()),b=this.get(this.pos++);if(104!=b)throw new o("Invalid IntMap format");return a;case 77:a=new Jb;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)b=this.unserialize(),a.set(b,this.unserialize());this.pos++;return a;case 118:return 48<=this.buf.charCodeAt(this.pos)&&57>=this.buf.charCodeAt(this.pos)&&48<=this.buf.charCodeAt(this.pos+1)&&57>=this.buf.charCodeAt(this.pos+
1)&&48<=this.buf.charCodeAt(this.pos+2)&&57>=this.buf.charCodeAt(this.pos+2)&&48<=this.buf.charCodeAt(this.pos+3)&&57>=this.buf.charCodeAt(this.pos+3)&&45==this.buf.charCodeAt(this.pos+4)?(a=z.substr(this.buf,this.pos,19),a=z.strDate(a),this.pos+=19):(a=this.readFloat(),b=new Date,b.setTime(a),a=b),this.cache.push(a),a;case 115:a=this.readDigits();e=this.buf;if(58!=this.get(this.pos++)||this.length-this.pos<a)throw new o("Invalid bytes length");var d=ja.CODES;null==d&&(d=ja.initCodes(),ja.CODES=d);for(var f=this.pos,g=a&3,i=f+(a-g),b=gb.alloc(3*(a>>2)+(2<=g?g-1:0)),c=0;f<i;){var h=d[M.fastCodeAt(e,f++)],k=d[M.fastCodeAt(e,f++)];b.set(c++,h<<2|k>>4);h=d[M.fastCodeAt(e,f++)];b.set(c++,k<<4|h>>2);k=d[M.fastCodeAt(e,f++)];b.set(c++,h<<6|k)}2<=g&&(k=d[M.fastCodeAt(e,f++)],i=d[M.fastCodeAt(e,f++)],b.set(c++,k<<2|i>>4),3==g&&(e=d[M.fastCodeAt(e,f++)],b.set(c++,i<<4|e>>2)));this.pos+=a;this.cache.push(b);return b;case 67:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw new o("Class not found "+
a);a=Z.createEmptyInstance(b);this.cache.push(a);a.hxUnserialize(this);if(103!=this.get(this.pos++))throw new o("Invalid custom data");return a;case 65:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw new o("Class not found "+a);return b;case 66:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw new o("Enum not found "+a);return b}this.pos--;throw new o("Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos);},__class__:ja};var ya=function(){this.h={}};f["haxe.ds.IntMap"]=ya;ya.__name__=["haxe","ds","IntMap"];ya.__interfaces__=[le];ya.prototype={set:function(a,b){this.h[a]=b},remove:function(a){if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b|0);return z.iter(a)},__class__:ya};var Jb=function(){this.h={};this.h.__keys__={}};f["haxe.ds.ObjectMap"]=Jb;Jb.__name__=["haxe","ds","ObjectMap"];Jb.__interfaces__=[le];Jb.prototype={set:function(a,b){var c=a.__id__||(a.__id__=++Jb.count);this.h[c]=b;this.h.__keys__[c]=a},keys:function(){var a=[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&a.push(this.h.__keys__[b]);return z.iter(a)},__class__:Jb};var ld=function(a,b){this.map=a;this.keys=b;this.index=0;this.count=b.length};f["haxe.ds._StringMap.StringMapIterator"]=ld;ld.__name__=["haxe","ds","_StringMap","StringMapIterator"];ld.prototype={hasNext:function(){return this.index<this.count},next:function(){return this.map.get(this.keys[this.index++])},__class__:ld};var qa=function(){this.h={}};f["haxe.ds.StringMap"]=qa;qa.__name__=["haxe","ds","StringMap"];qa.__interfaces__=[le];qa.prototype={set:function(a,b){null!=Ib[a]?this.setReserved(a,b):this.h[a]=b},get:function(a){return null!=Ib[a]?this.getReserved(a):this.h[a]},exists:function(a){return null!=Ib[a]?this.existsReserved(a):this.h.hasOwnProperty(a)},setReserved:function(a,b){null==this.rh&&(this.rh={});this.rh["$"+a]=b},getReserved:function(a){return null==this.rh?null:this.rh["$"+a]},existsReserved:function(a){return null==this.rh?!1:this.rh.hasOwnProperty("$"+a)},keys:function(){var a=this.arrayKeys();return z.iter(a)},arrayKeys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b);if(null!=this.rh)for(b in this.rh)36==b.charCodeAt(0)&&a.push(b.substr(1));return a},iterator:function(){return new ld(this,this.arrayKeys())},__class__:qa};var gb=function(a){this.length=a.byteLength;this.b=new qg(a);this.b.bufferValue=a;a.hxBytes=this;a.bytes=this.b};f["haxe.io.Bytes"]=gb;gb.__name__=["haxe","io","Bytes"];gb.alloc=function(a){return new gb(new cf(a))};gb.ofData=function(a){var b=a.hxBytes;return null!=b?b:new gb(a)};gb.prototype={get:function(a){return this.b[a]},set:function(a,b){this.b[a]=b&255},blit:function(a,b,c,e){if(0>a||0>c||0>e||a+e>this.length||c+e>b.length)throw new o(Ea.OutsideBounds);0==c&&e==b.length?this.b.set(b.b,a):this.b.set(b.b.subarray(c,c+e),a)},setInt32:function(a,b){null==this.data&&(this.data=new wg(this.b.buffer,this.b.byteOffset,this.b.byteLength));this.data.setInt32(a,b,!0)},__class__:gb};var Ea=f["haxe.io.Error"]={__ename__:["haxe","io","Error"],__constructs__:["Blocked","Overflow","OutsideBounds","Custom"]};Ea.Blocked=["Blocked",0];Ea.Blocked.__enum__=Ea;Ea.Overflow=["Overflow",1];Ea.Overflow.__enum__=Ea;Ea.OutsideBounds=["OutsideBounds",2];Ea.OutsideBounds.__enum__=Ea;Ea.Custom=function(a){a=["Custom",3,a];a.__enum__=Ea;return a};var La=function(){};f["haxe.io.FPHelper"]=La;La.__name__=["haxe","io","FPHelper"];La.i32ToFloat=function(a){var b=a>>>23&255,c=a&8388607;return 0==c&&0==b?0:(1-(a>>>31<<1))*(1+Math.pow(2,-23)*c)*Math.pow(2,b-127)};La.floatToI32=function(a){if(0==a)return 0;var b;b=0>a?-a:a;var c=Math.floor(Math.log(b)/0.6931471805599453);-127>c?c=-127:128<c&&(c=128);b=Math.round(8388608*(b/Math.pow(2,c)-1))&8388607;return(0>a?-2147483648:0)|c+127<<23|b};La.i64ToDouble=function(a,b){var c=(b>>20&2047)-1023,e=4294967296*(b&1048575)+2147483648*(a>>>31)+(a&2147483647);return 0==e&&-1023==c?0:(1-(b>>>31<<1))*(1+Math.pow(2,-52)*e)*Math.pow(2,c)};La.doubleToI64=function(a){var b=La.i64tmp;if(0==a)b.low=0,b.high=0;else{var c;c=0>a?-a:a;var e=Math.floor(Math.log(c)/0.6931471805599453);c=4503599627370496*(c/Math.pow(2,e)-1);c=Math.round(c);b.low=c|0;b.high=(0>a?-2147483648:0)|e+1023<<20|c/4294967296|0}return b};var fd=function(){};f["haxe.rtti.Meta"]=fd;fd.__name__=["haxe","rtti","Meta"];fd.getType=function(a){a=fd.getMeta(a);return null==a||null==a.obj?{}:a.obj};fd.getMeta=function(a){return a.__meta__};var ne=function(a){this.__x=a};f["haxe.xml._Fast.NodeAccess"]=ne;ne.__name__=["haxe","xml","_Fast","NodeAccess"];ne.prototype={resolve:function(a){var b=this.__x.elementsNamed(a).next();if(null==b)throw b=this.__x.nodeType==q.Document?"Document":this.__x.get_nodeName(),new o(b+" is missing element "+a);return new cc(b)},__class__:ne};var oe=function(a){this.__x=a};f["haxe.xml._Fast.AttribAccess"]=oe;oe.__name__=["haxe","xml","_Fast","AttribAccess"];oe.prototype={resolve:function(a){if(this.__x.nodeType==q.Document)throw new o("Cannot access document attribute "+
a);var b=this.__x.get(a);if(null==b)throw new o(this.__x.get_nodeName()+" is missing attribute "+a);return b},__class__:oe};var pe=function(a){this.__x=a};f["haxe.xml._Fast.HasAttribAccess"]=pe;pe.__name__=["haxe","xml","_Fast","HasAttribAccess"];pe.prototype={__class__:pe};var qe=function(a){this.__x=a};f["haxe.xml._Fast.HasNodeAccess"]=qe;qe.__name__=["haxe","xml","_Fast","HasNodeAccess"];qe.prototype={__class__:qe};var re=function(a){this.__x=a};f["haxe.xml._Fast.NodeListAccess"]=re;re.__name__=["haxe","xml","_Fast","NodeListAccess"];re.prototype={resolve:function(a){for(var b=new ub,a=this.__x.elementsNamed(a);a.hasNext();){var c=a.next();b.add(new cc(c))}return b},__class__:re};var cc=function(a){if(a.nodeType!=q.Document&&a.nodeType!=q.Element)throw new o("Invalid nodeType "+a.nodeType);this.x=a;this.node=new ne(a);this.nodes=new re(a);this.att=new oe(a);this.has=new pe(a);this.hasNode=new qe(a)};f["haxe.xml.Fast"]=cc;cc.__name__=["haxe","xml","Fast"];cc.prototype={get_name:function(){return this.x.nodeType==q.Document?"Document":this.x.get_nodeName()},get_innerData:function(){var a=this.x.iterator();if(!a.hasNext())throw new o(this.get_name()+" does not have data");var b=a.next(),c=a.next();if(null!=c){if(b.nodeType==q.PCData&&c.nodeType==q.CData&&""==M.trim(function(){if(b.nodeType==q.Document||b.nodeType==q.Element)throw new o("Bad node type, unexpected "+b.nodeType);return b.nodeValue}(this))){var e=a.next();if(null==e||e.nodeType==q.PCData&&""==M.trim(function(){if(e.nodeType==q.Document||e.nodeType==q.Element)throw new o("Bad node type, unexpected "+e.nodeType);return e.nodeValue}(this))&&null==a.next()){if(c.nodeType==q.Document||c.nodeType==q.Element)throw new o("Bad node type, unexpected "+c.nodeType);return c.nodeValue}}throw new o(this.get_name()+" does not only have data");}if(b.nodeType!=q.PCData&&b.nodeType!=q.CData)throw new o(this.get_name()+" does not have data");if(b.nodeType==q.Document||b.nodeType==q.Element)throw new o("Bad node type, unexpected "+b.nodeType);return b.nodeValue},__class__:cc};var jb=function(){};f["haxe.xml.Parser"]=jb;jb.__name__=["haxe","xml","Parser"];jb.parse=function(a,b){null==b&&(b=!1);var c=q.createDocument();jb.doParse(a,b,0,c);return c};jb.doParse=function(a,b,c,e){null==c&&(c=0);for(var d=null,f=1,g=1,i=null,h=0,k=0,m=0,j=a.charCodeAt(c),l=new Ba,n=1,p=-1;j==j;){switch(f){case 0:switch(j){case 10:case 13:case 9:case 32:break;default:f=g;continue}break;case 1:switch(j){case 60:f=0;g=2;break;default:h=c;f=13;continue}break;case 13:60==j?(l.addSub(a,h,c-h),g=q.createPCData(l.b),l=new Ba,e.addChild(g),k++,f=0,g=2):38==j&&(l.addSub(a,h,c-h),f=18,n=13,h=c+1);break;case 17:93==j&&93==a.charCodeAt(c+1)&&62==a.charCodeAt(c+2)&&(j=q.createCData(z.substr(a,h,c-h)),e.addChild(j),k++,c+=2,f=1);break;case 2:switch(j){case 33:if(91==a.charCodeAt(c+1)){c+=2;if("CDATA["!=z.substr(a,c,6).toUpperCase())throw new o("Expected <![CDATA[");c+=5;f=17}else if(68==a.charCodeAt(c+1)||100==a.charCodeAt(c+1)){if("OCTYPE"!=z.substr(a,c+2,6).toUpperCase())throw new o("Expected <!DOCTYPE");c+=8;f=16}else{if(45!=a.charCodeAt(c+1)||45!=a.charCodeAt(c+2))throw new o("Expected <\!--");c+=2;f=15}h=c+1;break;case 63:f=14;h=c;break;case 47:if(null==e)throw new o("Expected node name");h=c+1;f=0;g=10;break;default:f=3;h=c;continue}break;case 3:if(!(97<=j&&122>=j||65<=j&&90>=j||48<=j&&57>=j||58==j||46==j||95==j||45==j)){if(c==h)throw new o("Expected node name");d=q.createElement(z.substr(a,h,c-h));e.addChild(d);k++;f=0;g=4;continue}break;case 4:switch(j){case 47:f=11;break;case 62:f=9;break;default:f=5;h=c;continue}break;case 5:if(!(97<=j&&122>=j||65<=j&&90>=j||48<=j&&57>=j||58==j||46==j||95==j||45==j)){if(h==c)throw new o("Expected attribute name");i=z.substr(a,h,c-h);if(d.exists(i))throw new o("Duplicate attribute");f=0;g=6;continue}break;case 6:switch(j){case 61:f=0;g=7;break;default:throw new o("Expected =");}break;case 7:switch(j){case 34:case 39:l=new Ba;f=8;h=c+1;p=j;break;default:throw new o('Expected "');}break;case 8:switch(j){case 38:l.addSub(a,h,c-h);f=18;n=8;h=c+1;break;case 62:if(b)throw new o("Invalid unescaped "+String.fromCharCode(j)+" in attribute value");j==p&&(l.addSub(a,h,c-h),g=l.b,l=new Ba,d.set(i,g),f=0,g=4);break;case 60:if(b)throw new o("Invalid unescaped "+String.fromCharCode(j)+" in attribute value");j==p&&(l.addSub(a,h,c-h),g=l.b,l=new Ba,d.set(i,g),f=0,g=4);break;default:j==p&&(l.addSub(a,h,c-h),g=l.b,l=new Ba,d.set(i,g),f=0,g=4)}break;case 9:h=c=jb.doParse(a,b,c,d);f=1;break;case 11:switch(j){case 62:f=1;break;default:throw new o("Expected >");}break;case 12:switch(j){case 62:return 0==k&&e.addChild(q.createPCData("")),c;default:throw new o("Expected >");}case 10:if(!(97<=j&&122>=j||65<=j&&90>=j||48<=j&&57>=j||58==j||46==j||95==j||45==j)){if(h==c)throw new o("Expected node name");g=z.substr(a,h,c-h);if(e.nodeType!=q.Element)throw new o("Bad node type, expected Element but found "+e.nodeType);if(g!=e.nodeName)throw new o("Expected </"+function(){if(e.nodeType!=q.Element)throw"Bad node type, expected Element but found "+e.nodeType;return e.nodeName}(this)+
">");f=0;g=12;continue}break;case 15:45==j&&45==a.charCodeAt(c+1)&&62==a.charCodeAt(c+2)&&(j=q.createComment(z.substr(a,h,c-h)),e.addChild(j),k++,c+=2,f=1);break;case 16:91==j?m++:93==j?m--:62==j&&0==m&&(j=q.createDocType(z.substr(a,h,c-h)),e.addChild(j),k++,f=1);break;case 14:63==j&&62==a.charCodeAt(c+1)&&(c++,j=z.substr(a,h+1,c-h-2),j=q.createProcessingInstruction(j),e.addChild(j),k++,f=1);break;case 18:if(59==j){h=z.substr(a,h,c-h);if(35==h.charCodeAt(0))h=120==h.charCodeAt(1)?v.parseInt("0"+z.substr(h,1,h.length-1)):v.parseInt(z.substr(h,1,h.length-1)),l.b+=String.fromCharCode(h);else if(jb.escapes.exists(h))l.add(jb.escapes.get(h));else{if(b)throw new o("Undefined entity: "+h);l.b+=v.string("&"+h+";")}h=c+1;f=n}else if(!(97<=j&&122>=j||65<=j&&90>=j||48<=j&&57>=j||58==j||46==j||95==j||45==j)&&35!=j){if(b)throw new o("Invalid character in entity: "+String.fromCharCode(j));l.b+="&";l.addSub(a,h,c-h);c--;h=c+1;f=n}}j=M.fastCodeAt(a,++c)}1==f&&(h=c,f=13);if(13==f){if(c!=h||0==k)l.addSub(a,h,c-h),a=q.createPCData(l.b),e.addChild(a),k++;return c}if(!b&&18==f&&13==n)return l.b+="&",l.addSub(a,h,c-h),a=q.createPCData(l.b),e.addChild(a),k++,c;throw new o("Unexpected end");};var o=function(a){Error.call(this);this.val=a;this.message=""+a;Error.captureStackTrace&&Error.captureStackTrace(this,o)};f["js._Boot.HaxeError"]=o;o.__name__=["js","_Boot","HaxeError"];o.__super__=Error;o.prototype=p(Error.prototype,{__class__:o});var S=function(){};f["js.Boot"]=S;S.__name__=["js","Boot"];S.getClass=function(a){if(a instanceof
Array&&null==a.__enum__)return Array;var b=a.__class__;if(null!=b)return b;a=S.__nativeClassName(a);return null!=a?S.__resolveNativeClass(a):null};S.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;if("function"==c&&(a.__name__||a.__ename__))c="object";switch(c){case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];for(var c=a[0]+"(",b=b+"\t",e=2,d=a.length;e<d;)var f=e++,c=2!=f?c+(","+S.__string_rec(a[f],b)):c+S.__string_rec(a[f],b);return c+")"}c=a.length;e="[";b+="\t";for(d=0;d<c;)f=d++,e+=(0<f?",":"")+S.__string_rec(a[f],b);return e+"]"}try{e=a.toString}catch(g){return g instanceof o&&(g=g.val),"???"}if(null!=e&&e!=Object.toString&&"function"==typeof e&&(c=a.toString(),"[object Object]"!=c))return c;c=null;e="{\n";b+="\t";d=null!=a.hasOwnProperty;for(c in a)if(!d||a.hasOwnProperty(c))"prototype"==c||"__class__"==c||"__super__"==c||"__interfaces__"==c||"__properties__"==c||(2!=e.length&&(e+=", \n"),e+=b+c+" : "+S.__string_rec(a[c],b));b=b.substring(1);return e+("\n"+b+"}");case "function":return"<function>";case "string":return a;default:return""+a}};S.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var e=0,d=c.length;e<d;){var f=e++,f=c[f];if(f==b||S.__interfLoop(f,b))return!0}return S.__interfLoop(a.__super__,b)};S.__instanceof=function(a,b){if(null==b)return!1;switch(b){case xg:return(a|0)===a;case tg:return"number"==typeof a;case ug:return"boolean"==typeof a;case String:return"string"==typeof a;case Array:return a instanceof Array&&null==a.__enum__;case yg:return!0;default:if(null!=a)if("function"==typeof b){if(a instanceof b||S.__interfLoop(S.getClass(a),b))return!0}else{if("object"==typeof b&&S.__isNativeObj(b)&&a instanceof b)return!0}else return!1;return b==rg&&null!=a.__name__||b==sg&&null!=a.__ename__?!0:a.__enum__==b}};S.__nativeClassName=function(a){a=S.__toStr.call(a).slice(8,-1);return"Object"==a||"Function"==a||"Math"==a||"JSON"==a?null:a};S.__isNativeObj=function(a){return null!=S.__nativeClassName(a)};S.__resolveNativeClass=function(a){return Function("return typeof "+a+' != "undefined" ? '+a+" : null")()};var $c=function(){};f["js.Browser"]=$c;$c.__name__=["js","Browser"];$c.getLocalStorage=function(){try{var a=window.localStorage;a.getItem("");return a}catch(b){return b instanceof o&&(b=b.val),null}};$c.createXMLHttpRequest=function(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)return new ActiveXObject("Microsoft.XMLHTTP");throw new o("Unable to create XMLHttpRequest object.");};var Ma=function(a){if(a instanceof Array&&null==a.__enum__)this.a=a,this.byteLength=a.length;else{this.a=[];for(var b=0;b<a;)this.a[b++]=0;this.byteLength=a}};f["js.html.compat.ArrayBuffer"]=Ma;Ma.__name__=["js","html","compat","ArrayBuffer"];Ma.sliceImpl=function(a,b){var c=new qg(this,a,null==b?null:b-a),e=new cf(c.byteLength);(new qg(e)).set(c);return e};Ma.prototype={slice:function(a,b){return new Ma(this.a.slice(a,b))},__class__:Ma};var se=function(a,b,c){this.buf=a;this.offset=null==b?0:b;this.length=null==c?a.byteLength-this.offset:c;if(0>this.offset||0>this.length||this.offset+this.length>a.byteLength)throw new o(Ea.OutsideBounds);};f["js.html.compat.DataView"]=se;se.__name__=["js","html","compat","DataView"];se.prototype={getInt8:function(a){a=this.buf.a[this.offset+a];return 128<=a?a-256:a},getUint8:function(a){return this.buf.a[this.offset+a]},getInt16:function(a,b){var c=this.getUint16(a,b);return 32768<=c?c-65536:c},getUint16:function(a,b){return b?this.buf.a[this.offset+a]|this.buf.a[this.offset+a+1]<<8:this.buf.a[this.offset+a]<<8|this.buf.a[this.offset+a+1]},getInt32:function(a,b){var c=this.offset+a,e=this.buf.a[c++],d=this.buf.a[c++],f=this.buf.a[c++],c=this.buf.a[c++];return b?e|d<<8|f<<16|c<<24:c|f<<8|d<<16|e<<24},getUint32:function(a,b){var c=this.getInt32(a,b);return 0>c?c+4294967296:c},getFloat32:function(a,b){return La.i32ToFloat(this.getInt32(a,b))},getFloat64:function(a,b){var c=this.getInt32(a,b),e=this.getInt32(a+
4,b);return La.i64ToDouble(b?c:e,b?e:c)},setInt8:function(a,b){this.buf.a[a+this.offset]=0>b?b+128&255:b&255},setUint8:function(a,b){this.buf.a[a+this.offset]=b&255},setInt16:function(a,b,c){this.setUint16(a,0>b?b+65536:b,c)},setUint16:function(a,b,c){a+=this.offset;c?(this.buf.a[a]=b&255,this.buf.a[a++]=b>>8&255):(this.buf.a[a++]=b>>8&255,this.buf.a[a]=b&255)},setInt32:function(a,b,c){this.setUint32(a,b,c)},setUint32:function(a,b,c){a+=this.offset;c?(this.buf.a[a++]=b&255,this.buf.a[a++]=b>>8&255,this.buf.a[a++]=b>>16&255,this.buf.a[a++]=b>>>24):(this.buf.a[a++]=b>>>24,this.buf.a[a++]=b>>16&255,this.buf.a[a++]=b>>8&255,this.buf.a[a++]=b&255)},setFloat32:function(a,b,c){this.setUint32(a,La.floatToI32(b),c)},setFloat64:function(a,b,c){b=La.doubleToI64(b);c?(this.setUint32(a,b.low),this.setUint32(a,b.high)):(this.setUint32(a,b.high),this.setUint32(a,b.low))},__class__:se};var pb=function(){};f["js.html.compat.Uint8Array"]=pb;pb.__name__=["js","html","compat","Uint8Array"];pb._new=function(a,b,c){if("number"==typeof a){c=[];for(b=0;b<a;){var e=b++;c[e]=0}c.byteLength=c.length;c.byteOffset=0;c.buffer=new Ma(c)}else if(S.__instanceof(a,Ma))null==b&&(b=0),null==c&&(c=a.byteLength-b),c=0==b?a.a:a.a.slice(b,b+c),c.byteLength=c.length,c.byteOffset=b,c.buffer=a;else if(a instanceof Array&&null==a.__enum__)c=a.slice(),c.byteLength=c.length,c.byteOffset=0,c.buffer=new Ma(c);else throw new o("TODO "+v.string(a));c.subarray=pb._subarray;c.set=pb._set;return c};pb._set=function(a,b){if(S.__instanceof(a.buffer,Ma)){if(a.byteLength+b>this.byteLength)throw new o("set() outside of range");for(var c=0,e=a.byteLength;c<e;){var d=c++;this[d+b]=a[d]}}else if(a instanceof Array&&null==a.__enum__){if(a.length+b>this.byteLength)throw new o("set() outside of range");c=0;for(e=a.length;c<e;)d=c++,this[d+b]=a[d]}else throw new o("TODO");};pb._subarray=function(a,b){var c=pb._new(this.slice(a,b));c.byteOffset=a;return c};var Na=function(){this.zpp_inner=null};f["nape.callbacks.Callback"]=Na;Na.__name__=["nape","callbacks","Callback"];Na.prototype={toString:function(){return""},__class__:Na};var te=function(){};f["nape.callbacks.BodyCallback"]=te;te.__name__=["nape","callbacks","BodyCallback"];te.__super__=Na;te.prototype=p(Na.prototype,{toString:function(){var a;a="Cb:"+["WAKE","SLEEP"][this.zpp_inner.event-2];a+=":"+this.zpp_inner.body.outer.toString();return a+=" : listener: "+v.string(this.zpp_inner.listener.outer)},__class__:te});var Oa=function(){this.zpp_inner=null};f["nape.callbacks.Listener"]=Oa;Oa.__name__=["nape","callbacks","Listener"];Oa.prototype={toString:function(){var a="BEGIN,END,WAKE,SLEEP,BREAK,PRE,ONGOING".split(",")[this.zpp_inner.event];if(0==this.zpp_inner.type)return"BodyListener{"+a+"::"+v.string(this.zpp_inner.body.outer_zn.zpp_inner_zn.options.outer)+"}";if(1==this.zpp_inner.type)return"ConstraintListener{"+a+"::"+v.string(this.zpp_inner.constraint.outer_zn.zpp_inner_zn.options.outer)+"}";var b=this.zpp_inner.interaction,c;switch(b.itype){case 1:c="COLLISION";break;case 2:c="SENSOR";break;case 4:c="FLUID";break;default:c="ALL"}return(2==this.zpp_inner.type?"InteractionListener{"+a+"#"+c+"::"+v.string(b.outer_zni.zpp_inner_zn.options1.outer)+":"+v.string(b.outer_zni.zpp_inner_zn.options2.outer)+"}":"PreListener{"+c+"::"+v.string(b.outer_znp.zpp_inner_zn.options1.outer)+":"+v.string(b.outer_znp.zpp_inner_zn.options2.outer)+"}")+" precedence="+this.zpp_inner.precedence},__class__:Oa};var ue=function(){this.zpp_inner_zn=null};f["nape.callbacks.BodyListener"]=ue;ue.__name__=["nape","callbacks","BodyListener"];ue.__super__=Oa;ue.prototype=p(Oa.prototype,{__class__:ue});var hb=function(){};f["nape.callbacks.CbEvent"]=hb;hb.__name__=["nape","callbacks","CbEvent"];hb.prototype={toString:function(){var a;null==g.CbEvent_PRE&&(g.internal=!0,g.CbEvent_PRE=new hb,g.internal=!1);this==g.CbEvent_PRE?a="PRE":(null==g.CbEvent_BEGIN&&(g.internal=!0,g.CbEvent_BEGIN=new hb,g.internal=!1),this==g.CbEvent_BEGIN?a="BEGIN":(null==g.CbEvent_ONGOING&&(g.internal=!0,g.CbEvent_ONGOING=new hb,g.internal=!1),this==g.CbEvent_ONGOING?a="ONGOING":(null==g.CbEvent_END&&(g.internal=!0,g.CbEvent_END=new hb,g.internal=!1),this==g.CbEvent_END?a="END":(null==g.CbEvent_WAKE&&(g.internal=!0,g.CbEvent_WAKE=new hb,g.internal=!1),this==g.CbEvent_WAKE?a="WAKE":(null==g.CbEvent_SLEEP&&(g.internal=!0,g.CbEvent_SLEEP=new hb,g.internal=!1),this==g.CbEvent_SLEEP?a="SLEEP":(null==g.CbEvent_BREAK&&(g.internal=!0,g.CbEvent_BREAK=new hb,g.internal=!1),a=this==g.CbEvent_BREAK?"BREAK":""))))));return a},__class__:hb};var Xb=function(){this.zpp_inner=null;this.zpp_inner=new Fa;this.zpp_inner.outer=this};f["nape.callbacks.CbType"]=Xb;Xb.__name__=["nape","callbacks","CbType"];Xb.prototype={toString:function(){return this==Fa.ANY_BODY?"ANY_BODY":this==Fa.ANY_SHAPE?"ANY_SHAPE":this==Fa.ANY_COMPOUND?"ANY_COMPOUND":this==Fa.ANY_CONSTRAINT?"ANY_CONSTRAINT":"CbType#"+this.zpp_inner.id},__class__:Xb};var Pa=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};f["nape.callbacks.CbTypeIterator"]=Pa;Pa.__name__=["nape","callbacks","CbTypeIterator"];Pa.get=function(a){var b;null==Pa.zpp_pool?(ib.internal=!0,b=new Pa,ib.internal=!1):(b=Pa.zpp_pool,Pa.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};Pa.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=Pa.zpp_pool;Pa.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:Pa};var ve=function(){this.zpp_inner=null;this.zpp_inner=new ib;this.zpp_inner.outer=this};f["nape.callbacks.CbTypeList"]=ve;ve.__name__=["nape","callbacks","CbTypeList"];ve.prototype={get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},at:function(a){this.zpp_inner.valmod();this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},toString:function(){var a="[",b=!0,c;this.zpp_inner.valmod();for(c=Pa.get(this);c.hasNext();){var e;c.zpp_critical=!1;e=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==e?a+"NULL":a+e.toString();b=!1}return a+"]"},__class__:ve};var we=function(){};f["nape.callbacks.ConstraintCallback"]=we;we.__name__=["nape","callbacks","ConstraintCallback"];we.__super__=Na;we.prototype=p(Na.prototype,{toString:function(){var a;a="Cb:"+["WAKE","SLEEP","BREAK"][this.zpp_inner.event-2];a+=":"+this.zpp_inner.constraint.outer.toString();return a+=" : listener: "+v.string(this.zpp_inner.listener.outer)},__class__:we});var xe=function(){this.zpp_inner_zn=null};f["nape.callbacks.ConstraintListener"]=xe;xe.__name__=["nape","callbacks","ConstraintListener"];xe.__super__=Oa;xe.prototype=p(Oa.prototype,{__class__:xe});var ye=function(){};f["nape.callbacks.InteractionCallback"]=ye;ye.__name__=["nape","callbacks","InteractionCallback"];ye.__super__=Na;ye.prototype=p(Na.prototype,{toString:function(){var a;a="Cb:"+"BEGIN,END,,,,,ONGOING".split(",")[this.zpp_inner.event];a+=":"+this.zpp_inner.int1.outer_i.toString()+"/"+this.zpp_inner.int2.outer_i.toString();a+=" : "+this.zpp_inner.wrap_arbiters.toString();return a+=" : listener: "+v.string(this.zpp_inner.listener.outer)},__class__:ye});var ze=function(){this.zpp_inner_zn=null};f["nape.callbacks.InteractionListener"]=ze;ze.__name__=["nape","callbacks","InteractionListener"];ze.__super__=Oa;ze.prototype=p(Oa.prototype,{__class__:ze});var Yb=function(){};f["nape.callbacks.InteractionType"]=Yb;Yb.__name__=["nape","callbacks","InteractionType"];Yb.prototype={toString:function(){var a;null==g.InteractionType_COLLISION&&(g.internal=!0,g.InteractionType_COLLISION=new Yb,g.internal=!1);this==g.InteractionType_COLLISION?a="COLLISION":(null==g.InteractionType_SENSOR&&(g.internal=!0,g.InteractionType_SENSOR=new Yb,g.internal=!1),this==g.InteractionType_SENSOR?a="SENSOR":(null==g.InteractionType_FLUID&&(g.internal=!0,g.InteractionType_FLUID=new Yb,g.internal=!1),this==g.InteractionType_FLUID?a="FLUID":(null==g.InteractionType_ANY&&(g.internal=!0,g.InteractionType_ANY=new Yb,g.internal=!1),a=this==g.InteractionType_ANY?"ANY":"")));return a},__class__:Yb};var Qa=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};f["nape.callbacks.ListenerIterator"]=Qa;Qa.__name__=["nape","callbacks","ListenerIterator"];Qa.get=function(a){var b;null==Qa.zpp_pool?(nc.internal=!0,b=new Qa,nc.internal=!1):(b=Qa.zpp_pool,Qa.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};Qa.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=Qa.zpp_pool;Qa.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:Qa};var df=function(){this.zpp_inner=null};f["nape.callbacks.ListenerList"]=df;df.__name__=["nape","callbacks","ListenerList"];df.prototype={get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},at:function(a){this.zpp_inner.valmod();this.zpp_inner.reverse_flag&&(a=this.get_length()-
1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},toString:function(){var a="[",b=!0,c;this.zpp_inner.valmod();for(c=Qa.get(this);c.hasNext();){var e;c.zpp_critical=!1;e=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==e?a+"NULL":a+e.toString();b=!1}return a+
"]"},__class__:df};var Zb=function(){};f["nape.callbacks.ListenerType"]=Zb;Zb.__name__=["nape","callbacks","ListenerType"];Zb.prototype={toString:function(){var a;null==g.ListenerType_BODY&&(g.internal=!0,g.ListenerType_BODY=new Zb,g.internal=!1);this==g.ListenerType_BODY?a="BODY":(null==g.ListenerType_CONSTRAINT&&(g.internal=!0,g.ListenerType_CONSTRAINT=new Zb,g.internal=!1),this==g.ListenerType_CONSTRAINT?a="CONSTRAINT":(null==g.ListenerType_INTERACTION&&(g.internal=!0,g.ListenerType_INTERACTION=new Zb,g.internal=!1),this==g.ListenerType_INTERACTION?a="INTERACTION":(null==g.ListenerType_PRE&&(g.internal=!0,g.ListenerType_PRE=new Zb,g.internal=!1),a=this==g.ListenerType_PRE?"PRE":"")));return a},__class__:Zb};var ef=function(){this.zpp_inner=null};f["nape.callbacks.OptionType"]=ef;ef.__name__=["nape","callbacks","OptionType"];ef.prototype={toString:function(){null==this.zpp_inner.wrap_includes&&this.zpp_inner.setup_includes();var a=this.zpp_inner.wrap_includes.toString();null==this.zpp_inner.wrap_excludes&&this.zpp_inner.setup_excludes();return"@{"+a+" excluding "+this.zpp_inner.wrap_excludes.toString()+"}"},__class__:ef};var Ae=function(){};f["nape.callbacks.PreCallback"]=Ae;Ae.__name__=["nape","callbacks","PreCallback"];Ae.__super__=Na;Ae.prototype=p(Na.prototype,{toString:function(){var a;a="Cb:PRE:"+(":"+this.zpp_inner.int1.outer_i.toString()+"/"+this.zpp_inner.int2.outer_i.toString());a+=" : "+this.zpp_inner.pre_arbiter.wrapper().toString();return a+=" : listnener: "+v.string(this.zpp_inner.listener.outer)},__class__:Ae});var Ra=function(){};f["nape.callbacks.PreFlag"]=Ra;Ra.__name__=["nape","callbacks","PreFlag"];Ra.prototype={toString:function(){var a;null==g.PreFlag_ACCEPT&&(g.internal=!0,g.PreFlag_ACCEPT=new Ra,g.internal=!1);this==g.PreFlag_ACCEPT?a="ACCEPT":(null==g.PreFlag_IGNORE&&(g.internal=!0,g.PreFlag_IGNORE=new Ra,g.internal=!1),this==g.PreFlag_IGNORE?a="IGNORE":(null==g.PreFlag_ACCEPT_ONCE&&(g.internal=!0,g.PreFlag_ACCEPT_ONCE=new Ra,g.internal=!1),this==g.PreFlag_ACCEPT_ONCE?a="ACCEPT_ONCE":(null==g.PreFlag_IGNORE_ONCE&&(g.internal=!0,g.PreFlag_IGNORE_ONCE=new Ra,g.internal=!1),a=this==g.PreFlag_IGNORE_ONCE?"IGNORE_ONCE":"")));return a},__class__:Ra};var Be=function(){this.zpp_inner_zn=null};f["nape.callbacks.PreListener"]=Be;Be.__name__=["nape","callbacks","PreListener"];Be.__super__=Oa;Be.prototype=p(Oa.prototype,{__class__:Be});var ff=function(){};f["nape.constraint.Constraint"]=ff;ff.__name__=["nape","constraint","Constraint"];ff.prototype={toString:function(){return"{Constraint}"},__class__:ff};var Sa=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};f["nape.constraint.ConstraintIterator"]=Sa;Sa.__name__=["nape","constraint","ConstraintIterator"];Sa.get=function(a){var b;null==Sa.zpp_pool?(oc.internal=!0,b=new Sa,oc.internal=!1):(b=Sa.zpp_pool,Sa.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};Sa.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=Sa.zpp_pool;Sa.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:Sa};var gf=function(){this.zpp_inner=null};f["nape.constraint.ConstraintList"]=gf;gf.__name__=["nape","constraint","ConstraintList"];gf.prototype={get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},at:function(a){this.zpp_inner.valmod();this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},toString:function(){var a="[",b=!0,c;this.zpp_inner.valmod();for(c=Sa.get(this);c.hasNext();){var e;c.zpp_critical=!1;e=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==e?a+"NULL":a+e.toString();b=!1}return a+"]"},__class__:gf};var Kb=function(){this.zpp_inner=null};f["nape.dynamics.Arbiter"]=Kb;Kb.__name__=["nape","dynamics","Arbiter"];Kb.prototype={get_state:function(){var a=this.zpp_inner.immState;if(5==a)return null==g.PreFlag_ACCEPT&&(g.internal=!0,g.PreFlag_ACCEPT=new Ra,g.internal=!1),g.PreFlag_ACCEPT;switch(a){case 1:return null==g.PreFlag_ACCEPT_ONCE&&(g.internal=!0,g.PreFlag_ACCEPT_ONCE=new Ra,g.internal=!1),g.PreFlag_ACCEPT_ONCE;default:if(6==a)return null==g.PreFlag_IGNORE&&(g.internal=!0,g.PreFlag_IGNORE=new Ra,g.internal=!1),g.PreFlag_IGNORE;null==g.PreFlag_IGNORE_ONCE&&(g.internal=!0,g.PreFlag_IGNORE_ONCE=new Ra,g.internal=!1);return g.PreFlag_IGNORE_ONCE}},toString:function(){var a;a=this.zpp_inner.type==ma.COL?"CollisionArbiter":this.zpp_inner.type==ma.FLUID?"FluidArbiter":"SensorArbiter";return this.zpp_inner.cleared?a+"(object-pooled)":a+"("+(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.ws2.outer:this.zpp_inner.ws1.outer).toString()+"|"+(this.zpp_inner.ws1.id>this.zpp_inner.ws2.id?this.zpp_inner.ws1.outer:this.zpp_inner.ws2.outer).toString()+")"+(this.zpp_inner.type==ma.COL?"["+["SD","DD"][this.zpp_inner.colarb.stat?0:1]+"]":"")+"<-"+this.get_state().toString()},__class__:Kb};var Ta=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};f["nape.dynamics.ArbiterIterator"]=Ta;Ta.__name__=["nape","dynamics","ArbiterIterator"];Ta.get=function(a){var b;null==Ta.zpp_pool?(pc.internal=!0,b=new Ta,pc.internal=!1):(b=Ta.zpp_pool,Ta.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};Ta.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.zpp_gl();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=Ta.zpp_pool;Ta.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:Ta};var hf=function(){this.zpp_inner=null};f["nape.dynamics.ArbiterList"]=hf;hf.__name__=["nape","dynamics","ArbiterList"];hf.prototype={zpp_gl:function(){this.zpp_inner.valmod();if(this.zpp_inner.zip_length){this.zpp_inner.zip_length=!1;this.zpp_inner.user_length=0;for(var a=this.zpp_inner.inner.head;null!=a;)a.elt.active&&this.zpp_inner.user_length++,a=a.next}return this.zpp_inner.user_length},zpp_vm:function(){this.zpp_inner.valmod()},at:function(a){this.zpp_vm();this.zpp_inner.reverse_flag&&(a=this.zpp_gl()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite){this.zpp_inner.at_index=0;for(this.zpp_inner.at_ite=this.zpp_inner.inner.head;!this.zpp_inner.at_ite.elt.active;)this.zpp_inner.at_ite=this.zpp_inner.at_ite.next}for(;this.zpp_inner.at_index!=a;){this.zpp_inner.at_index++;for(this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;!this.zpp_inner.at_ite.elt.active;)this.zpp_inner.at_ite=this.zpp_inner.at_ite.next}return this.zpp_inner.at_ite.elt.wrapper()},iterator:function(){this.zpp_vm();return Ta.get(this)},toString:function(){for(var a="[",b=!0,c=this.iterator();c.hasNext();){var e;c.zpp_critical=!1;e=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==e?a+"NULL":a+e.toString();b=!1}return a+"]"},__class__:hf};var qc=function(){};f["nape.dynamics.ArbiterType"]=qc;qc.__name__=["nape","dynamics","ArbiterType"];qc.prototype={toString:function(){var a;null==g.ArbiterType_COLLISION&&(g.internal=!0,g.ArbiterType_COLLISION=new qc,g.internal=!1);this==g.ArbiterType_COLLISION?a="COLLISION":(null==g.ArbiterType_SENSOR&&(g.internal=!0,g.ArbiterType_SENSOR=new qc,g.internal=!1),this==g.ArbiterType_SENSOR?a="SENSOR":(null==g.ArbiterType_FLUID&&(g.internal=!0,g.ArbiterType_FLUID=new qc,g.internal=!1),a=this==g.ArbiterType_FLUID?"FLUID":""));return a},__class__:qc};var xd=function(){this.zpp_inner=null};f["nape.dynamics.CollisionArbiter"]=xd;xd.__name__=["nape","dynamics","CollisionArbiter"];xd.__super__=Kb;xd.prototype=p(Kb.prototype,{__class__:xd});var Ce=function(){this.zpp_inner=null};f["nape.dynamics.Contact"]=Ce;Ce.__name__=["nape","dynamics","Contact"];Ce.prototype={toString:function(){return null==this.zpp_inner.arbiter||this.zpp_inner.arbiter.cleared?"{object-pooled}":"{Contact}"},__class__:Ce};var Ua=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};f["nape.dynamics.ContactIterator"]=Ua;Ua.__name__=["nape","dynamics","ContactIterator"];Ua.get=function(a){var b;null==Ua.zpp_pool?(rc.internal=!0,b=new Ua,rc.internal=!1):(b=Ua.zpp_pool,Ua.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};Ua.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=Ua.zpp_pool;Ua.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:Ua};var jf=function(){this.zpp_inner=null};f["nape.dynamics.ContactList"]=jf;jf.__name__=["nape","dynamics","ContactList"];jf.prototype={get_length:function(){this.zpp_inner.valmod();if(this.zpp_inner.zip_length){this.zpp_inner.zip_length=!1;this.zpp_inner.user_length=0;for(var a=this.zpp_inner.inner.next;null!=a;){var b=a;b.active&&b.arbiter.active&&this.zpp_inner.user_length++;a=a.next}}return this.zpp_inner.user_length},at:function(a){this.zpp_inner.valmod();this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite){this.zpp_inner.at_index=0;for(this.zpp_inner.at_ite=this.zpp_inner.inner.next;;){var b=this.zpp_inner.at_ite;if(b.active&&b.arbiter.active)break;this.zpp_inner.at_ite=this.zpp_inner.at_ite.next}}for(;this.zpp_inner.at_index!=a;){this.zpp_inner.at_index++;for(this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;;){b=this.zpp_inner.at_ite;if(b.active&&b.arbiter.active)break;this.zpp_inner.at_ite=this.zpp_inner.at_ite.next}}return this.zpp_inner.at_ite.wrapper()},toString:function(){var a="[",b=!0,c;this.zpp_inner.valmod();for(c=Ua.get(this);c.hasNext();){var e;c.zpp_critical=!1;e=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==e?a+"NULL":a+e.toString();b=!1}return a+"]"},__class__:jf};var yd=function(){this.zpp_inner=null};f["nape.dynamics.FluidArbiter"]=yd;yd.__name__=["nape","dynamics","FluidArbiter"];yd.__super__=Kb;yd.prototype=p(Kb.prototype,{__class__:yd});var kf=function(){};f["nape.dynamics.InteractionFilter"]=kf;kf.__name__=["nape","dynamics","InteractionFilter"];kf.prototype={__class__:kf};var lf=function(){this.zpp_inner=null};f["nape.dynamics.InteractionGroup"]=lf;lf.__name__=["nape","dynamics","InteractionGroup"];lf.prototype={toString:function(){var a="InteractionGroup";this.zpp_inner.ignore&&(a+=":ignore");return a},__class__:lf};var Va=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};f["nape.dynamics.InteractionGroupIterator"]=Va;Va.__name__=["nape","dynamics","InteractionGroupIterator"];Va.get=function(a){var b;null==Va.zpp_pool?(sc.internal=!0,b=new Va,sc.internal=!1):(b=Va.zpp_pool,Va.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};Va.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=Va.zpp_pool;Va.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:Va};var mf=function(){this.zpp_inner=null};f["nape.dynamics.InteractionGroupList"]=mf;mf.__name__=["nape","dynamics","InteractionGroupList"];mf.prototype={get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},at:function(a){this.zpp_inner.valmod();this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},toString:function(){var a="[",b=!0,c;this.zpp_inner.valmod();for(c=Va.get(this);c.hasNext();){var e;c.zpp_critical=!1;e=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==e?a+"NULL":a+e.toString();b=!1}return a+"]"},__class__:mf};var nf=function(){this.zpp_inner=null};f["nape.geom.AABB"]=nf;nf.__name__=["nape","geom","AABB"];nf.prototype={toString:function(){this.zpp_inner.validate();return this.zpp_inner.toString()},__class__:nf};var of=function(){this.zpp_inner=null};f["nape.geom.ConvexResult"]=of;of.__name__=["nape","geom","ConvexResult"];of.prototype={toString:function(){return"{ shape: "+v.string(this.zpp_inner.shape)+
" toi: "+this.zpp_inner.toiDistance+" }"},__class__:of};var Wa=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};f["nape.geom.ConvexResultIterator"]=Wa;Wa.__name__=["nape","geom","ConvexResultIterator"];Wa.get=function(a){var b;null==Wa.zpp_pool?(tc.internal=!0,b=new Wa,tc.internal=!1):(b=Wa.zpp_pool,Wa.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};Wa.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=Wa.zpp_pool;Wa.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:Wa};var pf=function(){this.zpp_inner=null};f["nape.geom.ConvexResultList"]=pf;pf.__name__=["nape","geom","ConvexResultList"];pf.prototype={get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},at:function(a){this.zpp_inner.valmod();this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt},toString:function(){var a="[",b=!0,c;this.zpp_inner.valmod();for(c=Wa.get(this);c.hasNext();){var e;c.zpp_critical=!1;e=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==e?a+"NULL":a+e.toString();b=!1}return a+"]"},__class__:pf};var qf=function(){this.zpp_inner=null};f["nape.geom.GeomPoly"]=qf;qf.__name__=["nape","geom","GeomPoly"];qf.prototype={toString:function(){var a="GeomPoly[",b=this.zpp_inner.vertices,c=this.zpp_inner.vertices;if(null!=b){do{var e=b;e!=this.zpp_inner.vertices&&(a+=",");a+="{"+e.x+","+e.y+"}";b=b.next}while(b!=c)}return a+"]"},__class__:qf};var Xa=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};f["nape.geom.GeomPolyIterator"]=Xa;Xa.__name__=["nape","geom","GeomPolyIterator"];Xa.get=function(a){var b;null==Xa.zpp_pool?(uc.internal=!0,b=new Xa,uc.internal=!1):(b=Xa.zpp_pool,Xa.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};Xa.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=Xa.zpp_pool;Xa.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:Xa};var rf=function(){this.zpp_inner=null};f["nape.geom.GeomPolyList"]=rf;rf.__name__=["nape","geom","GeomPolyList"];rf.prototype={get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},at:function(a){this.zpp_inner.valmod();this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},toString:function(){var a="[",b=!0,c;this.zpp_inner.valmod();for(c=Xa.get(this);c.hasNext();){var e;c.zpp_critical=!1;e=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==e?a+"NULL":a+e.toString();b=!1}return a+"]"},__class__:rf};var sf=function(){this.zpp_inner=null};f["nape.geom.Mat23"]=sf;sf.__name__=["nape","geom","Mat23"];sf.prototype={toString:function(){return"{ a: "+this.zpp_inner.a+" b: "+this.zpp_inner.b+" c: "+this.zpp_inner.c+" d: "+this.zpp_inner.d+" tx: "+this.zpp_inner.tx+" ty: "+this.zpp_inner.ty+" }"},__class__:sf};var tf=function(){this.zpp_inner=null};f["nape.geom.MatMN"]=tf;tf.__name__=["nape","geom","MatMN"];tf.prototype={toString:function(){for(var a="{ ",b=!0,c=0,e=this.zpp_inner.m;c<e;){var d=c++;b||(a+="; ");for(var b=!1,f=0,g=this.zpp_inner.n;f<g;)var h=f++,a=a+(this.zpp_inner.x[d*this.zpp_inner.n+h]+" ")}return a+"}"},__class__:tf};var uf=function(){this.zpp_inner=null};f["nape.geom.RayResult"]=uf;uf.__name__=["nape","geom","RayResult"];uf.prototype={toString:function(){return"{ shape: "+v.string(this.zpp_inner.shape)+" distance: "+this.zpp_inner.toiDistance+" ?inner: "+v.string(this.zpp_inner.inner)+" }"},__class__:uf};var Ya=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};f["nape.geom.RayResultIterator"]=Ya;Ya.__name__=["nape","geom","RayResultIterator"];Ya.get=function(a){var b;null==Ya.zpp_pool?(vc.internal=!0,b=new Ya,vc.internal=!1):(b=Ya.zpp_pool,Ya.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};Ya.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=Ya.zpp_pool;Ya.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:Ya};var vf=function(){this.zpp_inner=null};f["nape.geom.RayResultList"]=vf;vf.__name__=["nape","geom","RayResultList"];vf.prototype={get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},at:function(a){this.zpp_inner.valmod();this.zpp_inner.reverse_flag&&(a=this.get_length()-
1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt},toString:function(){var a="[",b=!0,c;this.zpp_inner.valmod();for(c=Ya.get(this);c.hasNext();){var e;c.zpp_critical=!1;e=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==e?a+"NULL":a+e.toString();b=!1}return a+"]"},__class__:vf};var De=function(a,b){null==b&&(b=0);null==a&&(a=0);this.zpp_inner=null;this.zpp_inner=Za.get(a,b,null);this.zpp_inner.outer=this};f["nape.geom.Vec2"]=De;De.__name__=["nape","geom","Vec2"];De.prototype={toString:function(){this.zpp_inner.validate();return this.zpp_inner.toString()},__class__:De};var $a=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};f["nape.geom.Vec2Iterator"]=$a;$a.__name__=["nape","geom","Vec2Iterator"];$a.get=function(a){var b;null==$a.zpp_pool?(wc.internal=!0,b=new $a,wc.internal=!1):(b=$a.zpp_pool,$a.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};$a.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.zpp_gl();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=$a.zpp_pool;$a.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:$a};var wf=function(){this.zpp_inner=null};f["nape.geom.Vec2List"]=wf;wf.__name__=["nape","geom","Vec2List"];wf.prototype={zpp_gl:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},zpp_vm:function(){this.zpp_inner.valmod()},at:function(a){this.zpp_vm();this.zpp_inner.reverse_flag&&(a=this.zpp_gl()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.wrapper()},iterator:function(){this.zpp_vm();return $a.get(this)},toString:function(){for(var a="[",b=!0,c=this.iterator();c.hasNext();){var e;c.zpp_critical=!1;e=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==e?a+"NULL":a+e.toString();b=!1}return a+"]"},__class__:wf};var xf=function(){this.zpp_inner=null};f["nape.geom.Vec3"]=xf;xf.__name__=["nape","geom","Vec3"];xf.prototype={toString:function(){this.zpp_inner.validate();var a="{ x: "+this.zpp_inner.x+" y: ";this.zpp_inner.validate();a=a+this.zpp_inner.y+" z: ";this.zpp_inner.validate();return a+this.zpp_inner.z+" }"},__class__:xf};var xc=function(){};f["nape.geom.Winding"]=xc;xc.__name__=["nape","geom","Winding"];xc.prototype={toString:function(){var a;null==g.Winding_UNDEFINED&&(g.internal=!0,g.Winding_UNDEFINED=new xc,g.internal=!1);this==g.Winding_UNDEFINED?a="UNDEFINED":(null==g.Winding_CLOCKWISE&&(g.internal=!0,g.Winding_CLOCKWISE=new xc,g.internal=!1),this==g.Winding_CLOCKWISE?a="CLOCKWISE":(null==g.Winding_ANTICLOCKWISE&&(g.internal=!0,g.Winding_ANTICLOCKWISE=new xc,g.internal=!1),a=this==g.Winding_ANTICLOCKWISE?"ANTICLOCKWISE":""));return a},__class__:xc};var qb=function(){this.zpp_inner_i=null};f["nape.phys.Interactor"]=qb;qb.__name__=["nape","phys","Interactor"];qb.prototype={toString:function(){return""},__class__:qb};var Ee=function(){this.zpp_inner=null};f["nape.phys.Body"]=Ee;Ee.__name__=["nape","phys","Body"];Ee.__super__=qb;Ee.prototype=p(qb.prototype,{toString:function(){return(this.zpp_inner.world?"(space::world":"("+(2==this.zpp_inner.type?"dynamic":1==this.zpp_inner.type?"static":"kinematic"))+")#"+this.zpp_inner_i.id},__class__:Ee});var ab=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};f["nape.phys.BodyIterator"]=ab;ab.__name__=["nape","phys","BodyIterator"];ab.get=function(a){var b;null==ab.zpp_pool?(yc.internal=!0,b=new ab,yc.internal=!1):(b=ab.zpp_pool,ab.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};ab.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=ab.zpp_pool;ab.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:ab};var yf=function(){this.zpp_inner=null};f["nape.phys.BodyList"]=yf;yf.__name__=["nape","phys","BodyList"];yf.prototype={get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},at:function(a){this.zpp_inner.valmod();this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},toString:function(){var a="[",b=!0,c;this.zpp_inner.valmod();for(c=ab.get(this);c.hasNext();){var e;c.zpp_critical=!1;e=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==e?a+"NULL":a+e.toString();b=!1}return a+"]"},__class__:yf};var zc=function(){};f["nape.phys.BodyType"]=zc;zc.__name__=["nape","phys","BodyType"];zc.prototype={toString:function(){var a;null==g.BodyType_STATIC&&(g.internal=!0,g.BodyType_STATIC=new zc,g.internal=!1);this==g.BodyType_STATIC?a="STATIC":(null==g.BodyType_DYNAMIC&&(g.internal=!0,g.BodyType_DYNAMIC=new zc,g.internal=!1),this==g.BodyType_DYNAMIC?a="DYNAMIC":(null==g.BodyType_KINEMATIC&&(g.internal=!0,g.BodyType_KINEMATIC=new zc,g.internal=!1),a=this==g.BodyType_KINEMATIC?"KINEMATIC":""));return a},__class__:zc};var Fe=function(){};f["nape.phys.Compound"]=Fe;Fe.__name__=["nape","phys","Compound"];Fe.__super__=qb;Fe.prototype=p(qb.prototype,{toString:function(){return"Compound"+this.zpp_inner_i.id},__class__:Fe});var bb=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};f["nape.phys.CompoundIterator"]=bb;bb.__name__=["nape","phys","CompoundIterator"];bb.get=function(a){var b;null==bb.zpp_pool?(Ac.internal=!0,b=new bb,Ac.internal=!1):(b=bb.zpp_pool,bb.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};bb.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=bb.zpp_pool;bb.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:bb};var zf=function(){this.zpp_inner=null};f["nape.phys.CompoundList"]=zf;zf.__name__=["nape","phys","CompoundList"];zf.prototype={get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},at:function(a){this.zpp_inner.valmod();this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},toString:function(){var a="[",b=!0,c;this.zpp_inner.valmod();for(c=bb.get(this);c.hasNext();){var e;c.zpp_critical=!1;e=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==e?a+"NULL":a+e.toString();b=!1}return a+"]"},__class__:zf};var Af=function(){this.zpp_inner=null};f["nape.phys.FluidProperties"]=Af;Af.__name__=["nape","phys","FluidProperties"];Af.prototype={toString:function(){return"{ density: "+1E3*this.zpp_inner.density+" viscosity: "+this.zpp_inner.viscosity+" gravity: "+v.string(this.zpp_inner.wrap_gravity)+" }"},__class__:Af};var Bc=function(){};f["nape.phys.GravMassMode"]=Bc;Bc.__name__=["nape","phys","GravMassMode"];Bc.prototype={toString:function(){var a;null==g.GravMassMode_DEFAULT&&(g.internal=!0,g.GravMassMode_DEFAULT=new Bc,g.internal=!1);this==g.GravMassMode_DEFAULT?a="DEFAULT":(null==g.GravMassMode_FIXED&&(g.internal=!0,g.GravMassMode_FIXED=new Bc,g.internal=!1),this==g.GravMassMode_FIXED?a="FIXED":(null==g.GravMassMode_SCALED&&(g.internal=!0,g.GravMassMode_SCALED=new Bc,g.internal=!1),a=this==g.GravMassMode_SCALED?"SCALED":""));return a},__class__:Bc};var zd=function(){};f["nape.phys.InertiaMode"]=zd;zd.__name__=["nape","phys","InertiaMode"];zd.prototype={toString:function(){var a;null==g.InertiaMode_DEFAULT&&(g.internal=!0,g.InertiaMode_DEFAULT=new zd,g.internal=!1);this==g.InertiaMode_DEFAULT?a="DEFAULT":(null==g.InertiaMode_FIXED&&(g.internal=!0,g.InertiaMode_FIXED=new zd,g.internal=!1),a=this==g.InertiaMode_FIXED?"FIXED":"");return a},__class__:zd};var cb=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};f["nape.phys.InteractorIterator"]=cb;cb.__name__=["nape","phys","InteractorIterator"];cb.get=function(a){var b;null==cb.zpp_pool?(Cc.internal=!0,b=new cb,Cc.internal=!1):(b=cb.zpp_pool,cb.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};cb.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=cb.zpp_pool;cb.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:cb};var Bf=function(){this.zpp_inner=null};f["nape.phys.InteractorList"]=Bf;Bf.__name__=["nape","phys","InteractorList"];Bf.prototype={get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},at:function(a){this.zpp_inner.valmod();this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer_i},toString:function(){var a="[",b=!0,c;this.zpp_inner.valmod();for(c=cb.get(this);c.hasNext();){var e;c.zpp_critical=!1;e=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==e?a+"NULL":a+e.toString();b=!1}return a+"]"},__class__:Bf};var Ad=function(){};f["nape.phys.MassMode"]=Ad;Ad.__name__=["nape","phys","MassMode"];Ad.prototype={toString:function(){var a;null==g.MassMode_DEFAULT&&(g.internal=!0,g.MassMode_DEFAULT=new Ad,g.internal=!1);this==g.MassMode_DEFAULT?a="DEFAULT":(null==g.MassMode_FIXED&&(g.internal=!0,g.MassMode_FIXED=new Ad,g.internal=!1),a=this==g.MassMode_FIXED?"FIXED":"");return a},__class__:Ad};var Cf=function(){this.zpp_inner=null};f["nape.phys.Material"]=Cf;Cf.__name__=["nape","phys","Material"];Cf.prototype={toString:function(){return"{ elasticity: "+this.zpp_inner.elasticity+" dynamicFriction: "+this.zpp_inner.dynamicFriction+" staticFriction: "+
this.zpp_inner.staticFriction+" density: "+1E3*this.zpp_inner.density+" rollingFriction: "+this.zpp_inner.rollingFriction+" }"},__class__:Cf};var Lb=function(){this.zpp_inner=null};f["nape.shape.Shape"]=Lb;Lb.__name__=["nape","shape","Shape"];Lb.__super__=qb;Lb.prototype=p(qb.prototype,{toString:function(){return(0==this.zpp_inner.type?"Circle":"Polygon")+"#"+this.zpp_inner_i.id},__class__:Lb});var Ge=function(){};f["nape.shape.Circle"]=Ge;Ge.__name__=["nape","shape","Circle"];Ge.__super__=Lb;Ge.prototype=p(Lb.prototype,{__class__:Ge});var He=function(){this.zpp_inner=null};f["nape.shape.Edge"]=He;He.__name__=["nape","shape","Edge"];He.prototype={toString:function(){if(null==this.zpp_inner.polygon)return"Edge(object-pooled)";if(null==this.zpp_inner.polygon.body)return this.zpp_inner.polygon.validate_laxi(),"{ localNormal : "+("{ x: "+this.zpp_inner.lnormx+" y: "+this.zpp_inner.lnormy+" }")+" }";this.zpp_inner.polygon.validate_gaxi();return"{ localNormal : "+("{ x: "+this.zpp_inner.lnormx+" y: "+this.zpp_inner.lnormy+
" }")+" worldNormal : "+("{ x: "+this.zpp_inner.gnormx+" y: "+this.zpp_inner.gnormy+" }")+" }"},__class__:He};var db=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};f["nape.shape.EdgeIterator"]=db;db.__name__=["nape","shape","EdgeIterator"];db.get=function(a){var b;null==db.zpp_pool?(Dc.internal=!0,b=new db,Dc.internal=!1):(b=db.zpp_pool,db.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};db.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=db.zpp_pool;db.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:db};var Df=function(){this.zpp_inner=null};f["nape.shape.EdgeList"]=Df;Df.__name__=["nape","shape","EdgeList"];Df.prototype={get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},at:function(a){this.zpp_inner.valmod();this.zpp_inner.reverse_flag&&a!=this.get_length()-1&&(a=this.get_length()-2-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.wrapper()},toString:function(){var a="[",b=!0,c;this.zpp_inner.valmod();for(c=db.get(this);c.hasNext();){var e;c.zpp_critical=!1;e=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==e?a+"NULL":a+e.toString();b=!1}return a+"]"},__class__:Df};var Ie=function(){};f["nape.shape.Polygon"]=Ie;Ie.__name__=["nape","shape","Polygon"];Ie.__super__=Lb;Ie.prototype=p(Lb.prototype,{__class__:Ie});var eb=function(){this.zpp_next=null;this.zpp_critical=!1;this.zpp_i=0;this.zpp_inner=null};f["nape.shape.ShapeIterator"]=eb;eb.__name__=["nape","shape","ShapeIterator"];eb.get=function(a){var b;null==eb.zpp_pool?(Ec.internal=!0,b=new eb,Ec.internal=!1):(b=eb.zpp_pool,eb.zpp_pool=b.zpp_next);b.zpp_i=0;b.zpp_inner=a;b.zpp_critical=!1;return b};eb.prototype={hasNext:function(){this.zpp_inner.zpp_inner.valmod();var a=this.zpp_inner.get_length();this.zpp_critical=!0;if(this.zpp_i<a)return!0;this.zpp_next=eb.zpp_pool;eb.zpp_pool=this;this.zpp_inner=null;return!1},next:function(){this.zpp_critical=!1;return this.zpp_inner.at(this.zpp_i++)},__class__:eb};var Ef=function(){this.zpp_inner=null};f["nape.shape.ShapeList"]=Ef;Ef.__name__=["nape","shape","ShapeList"];Ef.prototype={get_length:function(){this.zpp_inner.valmod();this.zpp_inner.zip_length&&(this.zpp_inner.zip_length=!1,this.zpp_inner.user_length=this.zpp_inner.inner.length);return this.zpp_inner.user_length},at:function(a){this.zpp_inner.valmod();this.zpp_inner.reverse_flag&&(a=this.get_length()-1-a);if(a<this.zpp_inner.at_index||null==this.zpp_inner.at_ite)this.zpp_inner.at_index=a,this.zpp_inner.at_ite=this.zpp_inner.inner.iterator_at(a);else for(;this.zpp_inner.at_index!=a;)this.zpp_inner.at_index++,this.zpp_inner.at_ite=this.zpp_inner.at_ite.next;return this.zpp_inner.at_ite.elt.outer},toString:function(){var a="[",b=!0,c;this.zpp_inner.valmod();for(c=eb.get(this);c.hasNext();){var e;c.zpp_critical=!1;e=c.zpp_inner.at(c.zpp_i++);b||(a+=",");a=null==e?a+"NULL":a+e.toString();b=!1}return a+"]"},__class__:Ef};var Bd=function(){};f["nape.shape.ShapeType"]=Bd;Bd.__name__=["nape","shape","ShapeType"];Bd.prototype={toString:function(){var a;null==g.ShapeType_CIRCLE&&(g.internal=!0,g.ShapeType_CIRCLE=new Bd,g.internal=!1);this==g.ShapeType_CIRCLE?a="CIRCLE":(null==g.ShapeType_POLYGON&&(g.internal=!0,g.ShapeType_POLYGON=new Bd,g.internal=!1),a=this==g.ShapeType_POLYGON?"POLYGON":"");return a},__class__:Bd};var $b=function(){};f["nape.shape.ValidationResult"]=$b;$b.__name__=["nape","shape","ValidationResult"];$b.prototype={toString:function(){var a;null==g.ValidationResult_VALID&&(g.internal=!0,g.ValidationResult_VALID=new $b,g.internal=!1);this==g.ValidationResult_VALID?a="VALID":(null==g.ValidationResult_DEGENERATE&&(g.internal=!0,g.ValidationResult_DEGENERATE=new $b,g.internal=!1),this==g.ValidationResult_DEGENERATE?a="DEGENERATE":(null==g.ValidationResult_CONCAVE&&(g.internal=!0,g.ValidationResult_CONCAVE=new $b,g.internal=!1),this==g.ValidationResult_CONCAVE?a="CONCAVE":(null==g.ValidationResult_SELF_INTERSECTING&&(g.internal=!0,g.ValidationResult_SELF_INTERSECTING=new $b,g.internal=!1),a=this==g.ValidationResult_SELF_INTERSECTING?"SELF_INTERSECTING":"")));return a},__class__:$b};var Cd=function(){};f["nape.space.Broadphase"]=Cd;Cd.__name__=["nape","space","Broadphase"];Cd.prototype={toString:function(){var a;null==g.Broadphase_DYNAMIC_AABB_TREE&&(g.internal=!0,g.Broadphase_DYNAMIC_AABB_TREE=new Cd,g.internal=!1);this==g.Broadphase_DYNAMIC_AABB_TREE?a="DYNAMIC_AABB_TREE":(null==g.Broadphase_SWEEP_AND_PRUNE&&(g.internal=!0,g.Broadphase_SWEEP_AND_PRUNE=new Cd,g.internal=!1),a=this==g.Broadphase_SWEEP_AND_PRUNE?"SWEEP_AND_PRUNE":"");return a},__class__:Cd};var Ff=function(){};f["nape.space.Space"]=Ff;Ff.__name__=["nape","space","Space"];Ff.prototype={__class__:Ff};var Dd=function(){};f["zpp_nape.ZPP_ID"]=Dd;Dd.__name__=["zpp_nape","ZPP_ID"];Dd.CbType=function(){return Dd._CbType++};var Gf=function(){this.listener=this.int1=this.int2=this.wrap_arbiters=this.pre_arbiter=this.body=this.constraint=null;this.event=0};f["zpp_nape.callbacks.ZPP_Callback"]=Gf;Gf.__name__=["zpp_nape","callbacks","ZPP_Callback"];Gf.prototype={__class__:Gf};var Je=function(){};f["zpp_nape.util.ZNPList_ZPP_InteractionListener"]=Je;Je.__name__=["zpp_nape","util","ZNPList_ZPP_InteractionListener"];Je.prototype={__class__:Je};var Ke=function(){};f["zpp_nape.util.ZNPList_ZPP_BodyListener"]=Ke;Ke.__name__=["zpp_nape","util","ZNPList_ZPP_BodyListener"];Ke.prototype={__class__:Ke};var Le=function(){};f["zpp_nape.util.ZNPList_ZPP_ConstraintListener"]=Le;Le.__name__=["zpp_nape","util","ZNPList_ZPP_ConstraintListener"];Le.prototype={__class__:Le};var Me=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};f["zpp_nape.util.ZNPList_ZPP_Constraint"]=Me;Me.__name__=["zpp_nape","util","ZNPList_ZPP_Constraint"];Me.prototype={iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},__class__:Me};var Ne=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};f["zpp_nape.util.ZNPList_ZPP_Interactor"]=Ne;Ne.__name__=["zpp_nape","util","ZNPList_ZPP_Interactor"];Ne.prototype={iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},__class__:Ne};var Oe=function(){};f["zpp_nape.util.ZNPList_ZPP_CbSet"]=Oe;Oe.__name__=["zpp_nape","util","ZNPList_ZPP_CbSet"];Oe.prototype={__class__:Oe};var Fa=function(){this.cbsets=this.listeners=this.bodylisteners=this.conlisteners=null;this.id=0;this.outer=null;this.id=Dd.CbType();this.listeners=new Je;this.bodylisteners=new Ke;this.conlisteners=new Le;this.constraints=new Me;this.interactors=new Ne;this.cbsets=new Oe};f["zpp_nape.callbacks.ZPP_CbType"]=Fa;Fa.__name__=["zpp_nape","callbacks","ZPP_CbType"];Fa.prototype={__class__:Fa};var g=function(){};f["zpp_nape.util.ZPP_Flags"]=g;g.__name__=["zpp_nape","util","ZPP_Flags"];var rb=function(){this.body=this.constraint=this.interaction=null;this.type=this.event=this.precedence=0;this.outer=null};f["zpp_nape.callbacks.ZPP_Listener"]=rb;rb.__name__=["zpp_nape","callbacks","ZPP_Listener"];rb.prototype={__class__:rb};var Pe=function(){this.outer_zn=this.options=null};f["zpp_nape.callbacks.ZPP_BodyListener"]=Pe;Pe.__name__=["zpp_nape","callbacks","ZPP_BodyListener"];Pe.__super__=rb;Pe.prototype=p(rb.prototype,{__class__:Pe});var Qe=function(){this.outer_zn=this.options=null};f["zpp_nape.callbacks.ZPP_ConstraintListener"]=Qe;Qe.__name__=["zpp_nape","callbacks","ZPP_ConstraintListener"];Qe.__super__=rb;Qe.prototype=p(rb.prototype,{__class__:Qe});var Re=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};f["zpp_nape.util.ZNPList_ZPP_CbType"]=Re;Re.__name__=["zpp_nape","util","ZNPList_ZPP_CbType"];Re.prototype={iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},__class__:Re};var Se=function(){this.options1=this.options2=null;this.itype=0;this.outer_zni=this.outer_znp=null};f["zpp_nape.callbacks.ZPP_InteractionListener"]=Se;Se.__name__=["zpp_nape","callbacks","ZPP_InteractionListener"];Se.__super__=rb;Se.prototype=p(rb.prototype,{__class__:Se});var Hf=function(){this.outer=this.includes=this.excludes=this.wrap_includes=this.wrap_excludes=null};f["zpp_nape.callbacks.ZPP_OptionType"]=Hf;Hf.__name__=["zpp_nape","callbacks","ZPP_OptionType"];Hf.prototype={setup_includes:function(){this.wrap_includes=ib.get(this.includes,!0)},setup_excludes:function(){this.wrap_excludes=ib.get(this.excludes,!0)},__class__:Hf};var If=function(){this.outer=null};f["zpp_nape.constraint.ZPP_Constraint"]=If;If.__name__=["zpp_nape","constraint","ZPP_Constraint"];If.prototype={__class__:If};var ma=function(){this.colarb=this.fluidarb=null;this.type=0;this.ws1=this.ws2=null;this.immState=0;this.active=this.cleared=!1;this.outer=null};f["zpp_nape.dynamics.ZPP_Arbiter"]=ma;ma.__name__=["zpp_nape","dynamics","ZPP_Arbiter"];ma.prototype={wrapper:function(){null==this.outer&&(ma.internal=!0,this.type==ma.COL?(this.colarb.outer_zn=new xd,this.outer=this.colarb.outer_zn):this.type==ma.FLUID?(this.fluidarb.outer_zn=new yd,this.outer=this.fluidarb.outer_zn):this.outer=new Kb,this.outer.zpp_inner=this,ma.internal=!1);return this.outer},__class__:ma};var Te=function(){this.outer_zn=null};f["zpp_nape.dynamics.ZPP_FluidArbiter"]=Te;Te.__name__=["zpp_nape","dynamics","ZPP_FluidArbiter"];Te.__super__=ma;Te.prototype=p(ma.prototype,{__class__:Te});var Ue=function(){this.stat=!1;this.outer_zn=null};f["zpp_nape.dynamics.ZPP_ColArbiter"]=Ue;Ue.__name__=["zpp_nape","dynamics","ZPP_ColArbiter"];Ue.__super__=ma;Ue.prototype=p(ma.prototype,{__class__:Ue});var Fc=function(){this.modified=this.pushmod=!1;this.next=null;this.active=!1;this.outer=this.arbiter=null};f["zpp_nape.dynamics.ZPP_Contact"]=Fc;Fc.__name__=["zpp_nape","dynamics","ZPP_Contact"];Fc.prototype={wrapper:function(){null==this.outer&&(Fc.internal=!0,this.outer=new Ce,Fc.internal=!1,this.outer.zpp_inner=this);return this.outer},__class__:Fc};var Jf=function(){this.ignore=!1;this.outer=null};f["zpp_nape.dynamics.ZPP_InteractionGroup"]=Jf;Jf.__name__=["zpp_nape","dynamics","ZPP_InteractionGroup"];Jf.prototype={__class__:Jf};var Kf=function(){this.minx=this.miny=this.maxx=this.maxy=0;this._validate=null};f["zpp_nape.geom.ZPP_AABB"]=Kf;Kf.__name__=["zpp_nape","geom","ZPP_AABB"];Kf.prototype={validate:function(){null!=this._validate&&this._validate()},toString:function(){return"{ x: "+
this.minx+" y: "+this.miny+" w: "+(this.maxx-this.minx)+" h: "+(this.maxy-this.miny)+" }"},__class__:Kf};var Lf=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};f["zpp_nape.util.ZNPList_ZPP_Vec2"]=Lf;Lf.__name__=["zpp_nape","util","ZNPList_ZPP_Vec2"];Lf.prototype={iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},__class__:Lf};var Mf=function(){this.toiDistance=0;this.inner=!1;this.shape=null};f["zpp_nape.geom.ZPP_ConvexRayResult"]=Mf;Mf.__name__=["zpp_nape","geom","ZPP_ConvexRayResult"];Mf.prototype={__class__:Mf};var Nf=function(){this.next=null;this.x=this.y=0};f["zpp_nape.geom.ZPP_GeomVert"]=Nf;Nf.__name__=["zpp_nape","geom","ZPP_GeomVert"];Nf.prototype={__class__:Nf};var Of=function(){this.outer=this.vertices=null};f["zpp_nape.geom.ZPP_GeomPoly"]=Of;Of.__name__=["zpp_nape","geom","ZPP_GeomPoly"];Of.prototype={__class__:Of};var Pf=function(){this.a=this.b=this.c=this.d=this.tx=this.ty=0};f["zpp_nape.geom.ZPP_Mat23"]=Pf;Pf.__name__=["zpp_nape","geom","ZPP_Mat23"];Pf.prototype={__class__:Pf};var Qf=function(){this.x=null;this.m=this.n=0};f["zpp_nape.geom.ZPP_MatMN"]=Qf;Qf.__name__=["zpp_nape","geom","ZPP_MatMN"];Qf.prototype={__class__:Qf};var Za=function(){this.length=this.x=this.y=0;this.modified=this.pushmod=!1;this.next=null;this.weak=!1;this._isimmutable=this.outer=null;this._immutable=!1;this._invalidate=this._validate=null};f["zpp_nape.geom.ZPP_Vec2"]=Za;Za.__name__=["zpp_nape","geom","ZPP_Vec2"];Za.get=function(a,b,c){null==c&&(c=!1);var e;null==Za.zpp_pool?e=new Za:(e=Za.zpp_pool,Za.zpp_pool=e.next,e.next=null);e.weak=!1;e._immutable=c;e.x=a;e.y=b;return e};Za.prototype={validate:function(){null!=this._validate&&this._validate()},wrapper:function(){if(null==this.outer){this.outer=new De;var a=this.outer.zpp_inner;null!=a.outer&&(a.outer.zpp_inner=null,a.outer=null);a._isimmutable=null;a._validate=null;a._invalidate=null;a.next=Za.zpp_pool;Za.zpp_pool=a;this.outer.zpp_inner=this}return this.outer},reverse:function(){for(var a=this.next,b=null;null!=a;){var c=a.next;a.next=b;b=this.next=a;a=c}this.pushmod=this.modified=!0},toString:function(){return"{ x: "+this.x+" y: "+this.y+" }"},__class__:Za};var Rf=function(){this._validate=null;this.x=this.y=this.z=0};f["zpp_nape.geom.ZPP_Vec3"]=Rf;Rf.__name__=["zpp_nape","geom","ZPP_Vec3"];Rf.prototype={validate:function(){null!=this._validate&&this._validate()},__class__:Rf};var sb=function(){this.id=0;this.outer_i=null};f["zpp_nape.phys.ZPP_Interactor"]=sb;sb.__name__=["zpp_nape","phys","ZPP_Interactor"];sb.prototype={__class__:sb};var Ve=function(){this.zip_axis=!1;this.type=this.posx=this.posy=this.rot=this.axisx=this.axisy=0;this.world=!1;this.outer=null};f["zpp_nape.phys.ZPP_Body"]=Ve;Ve.__name__=["zpp_nape","phys","ZPP_Body"];Ve.__super__=sb;Ve.prototype=p(sb.prototype,{validate_axis:function(){this.zip_axis&&(this.zip_axis=!1,this.axisx=Math.sin(this.rot),this.axisy=Math.cos(this.rot),null)},__class__:Ve});var We=function(){this.outer=null};f["zpp_nape.phys.ZPP_Compound"]=We;We.__name__=["zpp_nape","phys","ZPP_Compound"];We.__super__=sb;We.prototype=p(sb.prototype,{__class__:We});var Sf=function(){this.wrap_gravity=null;this.viscosity=this.density=0};f["zpp_nape.phys.ZPP_FluidProperties"]=Sf;Sf.__name__=["zpp_nape","phys","ZPP_FluidProperties"];Sf.prototype={__class__:Sf};var Tf=function(){this.dynamicFriction=this.staticFriction=this.density=this.elasticity=this.rollingFriction=0};f["zpp_nape.phys.ZPP_Material"]=Tf;Tf.__name__=["zpp_nape","phys","ZPP_Material"];Tf.prototype={__class__:Tf};var Mb=function(){this.circle=this.polygon=null;this.inertia=this.localCOMx=this.localCOMy=0;this.zip_area_inertia=!1;this.type=this.area=0;this.outer=this.body=null};f["zpp_nape.shape.ZPP_Shape"]=Mb;Mb.__name__=["zpp_nape","shape","ZPP_Shape"];Mb.__super__=sb;Mb.prototype=p(sb.prototype,{validate_area_inertia:function(){this.zip_area_inertia&&(this.zip_area_inertia=!1,0==this.type?this.circle.__validate_area_inertia():this.polygon.__validate_area_inertia())},__class__:Mb});var Xe=function(){this.radius=0};f["zpp_nape.shape.ZPP_Circle"]=Xe;Xe.__name__=["zpp_nape","shape","ZPP_Circle"];Xe.__super__=Mb;Xe.prototype=p(Mb.prototype,{__validate_area_inertia:function(){var a=this.radius*this.radius;this.area=a*Math.PI;this.inertia=0.5*a+(this.localCOMx*this.localCOMx+this.localCOMy*this.localCOMy)},__class__:Xe});var Gc=function(){this.tp0=this.tp1=0;this.lp0=this.gp0=this.lp1=this.gp1=null;this.length=this.lprojection=this.gprojection=0;this.wrap_gnorm=null;this.gnormx=this.gnormy=0;this.wrap_lnorm=null;this.lnormx=this.lnormy=0;this.polygon=this.outer=null};f["zpp_nape.shape.ZPP_Edge"]=Gc;Gc.__name__=["zpp_nape","shape","ZPP_Edge"];Gc.prototype={wrapper:function(){null==this.outer&&(Gc.internal=!0,this.outer=new He,Gc.internal=!1,this.outer.zpp_inner=this);return this.outer},__class__:Gc};var Ye=function(){this.reverse_flag=this.zip_lverts=this.zip_laxi=this.zip_gverts=this.zip_gaxi=!1;this.edgeCnt=0;this.lverts=this.wrap_lverts=this.gverts=this.wrap_gverts=this.edges=this.wrap_edges=null};f["zpp_nape.shape.ZPP_Polygon"]=Ye;Ye.__name__=["zpp_nape","shape","ZPP_Polygon"];Ye.__super__=Mb;Ye.prototype=p(Mb.prototype,{validate_lverts:function(){this.zip_lverts&&(this.zip_lverts=!1,2<this.lverts.length&&(this.validate_area_inertia(),0>this.area&&(this.reverse_vertices(),this.area=-this.area)))},reverse_vertices:function(){this.lverts.reverse();this.gverts.reverse();this.edges.reverse();var a=this.edges.iterator_at(this.edgeCnt-1),b=this.edges.pop_unsafe();this.edges.insert(a,b);this.reverse_flag=!this.reverse_flag;null!=this.wrap_lverts&&(this.wrap_lverts.zpp_inner.reverse_flag=this.reverse_flag);null!=this.wrap_gverts&&(this.wrap_gverts.zpp_inner.reverse_flag=this.reverse_flag);null!=this.wrap_edges&&(this.wrap_edges.zpp_inner.reverse_flag=this.reverse_flag)},validate_laxi:function(){if(this.zip_laxi){this.zip_laxi=!1;this.validate_lverts();for(var a=this.edges.head,b=this.lverts.next,c=b,b=b.next;null!=b;){var e=b,d=a.elt,a=a.next;d.lp0=c;d.lp1=e;var f=0,g=0,f=c.x-e.x,g=c.y-e.y,h=Math.sqrt(f*f+g*g);d.length=h;h=1/h;f*=h;g*=h;h=f;f=-g;g=h;d.lprojection=f*c.x+g*c.y;d.lnormx=f;d.lnormy=g;null!=d.wrap_lnorm&&(d.wrap_lnorm.zpp_inner.x=f,d.wrap_lnorm.zpp_inner.y=g);c=e;b=b.next}d=this.lverts.next;a=a.elt;a.lp0=c;a.lp1=d;e=b=0;b=c.x-d.x;e=c.y-d.y;d=Math.sqrt(b*b+e*e);a.length=d;d=1/d;f=b*d;b=-(e*d);e=f;a.lprojection=b*c.x+e*c.y;a.lnormx=b;a.lnormy=e;null!=a.wrap_lnorm&&(a.wrap_lnorm.zpp_inner.x=b,a.wrap_lnorm.zpp_inner.y=e)}},validate_gverts:function(){if(this.zip_gverts&&null!=this.body){this.zip_gverts=!1;this.validate_lverts();this.body.validate_axis();for(var a=this.lverts.next,b=this.gverts.next;null!=b;){var c=b,d=a,a=a.next;c.x=this.body.posx+(this.body.axisy*d.x-this.body.axisx*d.y);c.y=this.body.posy+(d.x*this.body.axisx+d.y*this.body.axisy);b=b.next}}},validate_gaxi:function(){if(this.zip_gaxi&&null!=this.body){this.zip_gaxi=!1;this.validate_laxi();this.body.validate_axis();this.validate_gverts();for(var a=this.edges.head,b=this.gverts.next,c=b,b=b.next;null!=b;){var d=b,f=a.elt,a=a.next;f.gp0=c;f.gp1=d;f.gnormx=this.body.axisy*f.lnormx-this.body.axisx*f.lnormy;f.gnormy=f.lnormx*this.body.axisx+f.lnormy*this.body.axisy;f.gprojection=this.body.posx*f.gnormx+this.body.posy*f.gnormy+f.lprojection;null!=f.wrap_gnorm&&(f.wrap_gnorm.zpp_inner.x=f.gnormx,f.wrap_gnorm.zpp_inner.y=f.gnormy);f.tp0=f.gp0.y*f.gnormx-f.gp0.x*f.gnormy;f.tp1=f.gp1.y*f.gnormx-f.gp1.x*f.gnormy;c=d;b=b.next}b=this.gverts.next;a=a.elt;a.gp0=c;a.gp1=b;a.gnormx=this.body.axisy*a.lnormx-this.body.axisx*a.lnormy;a.gnormy=a.lnormx*this.body.axisx+a.lnormy*this.body.axisy;a.gprojection=this.body.posx*a.gnormx+this.body.posy*a.gnormy+a.lprojection;null!=a.wrap_gnorm&&(a.wrap_gnorm.zpp_inner.x=a.gnormx,a.wrap_gnorm.zpp_inner.y=a.gnormy);a.tp0=a.gp0.y*a.gnormx-a.gp0.x*a.gnormy;a.tp1=a.gp1.y*a.gnormx-a.gp1.x*a.gnormy}},__validate_area_inertia:function(){if(null==this.lverts.next||null==this.lverts.next.next||null==this.lverts.next.next.next)this.inertia=this.area=0;else{for(var a=this.area=0,b=0,c=this.lverts.next,d=c,f=c=c.next,c=c.next;null!=c;){var g=c,h=f.y*d.x-f.x*d.y,a=a+h*(f.x*f.x+f.y*f.y+(f.x*d.x+f.y*d.y)+(d.x*d.x+d.y*d.y)),b=b+h;this.area+=f.x*(g.y-d.y);d=f;f=g;c=c.next}h=c=this.lverts.next;g=f.y*d.x-f.x*d.y;a+=g*(f.x*f.x+f.y*f.y+(f.x*d.x+f.y*d.y)+(d.x*d.x+d.y*d.y));this.area+=f.x*(h.y-d.y);d=f;f=h;c=c.next;h=f.y*d.x-f.x*d.y;a+=h*(f.x*f.x+f.y*f.y+(f.x*d.x+f.y*d.y)+(d.x*d.x+d.y*d.y));this.area+=f.x*(c.y-d.y);this.inertia=a/(6*(b+g+h));this.area*=0.5;0>this.area&&(this.area=-this.area,this.reverse_vertices())}},__class__:Ye});var Uf=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};f["zpp_nape.util.ZNPList_ZPP_Shape"]=Uf;Uf.__name__=["zpp_nape","util","ZNPList_ZPP_Shape"];Uf.prototype={iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},__class__:Uf};var Vf=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};f["zpp_nape.util.ZNPList_ZPP_Body"]=Vf;Vf.__name__=["zpp_nape","util","ZNPList_ZPP_Body"];Vf.prototype={iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},__class__:Vf};var Wf=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};f["zpp_nape.util.ZNPList_ZPP_Compound"]=Wf;Wf.__name__=["zpp_nape","util","ZNPList_ZPP_Compound"];Wf.prototype={iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},__class__:Wf};var Xf=function(){this.modified=this.pushmod=!1;this.head=null};f["zpp_nape.util.ZNPList_ZPP_Arbiter"]=Xf;Xf.__name__=["zpp_nape","util","ZNPList_ZPP_Arbiter"];Xf.prototype={__class__:Xf};var Yf=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};f["zpp_nape.util.ZNPList_ZPP_Edge"]=Yf;Yf.__name__=["zpp_nape","util","ZNPList_ZPP_Edge"];Yf.prototype={insert:function(a,b){return this.inlined_insert(a,b)},inlined_insert:function(a,b){var c;null==tb.zpp_pool?c=new tb:(c=tb.zpp_pool,tb.zpp_pool=c.next,c.next=null);null;c.elt=b;null==a?(c.next=this.head,this.head=c):(c.next=a.next,a.next=c);this.pushmod=this.modified=!0;this.length++;return c},pop:function(){this.inlined_pop()},inlined_pop:function(){var a=this.head;this.head=a.next;a.elt=null;a.next=tb.zpp_pool;tb.zpp_pool=a;null==this.head&&(this.pushmod=!0);this.modified=!0;this.length--},pop_unsafe:function(){return this.inlined_pop_unsafe()},inlined_pop_unsafe:function(){var a=this.head.elt;this.pop();return a},reverse:function(){for(var a=this.head,b=null;null!=a;){var c=a.next;a.next=b;b=this.head=a;a=c}this.pushmod=this.modified=!0},iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},__class__:Yf};var Zf=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};f["zpp_nape.util.ZNPList_ZPP_Listener"]=Zf;Zf.__name__=["zpp_nape","util","ZNPList_ZPP_Listener"];Zf.prototype={iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},__class__:Zf};var $f=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};f["zpp_nape.util.ZNPList_ZPP_InteractionGroup"]=$f;$f.__name__=["zpp_nape","util","ZNPList_ZPP_InteractionGroup"];$f.prototype={iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},__class__:$f};var ag=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};f["zpp_nape.util.ZNPList_ConvexResult"]=ag;ag.__name__=["zpp_nape","util","ZNPList_ConvexResult"];ag.prototype={iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},__class__:ag};var bg=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};f["zpp_nape.util.ZNPList_ZPP_GeomPoly"]=bg;bg.__name__=["zpp_nape","util","ZNPList_ZPP_GeomPoly"];bg.prototype={iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},__class__:bg};var cg=function(){this.length=0;this.modified=this.pushmod=!1;this.head=null};f["zpp_nape.util.ZNPList_RayResult"]=cg;cg.__name__=["zpp_nape","util","ZNPList_RayResult"];cg.prototype={iterator_at:function(a){for(var b=this.head;0<a--&&null!=b;)b=b.next;return b},__class__:cg};var dg=function(){this.next=this.elt=null};f["zpp_nape.util.ZNPNode_ZPP_CbType"]=dg;dg.__name__=["zpp_nape","util","ZNPNode_ZPP_CbType"];dg.prototype={__class__:dg};var eg=function(){this.next=this.elt=null};f["zpp_nape.util.ZNPNode_ZPP_Shape"]=eg;eg.__name__=["zpp_nape","util","ZNPNode_ZPP_Shape"];eg.prototype={__class__:eg};var fg=function(){this.next=this.elt=null};f["zpp_nape.util.ZNPNode_ZPP_Body"]=fg;fg.__name__=["zpp_nape","util","ZNPNode_ZPP_Body"];fg.prototype={__class__:fg};var gg=function(){this.next=this.elt=null};f["zpp_nape.util.ZNPNode_ZPP_Constraint"]=gg;gg.__name__=["zpp_nape","util","ZNPNode_ZPP_Constraint"];gg.prototype={__class__:gg};var hg=function(){this.next=this.elt=null};f["zpp_nape.util.ZNPNode_ZPP_Compound"]=hg;hg.__name__=["zpp_nape","util","ZNPNode_ZPP_Compound"];hg.prototype={__class__:hg};var ig=function(){this.next=this.elt=null};f["zpp_nape.util.ZNPNode_ZPP_Arbiter"]=ig;ig.__name__=["zpp_nape","util","ZNPNode_ZPP_Arbiter"];ig.prototype={__class__:ig};var jg=function(){this.next=this.elt=null};f["zpp_nape.util.ZNPNode_ZPP_Interactor"]=jg;jg.__name__=["zpp_nape","util","ZNPNode_ZPP_Interactor"];jg.prototype={__class__:jg};var kg=function(){this.next=this.elt=null};f["zpp_nape.util.ZNPNode_ZPP_Vec2"]=kg;kg.__name__=["zpp_nape","util","ZNPNode_ZPP_Vec2"];kg.prototype={__class__:kg};var tb=function(){this.next=this.elt=null};f["zpp_nape.util.ZNPNode_ZPP_Edge"]=tb;tb.__name__=["zpp_nape","util","ZNPNode_ZPP_Edge"];tb.prototype={__class__:tb};var lg=function(){this.next=this.elt=null};f["zpp_nape.util.ZNPNode_ZPP_Listener"]=lg;lg.__name__=["zpp_nape","util","ZNPNode_ZPP_Listener"];lg.prototype={__class__:lg};var mg=function(){this.next=this.elt=null};f["zpp_nape.util.ZNPNode_ZPP_InteractionGroup"]=mg;mg.__name__=["zpp_nape","util","ZNPNode_ZPP_InteractionGroup"];mg.prototype={__class__:mg};var ng=function(){this.next=this.elt=null};f["zpp_nape.util.ZNPNode_ConvexResult"]=ng;ng.__name__=["zpp_nape","util","ZNPNode_ConvexResult"];ng.prototype={__class__:ng};var og=function(){this.next=this.elt=null};f["zpp_nape.util.ZNPNode_ZPP_GeomPoly"]=og;og.__name__=["zpp_nape","util","ZNPNode_ZPP_GeomPoly"];og.prototype={__class__:og};var pg=function(){this.next=this.elt=null};f["zpp_nape.util.ZNPNode_RayResult"]=pg;pg.__name__=["zpp_nape","util","ZNPNode_RayResult"];pg.prototype={__class__:pg};var oc=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.reverse_flag=!1;this._validate=null;this._invalidated=!1;this.inner=null};f["zpp_nape.util.ZPP_ConstraintList"]=oc;oc.__name__=["zpp_nape","util","ZPP_ConstraintList"];oc.prototype={valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},__class__:oc};var yc=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.reverse_flag=!1;this._validate=null;this._invalidated=!1;this.inner=null};f["zpp_nape.util.ZPP_BodyList"]=yc;yc.__name__=["zpp_nape","util","ZPP_BodyList"];yc.prototype={valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},__class__:yc};var Cc=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.reverse_flag=!1;this._validate=null;this._invalidated=!1;this.inner=null};f["zpp_nape.util.ZPP_InteractorList"]=Cc;Cc.__name__=["zpp_nape","util","ZPP_InteractorList"];Cc.prototype={valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},__class__:Cc};var Ac=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.reverse_flag=!1;this._validate=null;this._invalidated=!1;this.inner=null};f["zpp_nape.util.ZPP_CompoundList"]=Ac;Ac.__name__=["zpp_nape","util","ZPP_CompoundList"];Ac.prototype={valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},__class__:Ac};var nc=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.reverse_flag=!1;this._validate=null;this._invalidated=!1;this.inner=null};f["zpp_nape.util.ZPP_ListenerList"]=nc;nc.__name__=["zpp_nape","util","ZPP_ListenerList"];nc.prototype={valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},__class__:nc};var ib=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.reverse_flag=!1;this._validate=null;this.immutable=this._invalidated=!1;this.outer=this.inner=null;this.inner=new Re;this._invalidated=!0};f["zpp_nape.util.ZPP_CbTypeList"]=ib;ib.__name__=["zpp_nape","util","ZPP_CbTypeList"];ib.get=function(a,b){null==b&&(b=!1);var c=new ve;c.zpp_inner.inner=a;b&&(c.zpp_inner.immutable=!0);c.zpp_inner.zip_length=!0;return c};ib.prototype={valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},__class__:ib};var wc=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.reverse_flag=!1;this._validate=null;this._invalidated=!1;this.inner=null};f["zpp_nape.util.ZPP_Vec2List"]=wc;wc.__name__=["zpp_nape","util","ZPP_Vec2List"];wc.prototype={valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},__class__:wc};var uc=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.reverse_flag=!1;this._validate=null;this._invalidated=!1;this.inner=null};f["zpp_nape.util.ZPP_GeomPolyList"]=uc;uc.__name__=["zpp_nape","util","ZPP_GeomPolyList"];uc.prototype={valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},__class__:uc};var vc=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.reverse_flag=!1;this._validate=null;this._invalidated=!1;this.inner=null};f["zpp_nape.util.ZPP_RayResultList"]=vc;vc.__name__=["zpp_nape","util","ZPP_RayResultList"];vc.prototype={valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},__class__:vc};var tc=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.reverse_flag=!1;this._validate=null;this._invalidated=!1;this.inner=null};f["zpp_nape.util.ZPP_ConvexResultList"]=tc;tc.__name__=["zpp_nape","util","ZPP_ConvexResultList"];tc.prototype={valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},__class__:tc};var Dc=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.reverse_flag=!1;this._validate=null;this._invalidated=!1;this.inner=null};f["zpp_nape.util.ZPP_EdgeList"]=Dc;Dc.__name__=["zpp_nape","util","ZPP_EdgeList"];Dc.prototype={valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},__class__:Dc};var Ec=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.reverse_flag=!1;this._validate=null;this._invalidated=!1;this.inner=null};f["zpp_nape.util.ZPP_ShapeList"]=Ec;Ec.__name__=["zpp_nape","util","ZPP_ShapeList"];Ec.prototype={valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},__class__:Ec};var sc=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.reverse_flag=!1;this._validate=null;this._invalidated=!1;this.inner=null};f["zpp_nape.util.ZPP_InteractionGroupList"]=sc;sc.__name__=["zpp_nape","util","ZPP_InteractionGroupList"];sc.prototype={valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},__class__:sc};var pc=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.reverse_flag=!1;this._validate=null;this._invalidated=!1;this.inner=null};f["zpp_nape.util.ZPP_ArbiterList"]=pc;pc.__name__=["zpp_nape","util","ZPP_ArbiterList"];pc.prototype={valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},__class__:pc};var rc=function(){this.user_length=0;this.zip_length=!1;this.at_ite=this.push_ite=null;this.at_index=0;this.reverse_flag=!1;this._validate=null;this._invalidated=!1;this.inner=null};f["zpp_nape.util.ZPP_ContactList"]=rc;rc.__name__=["zpp_nape","util","ZPP_ContactList"];rc.prototype={valmod:function(){this.validate();this.inner.modified&&(this.inner.pushmod&&(this.push_ite=null),this.at_ite=null,this.inner.modified=!1,this.inner.pushmod=!1,this.zip_length=!0)},validate:function(){this._invalidated&&(this._invalidated=!1,null!=this._validate&&this._validate())},__class__:rc};var vg=0;f.Math=Math;String.prototype.__class__=f.String=String;String.__name__=["String"];f.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=f.Date=Date;Date.__name__=["Date"];var xg=f.Int={__name__:["Int"]},yg=f.Dynamic={__name__:["Dynamic"]},tg=f.Float=Number;tg.__name__=["Float"];var ug=f.Bool=Boolean;ug.__ename__=["Bool"];var rg=f.Class={__name__:["Class"]},sg={},Ib={},cf=Function("return typeof ArrayBuffer != 'undefined' ? ArrayBuffer : null")()||Ma;null==cf.prototype.slice&&(cf.prototype.slice=Ma.sliceImpl);var wg=Function("return typeof DataView != 'undefined' ? DataView : null")()||se,qg=Function("return typeof Uint8Array != 'undefined' ? Uint8Array : null")()||pb._new;q.Element=0;q.PCData=1;q.CData=2;q.Comment=3;q.DocType=4;q.ProcessingInstruction=5;q.Document=6;I._scratchPoint=new fb;wb.fontModified=!1;n.isEventsTraceOnly=!1;n.apiURLPrefix="http://tools.funtomic.com/";n.gameOpsVersion="0.7.1";n.apiEventsLocation="v2/events/";n.status=va.UNINITIALIZED;n.MAX_SAVED_UNSENT_EVENTS=1E3;n.localStorage={};n.firstSession=!1;n.levelsNumbers=[];n.deferredReportEvents=[];n.timers={};fa.logLevel=0;K._prefix="";K._isErrorEventsSent=0;F.boardDataIdx=-1;w.lastTableuoSuccessPlacementIdx=0;w.autoCompleteInProgress=!1;w.autoFinishInProgress=!1;m.STATE_TABLEU=0;m.STATE_FREECELL=1;m.STATE_FOUNDATION=3;m.STATE_ANIMATION=4;m.firstTapSinceLoading=!0;m.firsttest=!0;bc.cardIdxGlobal1=1;i.cardNameArray="clubs02,clubs03,clubs04,clubs05,clubs06,clubs07,clubs08,clubs09,clubs10,clubsj,clubsq,clubsk,clubsa,diamonds2,diamonds3,diamonds4,diamonds5,diamonds6,diamonds7,diamonds8,diamonds9,diamonds10,diamondsj,diamondsq,diamondsk,diamondsa,heats2,heats3,heats4,heats5,heats6,heats7,heats8,heats9,heats10,heatsj,heatsq,heatsk,heatsa,spades2,spades3,spades4,spades5,spades6,spades7,spades8,spades9,spades10,spadesj,spadesq,spadesk,spadesa".split(",");i.SUIT_CLUBS=0;i.SUIT_DIAMONDS=1;i.SUIT_HEARTS=2;i.SUIT_SPADES=3;i.CARD_IDX_02=0;i.CARD_IDX_A=12;i.NUM_SUITS=4;i.NUM_CARDS_PER_SUIT=13;da.currentFoundIdx=-1;da.currentCardAnimationCounter=0;da.inProgress=!1;da.endAnimation=!1;A.WIDTH=800;A.HEIGHT=600;A.SMALL_DEVICE_MODE=!1;A.WebAudioSupported=!1;A.MOBILE_BROWSER=!0;A.CARD_X_DELTA_TABLEU=80;A.CARD_X_DELTA_FREECELL=71;A.CARD_X_INITIAL_FREECELL=100;A.CARD_X_INITIAL_FOUNDATION_DELTA=98;A.GAME_TIME=600;j.drawCardNum=1;j.gameNumber=164;j.gameWonThisSession=0;j.gamePlayedThisSession=0;h.LanguageAbbrevations="EN,NL,FR,DE,IT,PL".split(",");h.PLAY_SHORT="Play,STARTEN,JOUER,Spielen,Jugar,Jucati".split(",");h.HOW_TO_PLAY_FULL=["The goal in this Solitaire game is to move all the cards to the four empty stacks in order from ace to king. You can choose to deal 1 card at a time or 3."];h.DRAW_1_CARD=["DRAW 1 CARD"];h.DRAW_3_CARDS=["DRAW 3 CARDS"];h.HOW_TO_PLAY=["HOW TO PLAY"];h.YOU_WIN=["YOU WIN!"];h.BONUS=["BONUS: "];h.SCORE=["SCORE: "];h.TOTAL=["TOTAL: "];h.GAME_OVER=["YOU LOST!"];k.backgroundState2=!1;t.currentScore=0;t.gameStartedStamp=0;t.currentSeconds=0;t.gameInProgress=!1;t.skipScoreManage=!1;t.baseScore=0;D.allowNextScreen=!1;D.mobileBrowser=!1;G.allSoundArrayNames="SOUNDS/click,SOUNDS/beep,SOUNDS/counter-points,SOUNDS/dealcards,SOUNDS/lost,SOUNDS/grabcard,SOUNDS/invalid,SOUNDS/valid,SOUNDS/won,SOUNDS/fail,SOUNDS/dealcards1".split(",");G.MAX_CACHED=[2,2,2,1,1,4,1,4,2,3,3,2,2,4,4,4];G.canPlayInvalid=!0;G.canPlayDeal=!0;Bb.soundFlag=!0;wa.isAvailable=!1;U.active=!1;ca.promptActive=!1;mb.instance=new mb;ga.DISPATCHING_SENTINEL=new Sb(null,null);l.root=new L;l.uncaughtError=new W;l.hidden=new ra(!1);l.volume=new $(1);l._platform=mb.instance;l._calledInit=!1;ta.__meta__={obj:{assets:[{bootstrap:[{bytes:1588,md5:"22f3fc46871a8180156d11bf297e75d7",name:"game_bg_hd.png"},{bytes:7967,md5:"05c887204da7c3889bbabd63f1a39c6a",name:"language.xml"},{bytes:4359,md5:"813a01a6d3f20d14275265b5fef47073",name:"play.png"},{bytes:17631,md5:"8d811dad33499fb57987b9e86a283543",name:"splash.png"},{bytes:18432,md5:"ebe8dea9ca8365816924a97e2ebd58ab",name:"Thumbs.db"},{bytes:8374,md5:"2ef66164f665021e6a31e334bcf4422f",name:"TURN.png"}],hd_assets:[{bytes:88501,md5:"714eeb3f9de7608194e4747a22a08e3a",name:"black_bold_20/font.fnt"},{bytes:20996,md5:"8fadb9b6ee247af60998b220bd865f76",name:"black_bold_20/font.png"},{bytes:18831,md5:"6c3270fd1decba433b63163058664645",name:"CARDS/back1.png"},{bytes:1597,md5:"18c01b4bb9355e4273e553d86ef79253",name:"CARDS/clubs02.gif"},{bytes:1621,md5:"3a10837f50bcab7cc1d7cb9fcabb9db0",name:"CARDS/clubs03.gif"},{bytes:1656,md5:"37078e620d9743f4376cdf3aec145915",name:"CARDS/clubs04.gif"},{bytes:1673,md5:"c8f5010e7f2a9ca11e73504c6d1a2711",name:"CARDS/clubs05.gif"},{bytes:1716,md5:"ed216ab3699c7c83aaa135503dd05d21",name:"CARDS/clubs06.gif"},{bytes:1732,md5:"60b99a905dc61a1090d6bd6238c447cb",name:"CARDS/clubs07.gif"},{bytes:1765,md5:"d3d20f42011de83d7ceca9761725a080",name:"CARDS/clubs08.gif"},{bytes:1781,md5:"5ee672fae82e5eb79ff6f2868db3e032",name:"CARDS/clubs09.gif"},{bytes:1818,md5:"e17e4189b8b5f6c88efc48ff02a03bff",name:"CARDS/clubs10.gif"},{bytes:1580,md5:"112dd7a4df8f044bacad4746656b315a",name:"CARDS/clubsa.gif"},{bytes:2378,md5:"154c4fa047fd2775ae4703707a0b7a9e",name:"CARDS/clubsj.gif"},{bytes:2275,md5:"5fed45220481a8602a6b63249c6cc8ed",name:"CARDS/clubsk.gif"},{bytes:2365,md5:"3fc30e20ad18357a597dee0e0a338ead",name:"CARDS/clubsq.gif"},{bytes:1790,md5:"74f20e4f80b49541b1b1b73f00af740f",name:"CARDS/diamonds10.gif"},{bytes:1577,md5:"32b885af349e10aa007219bd59100769",name:"CARDS/diamonds2.gif"},{bytes:1597,md5:"d9a61b21f3f09d9da74cd97a7fdb14e5",name:"CARDS/diamonds3.gif"},{bytes:1636,md5:"cf74da7475fb30d5569b3ea93e7cd212",name:"CARDS/diamonds4.gif"},{bytes:1655,md5:"bd94a431392811c9da1ca41a1627d067",name:"CARDS/diamonds5.gif"},{bytes:1675,md5:"ed74b2a3b44c87928fbf4727c069faf7",name:"CARDS/diamonds6.gif"},{bytes:1693,md5:"20c7409c5f38c0998a01bd5fe0519213",name:"CARDS/diamonds7.gif"},{bytes:1727,md5:"247cfc9f46288b0bc43e8165cc85f1ce",name:"CARDS/diamonds8.gif"},{bytes:1742,md5:"d9ea15af74a771b97aa6ec1bf76cba2b",name:"CARDS/diamonds9.gif"},{bytes:1571,md5:"e6f97ca3a89fdd6f3ef62835dfb92645",name:"CARDS/diamondsa.gif"},{bytes:2343,md5:"ef9df29585c27970e4fde8ccbcb1e01d",name:"CARDS/diamondsj.gif"},{bytes:2363,md5:"9e8b5da8b2cf7890179dfa3ed0aacda0",name:"CARDS/diamondsk.gif"},{bytes:2368,md5:"fa8f9bcd6e48140411d3b0c6820de117",name:"CARDS/diamondsq.gif"},{bytes:1821,md5:"f7292f61f897c55ca696239b60d4ae17",name:"CARDS/heats10.gif"},{bytes:1592,md5:"77caa79fe9a4efb18be7939562660e2a",name:"CARDS/heats2.gif"},{bytes:1616,md5:"c26f46d0d95c99ce324bd3ec3af7ad64",name:"CARDS/heats3.gif"},{bytes:1656,md5:"5025a14377d31eb3364bc479fa083dc7",name:"CARDS/heats4.gif"},{bytes:1678,md5:"75e9bcb4bbe9a19270e9b3bd00c09b04",name:"CARDS/heats5.gif"},{bytes:1702,md5:"92df4c00d5dfc01f7669e9c11e808dbd",name:"CARDS/heats6.gif"},{bytes:1728,md5:"76b7644679a687fb00ffa939389125ce",name:"CARDS/heats7.gif"},{bytes:1766,md5:"111d9f3002706515a141ee15266c27a1",name:"CARDS/heats8.gif"},{bytes:1783,md5:"2b47aa759e6ae6f8d1f6388da09e3142",name:"CARDS/heats9.gif"},{bytes:1577,md5:"fe676b5d4bb02bba4fabab74040e470d",name:"CARDS/heatsa.gif"},{bytes:2381,md5:"0c3302f97d74dc0b126ce856872e9170",name:"CARDS/heatsj.gif"},{bytes:2362,md5:"215c352b8c6d7837256cda5f94e200c0",name:"CARDS/heatsk.gif"},{bytes:2388,md5:"8e3f3c9e6bf72f5e8326173045d621e8",name:"CARDS/heatsq.gif"},{bytes:1811,md5:"8b0ee81292e3ab72a0db8da79ac9d1f9",name:"CARDS/spades10.gif"},{bytes:1590,md5:"98a1d22b54a9a0afd3cc2cc14c64d7aa",name:"CARDS/spades2.gif"},{bytes:1608,md5:"88320f5660cb8392992ac0275f8228d1",name:"CARDS/spades3.gif"},{bytes:1647,md5:"945ed0850a8bb5b70c497623610f020a",name:"CARDS/spades4.gif"},{bytes:1664,md5:"5afa28a773e514460811c72e8f4c5596",name:"CARDS/spades5.gif"},{bytes:1699,md5:"bd230a020a31df526c3b9f5d0d9d2471",name:"CARDS/spades6.gif"},{bytes:1718,md5:"f519a129f1263725b2ddece703269b28",name:"CARDS/spades7.gif"},{bytes:1752,md5:"43f4eb4a734faa87eea846a09a7e6e99",name:"CARDS/spades8.gif"},{bytes:1772,md5:"c6f736f86483e88ceeb88526caebb8bf",name:"CARDS/spades9.gif"},{bytes:1706,md5:"b2e68c085bf71e0cdf69460c35055b7f",name:"CARDS/spadesa.gif"},{bytes:2295,md5:"7917e53e55c4ab7082f3b8edfb4477ad",name:"CARDS/spadesj.gif"},{bytes:2263,md5:"eeb0a795bc1c0994d238ceb65f2c5a6a",name:"CARDS/spadesk.gif"},{bytes:2348,md5:"807333cde0ed8e436c383e7d98c806a3",name:"CARDS/spadesq.gif"},{bytes:23059,md5:"bbfe465618bef6b8b2f73e1f622544f6",name:"font_black_15_bold/font.fnt"},{bytes:18555,md5:"0be0113ededc6cec6f2fcc8835287c90",name:"font_black_15_bold/font.png"},{bytes:25588,md5:"6b103d9f4252a22614e11b110bfcab25",name:"font_black_15_regular/font.fnt"},{bytes:16988,md5:"410eecb5d394d23d932cfdea235e9aed",name:"font_black_15_regular/font.png"},{bytes:23310,md5:"241488f7d6d0487cba731d95ffe4b790",name:"font_black_24_bold/font.fnt"},{bytes:28685,md5:"b6293db3692baf470e8b1d5ccc2a8c02",name:"font_black_24_bold/font.png"},{bytes:28672,md5:"07f2595d571df758bc78a83c48956c05",name:"font_black_24_bold/Thumbs.db"},{bytes:23412,md5:"daa67037c483b50424de15eed52422e2",name:"font_black_24_regular/font.fnt"},{bytes:29096,md5:"48633913d15158d7124f763553213dd3",name:"font_black_24_regular/font.png"},{bytes:1308,md5:"505906c343888c31d393623e01f2740b",name:"font_digits/font.fnt"},{bytes:1501,md5:"20f36d47eac2735d57afcf63d4e9e50b",name:"font_digits/font.png"},{bytes:4608,md5:"bd3db343916170c9471ccce528f66b27",name:"font_digits/Thumbs.db"},{bytes:25042,md5:"b1dd3fc8922f22d516cf186bbd40a73b",name:"font_grey_15_regular/font.fnt"},{bytes:11445,md5:"fc78b1c43f68349f4325d8567d20bd33",name:"font_grey_15_regular/font.png"},{bytes:10714,md5:"da26adf4cc7f3e97abd63685120fdcfd",name:"font_white_24_bold/font.fnt"},{bytes:6952,md5:"dd8ef79da390c4927cb35fb79220fd05",name:"font_white_24_bold/font.png"},{bytes:1588,md5:"22f3fc46871a8180156d11bf297e75d7",name:"game_bg_hd.png"},{bytes:455,md5:"61f6aed10ac80898c3964ae9beb2cae0",name:"inverted/clubs02.gif"},{bytes:479,md5:"2958f7deeb7de6cd18fb15f02f959612",name:"inverted/clubs03.gif"},{bytes:514,md5:"a332088283962c61e17e2262d3a96c6f",name:"inverted/clubs04.gif"},{bytes:531,md5:"cdd0056c1ed64aa437dd19f9abe505a8",name:"inverted/clubs05.gif"},{bytes:574,md5:"12b9366a0f95f7e8c534c7c9ede358f7",name:"inverted/clubs06.gif"},{bytes:590,md5:"b455a730047b154292c5ef52c60e6928",name:"inverted/clubs07.gif"},{bytes:623,md5:"26ae68326151f893e160751298971fc3",name:"inverted/clubs08.gif"},{bytes:639,md5:"07914fdfbf78ee19c4c41f5bba7b367b",name:"inverted/clubs09.gif"},{bytes:676,md5:"6ec127d9b194a654f95a1253cbee8b00",name:"inverted/clubs10.gif"},{bytes:438,md5:"fc24c96c50d1ed70814cc9c149cf3d59",name:"inverted/clubsa.gif"},{bytes:1236,md5:"cca38b25e562157cdde82320f92810c2",name:"inverted/clubsj.gif"},{bytes:1133,md5:"890172a125456600b474c701edfc1b98",name:"inverted/clubsk.gif"},{bytes:1223,md5:"44c3c649bb4381d287eaa73c21a6f168",name:"inverted/clubsq.gif"},{bytes:648,md5:"5785916eedc46859134dd8a7d814b146",name:"inverted/diamonds10.gif"},{bytes:435,md5:"728d56881d03f6388c67312cb959bbd8",name:"inverted/diamonds2.gif"},{bytes:455,md5:"24dafbe692638c957a3c35561489f635",name:"inverted/diamonds3.gif"},{bytes:494,md5:"9684b05c3af8fed3f8574c9a05a358c1",name:"inverted/diamonds4.gif"},{bytes:513,md5:"9dd47e4bc43a64fe7c1c86e94894d0f0",name:"inverted/diamonds5.gif"},{bytes:533,md5:"d43925f53772d820193e48c2d90c8288",name:"inverted/diamonds6.gif"},{bytes:551,md5:"7876ad4af480ea2091fb2fc10f5b8cd1",name:"inverted/diamonds7.gif"},{bytes:585,md5:"9c04926fcce8fb062e293076961131c1",name:"inverted/diamonds8.gif"},{bytes:600,md5:"71449460598f0488a291fa0b24b12c46",name:"inverted/diamonds9.gif"},{bytes:429,md5:"e15e6cc2393b30f6d7653fdb7df81624",name:"inverted/diamondsa.gif"},{bytes:1201,md5:"e8dc4674b2ac13ff394dfc84230a2124",name:"inverted/diamondsj.gif"},{bytes:1221,md5:"b81e18697f6a557bb801ba14567b2f94",name:"inverted/diamondsk.gif"},{bytes:1226,md5:"63e4a5ca15d33bc8825b152ba55b1e25",name:"inverted/diamondsq.gif"},{bytes:679,md5:"3ff3e32d23044903a7e840596533ed6c",name:"inverted/heats10.gif"},{bytes:450,md5:"022c0f159826f060ee1a4c5f5f830783",name:"inverted/heats2.gif"},{bytes:474,md5:"3c4510cba8add3da5e7e2398886bf5f5",name:"inverted/heats3.gif"},{bytes:514,md5:"e673a19a1abd34c57cfbc51ac87eaaf1",name:"inverted/heats4.gif"},{bytes:536,md5:"f0ef4be7d650e61a06675c64ed287753",name:"inverted/heats5.gif"},{bytes:560,md5:"93f17300a82620bd247d50d3f88afd38",name:"inverted/heats6.gif"},{bytes:586,md5:"96327309da5d56831bbe4f2afeb9d5a9",name:"inverted/heats7.gif"},{bytes:624,md5:"81209dfb61372494c481f81a78d85983",name:"inverted/heats8.gif"},{bytes:641,md5:"d5514d4fd7547537956a84a57ec2ef9d",name:"inverted/heats9.gif"},{bytes:435,md5:"57964c02c41266a3c82f9af1c3ec20e6",name:"inverted/heatsa.gif"},{bytes:1239,md5:"56d885e95b268f3452f36b6152fbd971",name:"inverted/heatsj.gif"},{bytes:1220,md5:"81af0a0d13a693f24bdcf31281dc4044",name:"inverted/heatsk.gif"},{bytes:1246,md5:"57795c0416f3857de38145bdc7ff3406",name:"inverted/heatsq.gif"},{bytes:669,md5:"c56e752da62282b3ee1bb60793c8373e",name:"inverted/spades10.gif"},{bytes:448,md5:"b5142a3949786fc687359c993787910b",name:"inverted/spades2.gif"},{bytes:466,md5:"ae7aeb9abcdaaf6c37fda263e4f20175",name:"inverted/spades3.gif"},{bytes:505,md5:"c7d9c62bed778d6c60f1cadd5fcb6f54",name:"inverted/spades4.gif"},{bytes:522,md5:"fab603eccbca9ec085e20d7aac1e5179",name:"inverted/spades5.gif"},{bytes:557,md5:"ab9186253b5e361e917ddabf1ab11339",name:"inverted/spades6.gif"},{bytes:576,md5:"ccdf9706d3953472a5bee45853a7434e",name:"inverted/spades7.gif"},{bytes:610,md5:"116035269a9b8757ac5d1659ea31b000",name:"inverted/spades8.gif"},{bytes:630,md5:"6cc222c2e84cc6a3fc39b1404c60bd5f",name:"inverted/spades9.gif"},{bytes:564,md5:"2ff6a7a66e0297852cedfd3c86bbb794",name:"inverted/spadesa.gif"},{bytes:1153,md5:"59b3b75c401d8278bf8e59277e4faa6b",name:"inverted/spadesj.gif"},{bytes:1121,md5:"464d5ac7ddb9af5a081b517b99a8543d",name:"inverted/spadesk.gif"},{bytes:1206,md5:"a778e53c1e62f5f319306f46e074ff59",name:"inverted/spadesq.gif"},{bytes:252,md5:"30dfc00169fbb4e13c666a98860a3e54",name:"keyboard/keyboard_bg.png"},{bytes:151,md5:"76c2297d799c13e3f73147d35af47e1c",name:"keyboard/keyboard_button.png"},{bytes:403,md5:"eb71a411eb998a18c872b4b84dd6f0de",name:"keyboard/keyboard_button_delete.png"},{bytes:389,md5:"093b761eb74a7dd751bbd7cba680c138",name:"keyboard/keyboard_button_delete_mouseover.png"},{bytes:151,md5:"4f4ef592c55ca153d6d62f79a44bbe54",name:"keyboard/keyboard_button_mouseover.png"},{bytes:555,md5:"8ef0a028a98b70785aa585b05cfb80f3",name:"keyboard/prompt_button_enter.png"},{bytes:558,md5:"d3cbe612ce2af70cf32bcbb05f35edb9",name:"keyboard/prompt_button_enter_mouseover.png"},{bytes:2352,md5:"3e1d7cb22a30e8d5b9e2ca236927c404",name:"king.png"},{bytes:8374,md5:"2ef66164f665021e6a31e334bcf4422f",name:"TURN.png"},{bytes:2657,md5:"3a551ed2345897e8bc79e87fc3776f89",name:"ui/game_button_menu.png"},{bytes:2531,md5:"063df7ed2b336e9a4e8d85d142c72671",name:"ui/game_button_menu_mouseover.png"},{bytes:376,md5:"b87e32850c0738760fecb12abf94ed4e",name:"ui/game_mascot_leftlooking.png"},{bytes:377,md5:"e5271cd21db0759b2cd5e3f974a410b5",name:"ui/game_mascot_rightlooking.png"},{bytes:1051,md5:"e70c15440878a473609d364891740ff8",name:"ui/game_menu_icon.png"},{bytes:149,md5:"6c5b83c05fb21571b54570e7689c5387",name:"ui/prompt_button.png"},{bytes:149,md5:"5c52022ac5954f5131b10dda41fa4632",name:"ui/prompt_button_over.png"},{bytes:311,md5:"585e0653d018e48afa0fe253cb741e77",name:"ui/prompt_checkbox_checked.png"},{bytes:133,md5:"9c008a193374b7486a58f3eb16b8c9a3",name:"ui/prompt_checkbox_unchecked.png"},{bytes:149,md5:"71bce8c2166c67bf97f6aa8c045c0e03",name:"ui/prompt_selectgame_input.png"},{bytes:1541,md5:"3a76ceaac138135b47e1db9414a60882",name:"ui/promt_large_bg.png"},{bytes:1144,md5:"c846893212a3d85628e2659734538734",name:"ui/promt_small_bg.png"}]}]}};ta._supportsCrossOrigin=function(){var a;a=0<=window.navigator.userAgent.indexOf("Linux; U; Android")?!1:null!=(new XMLHttpRequest).withCredentials;a||null;return a}();xa.NEWLINE=new gd(10);Da._sharedEvent=new Wd;sa._sharedEvent=new Xd;ka._sharedEvent=new Yd;Rb.CANVAS_TEXTURES=(new Ga("(iPhone|iPod|iPad)","")).match(window.navigator.userAgent);Q._mediaRefCount=0;Q._detectBlobSupport=!0;C.VENDOR_PREFIXES=["webkit","moz","ms","o","khtml"];C.SHOULD_HIDE_MOBILE_BROWSER=window.top==window&&(new Ga("Mobile(/.*)? Safari","")).match(window.navigator.userAgent);R._detectSupport=!0;Ia.USE_CACHE=!1;Ia.USE_ENUM_INDEX=!1;Ia.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";ja.DEFAULT_RESOLVER=Z;ja.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";Jb.count=0;La.i64tmp=new me(0,0);jb.escapes=function(){var a=new qa;null!=Ib.lt?a.setReserved("lt","<"):a.h.lt="<";null!=Ib.gt?a.setReserved("gt",">"):a.h.gt=">";null!=Ib.amp?a.setReserved("amp","&"):a.h.amp="&";null!=Ib.quot?a.setReserved("quot",'"'):a.h.quot='"';null!=Ib.apos?a.setReserved("apos","'"):a.h.apos="'";return a}(this);S.__toStr={}.toString;pb.BYTES_PER_ELEMENT=1;Dd._CbType=0;Fa.ANY_SHAPE=new Xb;Fa.ANY_BODY=new Xb;Fa.ANY_COMPOUND=new Xb;Fa.ANY_CONSTRAINT=new Xb;g.internal=!1;ma.internal=!1;ma.COL=1;ma.FLUID=4;Fc.internal=!1;Gc.internal=!1;oc.internal=!1;yc.internal=!1;Cc.internal=!1;Ac.internal=!1;nc.internal=!1;ib.internal=!1;wc.internal=!1;uc.internal=!1;vc.internal=!1;tc.internal=!1;Dc.internal=!1;Ec.internal=!1;sc.internal=!1;pc.internal=!1;rc.internal=!1;k.main()})();